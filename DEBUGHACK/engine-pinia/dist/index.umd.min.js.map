{"version":3,"file":"index.umd.min.js","mappings":"CAAA,SAA2CA,EAAMC,GAC1B,kBAAZC,SAA0C,kBAAXC,OACxCA,OAAOD,QAAUD,EAAQG,QAAQ,uBAAwBA,QAAQ,QACxC,oBAAXC,QAAyBA,OAAOC,IAC9CD,OAAO,CAAC,uBAA0BJ,GACR,kBAAZC,QACdA,QAAQ,SAAWD,EAAQG,QAAQ,uBAAwBA,QAAQ,QAEnEJ,EAAK,SAAWC,EAAQD,EAAK,UAAWA,EAAK,OAC9C,EATD,CASoB,qBAATO,KAAuBA,KAAOC,MAAO,CAACC,EAAkCC,I,sCCLnFR,EAAQ,EAAU,CAACS,EAAKC,KACpB,MAAMC,EAASF,EAAIG,WAAaH,EAChC,IAAK,MAAOI,EAAKC,KAAQJ,EACrBC,EAAOE,GAAOC,EAElB,OAAOH,CAAM,C,UCTjBV,EAAOD,QAAUO,C,UCAjBN,EAAOD,QAAUQ,C,GCCbO,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAalB,QAGrB,IAAIC,EAASc,EAAyBE,GAAY,CAGjDjB,QAAS,CAAC,GAOX,OAHAoB,EAAoBH,GAAUhB,EAAQA,EAAOD,QAASgB,GAG/Cf,EAAOD,OACf,C,MCrBAgB,EAAoBK,EAAI,CAACrB,EAASsB,KACjC,IAAI,IAAIT,KAAOS,EACXN,EAAoBO,EAAED,EAAYT,KAASG,EAAoBO,EAAEvB,EAASa,IAC5EW,OAAOC,eAAezB,EAASa,EAAK,CAAEa,YAAY,EAAMC,IAAKL,EAAWT,IAE1E,C,WCNDG,EAAoBY,EAAI,WACvB,GAA0B,kBAAfC,WAAyB,OAAOA,WAC3C,IACC,OAAOvB,MAAQ,IAAIwB,SAAS,cAAb,EAChB,CAAE,MAAOC,GACR,GAAsB,kBAAXC,OAAqB,OAAOA,MACxC,CACA,CAPuB,E,WCAxBhB,EAAoBO,EAAI,CAACU,EAAKC,IAAUV,OAAOW,UAAUC,eAAeC,KAAKJ,EAAKC,E,WCClFlB,EAAoBsB,EAAKtC,IACH,qBAAXuC,QAA0BA,OAAOC,aAC1ChB,OAAOC,eAAezB,EAASuC,OAAOC,YAAa,CAAEC,MAAO,WAE7DjB,OAAOC,eAAezB,EAAS,aAAc,CAAEyC,OAAO,GAAO,C,WCL9DzB,EAAoB0B,EAAI,E,0BCGxB,G,0KAAsB,qBAAXV,OAAwB,CACjC,IAAIW,EAAgBX,OAAOY,SAASD,cAWhCE,EAAMF,GAAiBA,EAAcE,IAAIC,MAAM,2BAC/CD,IACF,IAA0BA,EAAI,GAElC,C,aCjBI,GAAS,EAMN,SAAS,EAAIlC,EAAQE,EAAKC,GAC/B,OAAIiC,MAAMC,QAAQrC,IAChBA,EAAOsC,OAASC,KAAKC,IAAIxC,EAAOsC,OAAQpC,GACxCF,EAAOyC,OAAOvC,EAAK,EAAGC,GACfA,IAETH,EAAOE,GAAOC,EACPA,EACT,CChBO,SAASuC,IACZ,OAAOC,IAAYC,4BACvB,CACO,SAASD,IAEZ,MAA6B,qBAAdE,WAA+C,qBAAXxB,OAC7CA,OACkB,qBAAX,EAAAJ,EACH,EAAAA,EACA,CAAC,CACf,CACO,MAAM6B,EAAoC,oBAAVC,MCX1BC,EAAa,wBACbC,EAA2B,sBCDxC,IAAIC,EACAC,ECWAC,EDVG,SAASC,IACZ,IAAIC,EACJ,YAAkB9C,IAAd0C,IAGkB,qBAAX7B,QAA0BA,OAAOkC,aACxCL,GAAY,EACZC,EAAO9B,OAAOkC,aAES,qBAAX,EAAAtC,IAAwD,QAA5BqC,EAAK,EAAArC,EAAOuC,kBAA+B,IAAPF,OAAgB,EAASA,EAAGC,cACxGL,GAAY,EACZC,EAAO,EAAAlC,EAAOuC,WAAWD,aAGzBL,GAAY,GAXLA,CAcf,CACO,SAASO,IACZ,OAAOJ,IAA2BF,EAAKM,MAAQC,KAAKD,KACxD,CEpBO,MAAME,EACT,WAAAC,CAAYC,EAAQC,GAChBnE,KAAKK,OAAS,KACdL,KAAKoE,YAAc,GACnBpE,KAAKqE,QAAU,GACfrE,KAAKkE,OAASA,EACdlE,KAAKmE,KAAOA,EACZ,MAAMG,EAAkB,CAAC,EACzB,GAAIJ,EAAOK,SACP,IAAK,MAAMC,KAAMN,EAAOK,SAAU,CAC9B,MAAME,EAAOP,EAAOK,SAASC,GAC7BF,EAAgBE,GAAMC,EAAKC,YAC/B,CAEJ,MAAMC,EAAsB,mCAAmCT,EAAOM,KACtE,IAAII,EAAkB1D,OAAO2D,OAAO,CAAC,EAAGP,GACxC,IACI,MAAMQ,EAAMC,aAAaC,QAAQL,GAC3BM,EAAOC,KAAKC,MAAML,GACxB5D,OAAO2D,OAAOD,EAAiBK,EACnC,CACA,MAAOxD,GAEP,CACAzB,KAAKoF,UAAY,CACb,WAAAC,GACI,OAAOT,CACX,EACA,WAAAU,CAAYnD,GACR,IACI4C,aAAaQ,QAAQZ,EAAqBO,KAAKM,UAAUrD,GAC7D,CACA,MAAOV,GAEP,CACAmD,EAAkBzC,CACtB,EACA,GAAA2B,GACI,OAAOA,GACX,GAEAK,GACAA,EAAKsB,GAAGnC,GAA0B,CAACoC,EAAUvD,KACrCuD,IAAa1F,KAAKkE,OAAOM,IACzBxE,KAAKoF,UAAUE,YAAYnD,EAC/B,IAGRnC,KAAK2F,UAAY,IAAIvC,MAAM,CAAC,EAAG,CAC3B/B,IAAK,CAACuE,EAAShE,IACP5B,KAAKK,OACEL,KAAKK,OAAOoF,GAAG7D,GAGf,IAAIiE,KACP7F,KAAKqE,QAAQyB,KAAK,CACdC,OAAQnE,EACRiE,QACF,IAKlB7F,KAAKgG,cAAgB,IAAI5C,MAAM,CAAC,EAAG,CAC/B/B,IAAK,CAACuE,EAAShE,IACP5B,KAAKK,OACEL,KAAKK,OAAOuB,GAEL,OAATA,EACE5B,KAAK2F,UAEPzE,OAAO+E,KAAKjG,KAAKoF,WAAWc,SAAStE,GACnC,IAAIiE,KACP7F,KAAKoE,YAAY0B,KAAK,CAClBC,OAAQnE,EACRiE,OACAM,QAAS,SAENnG,KAAKoF,UAAUxD,MAASiE,IAI5B,IAAIA,IACA,IAAIO,SAAQD,IACfnG,KAAKoE,YAAY0B,KAAK,CAClBC,OAAQnE,EACRiE,OACAM,WACF,KAM1B,CACA,mBAAME,CAAchG,GAChBL,KAAKK,OAASA,EACd,IAAK,MAAMoE,KAAQzE,KAAKqE,QACpBrE,KAAKK,OAAOoF,GAAGhB,EAAKsB,WAAWtB,EAAKoB,MAExC,IAAK,MAAMpB,KAAQzE,KAAKoE,YACpBK,EAAK0B,cAAcnG,KAAKK,OAAOoE,EAAKsB,WAAWtB,EAAKoB,MAE5D,ECnGG,SAASS,EAAoBC,EAAkBC,GAClD,MAAMC,EAAaF,EACblG,EAAS2C,IACTmB,EAAOpB,IACP2D,EAAcvD,GAAoBsD,EAAWE,iBACnD,IAAIxC,IAAS9D,EAAOuG,uCAA0CF,EAGzD,CACD,MAAMG,EAAQH,EAAc,IAAI1C,EAASyC,EAAYtC,GAAQ,KACvD2C,EAAOzG,EAAO0G,yBAA2B1G,EAAO0G,0BAA4B,GAClFD,EAAKhB,KAAK,CACNS,iBAAkBE,EAClBD,UACAK,UAEAA,GACAL,EAAQK,EAAMb,cACtB,MAZI7B,EAAK6C,KAAK3D,EAAYkD,EAAkBC,EAahD,CFLA,MAAMS,EAAkBC,GAAWzD,EAAcyD,EAK3CC,EAAsGlF,SAE5G,SAASmF,EAETnG,GACI,OAAQA,GACS,kBAANA,GAC+B,oBAAtCC,OAAOW,UAAUwF,SAAStF,KAAKd,IACX,oBAAbA,EAAEqG,MACjB,CAMA,IAAIC,GACJ,SAAWA,GAQPA,EAAa,UAAY,SAMzBA,EAAa,eAAiB,eAM9BA,EAAa,iBAAmB,gBAEnC,EAtBD,CAsBGA,IAAiBA,EAAe,CAAC,IAEpC,MAAMC,EAA8B,qBAAX9F,OAOnB+F,GAAe,EAYfC,EAAwB,KAAyB,kBAAXhG,QAAuBA,OAAOA,SAAWA,OAC/EA,OACgB,kBAAT3B,MAAqBA,KAAKA,OAASA,KACtCA,KACkB,kBAAX4H,QAAuBA,OAAOA,SAAWA,OAC5CA,OACsB,kBAAfpG,WACHA,WACA,CAAEqG,YAAa,MARH,GAS9B,SAASC,EAAIC,GAAM,QAAEC,GAAU,GAAU,CAAC,GAGtC,OAAIA,GACA,6EAA6EC,KAAKF,EAAKG,MAChF,IAAIC,KAAK,CAACC,OAAOC,aAAa,OAASN,GAAO,CAAEG,KAAMH,EAAKG,OAE/DH,CACX,CACA,SAASO,EAASC,EAAKC,EAAMC,GACzB,MAAMC,EAAM,IAAIC,eAChBD,EAAIE,KAAK,MAAOL,GAChBG,EAAIG,aAAe,OACnBH,EAAII,OAAS,WACTC,EAAOL,EAAIM,SAAUR,EAAMC,EAC/B,EACAC,EAAIO,QAAU,WACVC,QAAQC,MAAM,0BAClB,EACAT,EAAIU,MACR,CACA,SAASC,EAAYd,GACjB,MAAMG,EAAM,IAAIC,eAEhBD,EAAIE,KAAK,OAAQL,GAAK,GACtB,IACIG,EAAIU,MACR,CACA,MAAO1H,GAAK,CACZ,OAAOgH,EAAIY,QAAU,KAAOZ,EAAIY,QAAU,GAC9C,CAEA,SAASC,EAAMC,GACX,IACIA,EAAKC,cAAc,IAAIC,WAAW,SACtC,CACA,MAAOhI,GACH,MAAMiI,EAAMpH,SAASqH,YAAY,eACjCD,EAAIE,eAAe,SAAS,GAAM,EAAMlI,OAAQ,EAAG,EAAG,EAAG,GAAI,IAAI,GAAO,GAAO,GAAO,EAAO,EAAG,MAChG6H,EAAKC,cAAcE,EACvB,CACJ,CACA,MAAMG,EACgB,kBAAd3G,UAAyBA,UAAY,CAAE4G,UAAW,IAIpDC,EAA+B,KAAO,YAAY/B,KAAK6B,EAAWC,YACpE,cAAc9B,KAAK6B,EAAWC,aAC7B,SAAS9B,KAAK6B,EAAWC,WAFO,GAG/BhB,EAAUtB,EAGqB,qBAAtBwC,mBACH,aAAcA,kBAAkBnI,YAC/BkI,EACCE,EAEE,qBAAsBJ,EAChBK,EAEEC,EAVlB,OAWN,SAASF,EAAenC,EAAMS,EAAO,WAAYC,GAC7C,MAAM4B,EAAI9H,SAAS+H,cAAc,KACjCD,EAAE/B,SAAWE,EACb6B,EAAEE,IAAM,WAGY,kBAATxC,GAEPsC,EAAEG,KAAOzC,EACLsC,EAAEI,SAAWC,SAASD,OAClBpB,EAAYgB,EAAEG,MACdlC,EAASP,EAAMS,EAAMC,IAGrB4B,EAAE/J,OAAS,SACXiJ,EAAMc,IAIVd,EAAMc,KAKVA,EAAEG,KAAOG,IAAIC,gBAAgB7C,GAC7B8C,YAAW,WACPF,IAAIG,gBAAgBT,EAAEG,KAC1B,GAAG,KACHK,YAAW,WACPtB,EAAMc,EACV,GAAG,GAEX,CACA,SAASF,EAASpC,EAAMS,EAAO,WAAYC,GACvC,GAAoB,kBAATV,EACP,GAAIsB,EAAYtB,GACZO,EAASP,EAAMS,EAAMC,OAEpB,CACD,MAAM4B,EAAI9H,SAAS+H,cAAc,KACjCD,EAAEG,KAAOzC,EACTsC,EAAE/J,OAAS,SACXuK,YAAW,WACPtB,EAAMc,EACV,GACJ,MAIAlH,UAAU4H,iBAAiBjD,EAAIC,EAAMU,GAAOD,EAEpD,CACA,SAAS4B,EAAgBrC,EAAMS,EAAMC,EAAMuC,GAOvC,GAJAA,EAAQA,GAASpC,KAAK,GAAI,UACtBoC,IACAA,EAAMzI,SAAS0I,MAAQD,EAAMzI,SAAS2I,KAAKC,UAAY,kBAEvC,kBAATpD,EACP,OAAOO,EAASP,EAAMS,EAAMC,GAChC,MAAM2C,EAAsB,6BAAdrD,EAAKG,KACbmD,EAAW,eAAepD,KAAKG,OAAOT,EAAQE,eAAiB,WAAYF,EAC3E2D,EAAc,eAAerD,KAAK9E,UAAU4G,WAClD,IAAKuB,GAAgBF,GAASC,GAAarB,IACjB,qBAAfuB,WAA4B,CAEnC,MAAMC,EAAS,IAAID,WACnBC,EAAOC,UAAY,WACf,IAAIlD,EAAMiD,EAAOE,OACjB,GAAmB,kBAARnD,EAEP,MADAyC,EAAQ,KACF,IAAIW,MAAM,4BAEpBpD,EAAM+C,EACA/C,EACAA,EAAIqD,QAAQ,eAAgB,yBAC9BZ,EACAA,EAAMN,SAASF,KAAOjC,EAGtBmC,SAAS5F,OAAOyD,GAEpByC,EAAQ,IACZ,EACAQ,EAAOK,cAAc9D,EACzB,KACK,CACD,MAAMQ,EAAMoC,IAAIC,gBAAgB7C,GAC5BiD,EACAA,EAAMN,SAAS5F,OAAOyD,GAEtBmC,SAASF,KAAOjC,EACpByC,EAAQ,KACRH,YAAW,WACPF,IAAIG,gBAAgBvC,EACxB,GAAG,IACP,CACJ,CAQA,SAASuD,EAAaC,EAAS7D,GAC3B,MAAM8D,EAAe,MAAQD,EACS,oBAA3BE,uBAEPA,uBAAuBD,EAAc9D,GAEvB,UAATA,EACLgB,QAAQC,MAAM6C,GAEA,SAAT9D,EACLgB,QAAQgD,KAAKF,GAGb9C,QAAQiD,IAAIH,EAEpB,CACA,SAASI,EAAQlL,GACb,MAAO,OAAQA,GAAK,YAAaA,CACrC,CAMA,SAASmL,IACL,KAAM,cAAelJ,WAEjB,OADA2I,EAAa,iDAAkD,UACxD,CAEf,CACA,SAASQ,EAAqBnD,GAC1B,SAAIA,aAAiBwC,OACjBxC,EAAM4C,QAAQQ,cAAcpG,SAAS,8BACrC2F,EAAa,kGAAmG,SACzG,EAGf,CACAU,eAAeC,EAAsBtF,GACjC,IAAIkF,IAEJ,UACUlJ,UAAUuJ,UAAUC,UAAUxH,KAAKM,UAAU0B,EAAMyF,MAAMxK,QAC/D0J,EAAa,oCACjB,CACA,MAAO3C,GACH,GAAImD,EAAqBnD,GACrB,OACJ2C,EAAa,qEAAsE,SACnF5C,QAAQC,MAAMA,EAClB,CACJ,CACAqD,eAAeK,EAAuB1F,GAClC,IAAIkF,IAEJ,IACIS,EAAgB3F,EAAOhC,KAAKC,YAAYjC,UAAUuJ,UAAUK,aAC5DjB,EAAa,sCACjB,CACA,MAAO3C,GACH,GAAImD,EAAqBnD,GACrB,OACJ2C,EAAa,sFAAuF,SACpG5C,QAAQC,MAAMA,EAClB,CACJ,CACAqD,eAAeQ,EAAsB7F,GACjC,IACI4B,EAAO,IAAIZ,KAAK,CAAChD,KAAKM,UAAU0B,EAAMyF,MAAMxK,QAAS,CACjD8F,KAAM,6BACN,mBACR,CACA,MAAOiB,GACH2C,EAAa,0EAA2E,SACxF5C,QAAQC,MAAMA,EAClB,CACJ,CACA,IAAI8D,EACJ,SAASC,IAML,SAASC,IACL,OAAO,IAAI9G,SAAQ,CAACD,EAASgH,KACzBH,EAAUI,SAAWb,UACjB,MAAMc,EAAQL,EAAUK,MACxB,IAAKA,EACD,OAAOlH,EAAQ,MACnB,MAAMmH,EAAOD,EAAM5I,KAAK,GACxB,OAEO0B,EAFFmH,EAEU,CAAEC,WAAYD,EAAKC,OAAQD,QADvB,KAC8B,EAGrDN,EAAUQ,SAAW,IAAMrH,EAAQ,MACnC6G,EAAUhE,QAAUmE,EACpBH,EAAU1D,OAAO,GAEzB,CACA,OAtBK0D,IACDA,EAAY1K,SAAS+H,cAAc,SACnC2C,EAAU/E,KAAO,OACjB+E,EAAUS,OAAS,SAmBhBP,CACX,CACAX,eAAemB,EAA0BxG,GACrC,IACI,MAAMyB,EAAOsE,IACPxB,QAAe9C,IACrB,IAAK8C,EACD,OACJ,MAAM,KAAE8B,EAAI,KAAED,GAAS7B,EACvBoB,EAAgB3F,EAAOhC,KAAKC,MAAMoI,IAClC1B,EAAa,+BAA+ByB,EAAK/E,SACrD,CACA,MAAOW,GACH2C,EAAa,4EAA6E,SAC1F5C,QAAQC,MAAMA,EAClB,CACJ,CACA,SAAS2D,EAAgB3F,EAAOyF,GAC5B,IAAK,MAAMpM,KAAOoM,EAAO,CACrB,MAAMgB,EAAazG,EAAMyF,MAAMxK,MAAM5B,GACjCoN,GACAzM,OAAO2D,OAAO8I,EAAYhB,EAAMpM,GAExC,CACJ,CAEA,SAASqN,EAAcC,GACnB,MAAO,CACHC,QAAS,CACLD,WAGZ,CACA,MAAME,EAAmB,kBACnBC,EAAgB,QACtB,SAASC,EAA4BC,GACjC,OAAO/B,EAAQ+B,GACT,CACE1J,GAAIwJ,EACJG,MAAOJ,GAET,CACEvJ,GAAI0J,EAAME,IACVD,MAAOD,EAAME,IAEzB,CACA,SAASC,EAA6BH,GAClC,GAAI/B,EAAQ+B,GAAQ,CAChB,MAAMI,EAAa7L,MAAM8L,KAAKL,EAAMM,GAAGvI,QACjCwI,EAAWP,EAAMM,GACjB7B,EAAQ,CACVA,MAAO2B,EAAWI,KAAKC,IAAY,CAC/BC,UAAU,EACVrO,IAAKoO,EACLxM,MAAO+L,EAAMvB,MAAMxK,MAAMwM,OAE7BE,QAASP,EACJQ,QAAQtK,GAAOiK,EAASpN,IAAImD,GAAIuK,WAChCL,KAAKlK,IACN,MAAM0J,EAAQO,EAASpN,IAAImD,GAC3B,MAAO,CACHoK,UAAU,EACVrO,IAAKiE,EACLrC,MAAO+L,EAAMa,SAASC,QAAO,CAACH,EAAStO,KACnCsO,EAAQtO,GAAO2N,EAAM3N,GACdsO,IACR,CAAC,GACP,KAGT,OAAOlC,CACX,CACA,MAAMA,EAAQ,CACVA,MAAOzL,OAAO+E,KAAKiI,EAAMe,QAAQP,KAAKnO,IAAQ,CAC1CqO,UAAU,EACVrO,MACA4B,MAAO+L,EAAMe,OAAO1O,QAkB5B,OAdI2N,EAAMa,UAAYb,EAAMa,SAASpM,SACjCgK,EAAMkC,QAAUX,EAAMa,SAASL,KAAKQ,IAAe,CAC/CN,UAAU,EACVrO,IAAK2O,EACL/M,MAAO+L,EAAMgB,QAGjBhB,EAAMiB,kBAAkBC,OACxBzC,EAAM0C,iBAAmB5M,MAAM8L,KAAKL,EAAMiB,mBAAmBT,KAAKnO,IAAQ,CACtEqO,UAAU,EACVrO,MACA4B,MAAO+L,EAAM3N,QAGdoM,CACX,CACA,SAAS2C,EAAgBC,GACrB,OAAKA,EAED9M,MAAMC,QAAQ6M,GAEPA,EAAOP,QAAO,CAAC/J,EAAMuK,KACxBvK,EAAKgB,KAAKH,KAAK0J,EAAMjP,KACrB0E,EAAKwK,WAAW3J,KAAK0J,EAAMvH,MAC3BhD,EAAKyK,SAASF,EAAMjP,KAAOiP,EAAME,SACjCzK,EAAK0K,SAASH,EAAMjP,KAAOiP,EAAMG,SAC1B1K,IACR,CACCyK,SAAU,CAAC,EACXzJ,KAAM,GACNwJ,WAAY,GACZE,SAAU,CAAC,IAIR,CACHC,UAAWhC,EAAc2B,EAAOtH,MAChC1H,IAAKqN,EAAc2B,EAAOhP,KAC1BmP,SAAUH,EAAOG,SACjBC,SAAUJ,EAAOI,UArBd,CAAC,CAwBhB,CACA,SAASE,EAAmB5H,GACxB,OAAQA,GACJ,KAAKV,EAAauI,OACd,MAAO,WACX,KAAKvI,EAAawI,cACd,MAAO,SACX,KAAKxI,EAAayI,YACd,MAAO,SACX,QACI,MAAO,UAEnB,CAGA,IAAIC,IAAmB,EACvB,MAAMC,GAAsB,GACtBC,GAAqB,kBACrBC,GAAe,SACbvL,OAAQwL,IAAanP,OAOvBoP,GAAgB9L,GAAO,MAAQA,EAQrC,SAAS+L,GAAsBC,EAAKtJ,GAChCZ,EAAoB,CAChB9B,GAAI,gBACJ2J,MAAO,WACPsC,KAAM,mCACNC,YAAa,QACbC,SAAU,0BACVT,uBACAM,QACAI,IACuB,oBAAZA,EAAI9M,KACX+H,EAAa,2MAEjB+E,EAAIC,iBAAiB,CACjBrM,GAAI2L,GACJhC,MAAO,WACP2C,MAAO,WAEXF,EAAIG,aAAa,CACbvM,GAAI4L,GACJjC,MAAO,WACP6C,KAAM,UACNC,sBAAuB,gBACvBC,QAAS,CACL,CACIF,KAAM,eACNG,OAAQ,KACJ3E,EAAsBtF,EAAM,EAEhCkK,QAAS,gCAEb,CACIJ,KAAM,gBACNG,OAAQ5E,gBACEK,EAAuB1F,GAC7B0J,EAAIS,kBAAkBjB,IACtBQ,EAAIU,mBAAmBlB,GAAa,EAExCgB,QAAS,wDAEb,CACIJ,KAAM,OACNG,OAAQ,KACJpE,EAAsB7F,EAAM,EAEhCkK,QAAS,iCAEb,CACIJ,KAAM,cACNG,OAAQ5E,gBACEmB,EAA0BxG,GAChC0J,EAAIS,kBAAkBjB,IACtBQ,EAAIU,mBAAmBlB,GAAa,EAExCgB,QAAS,sCAGjBG,YAAa,CACT,CACIP,KAAM,UACNI,QAAS,kCACTD,OAASK,IACL,MAAMtD,EAAQhH,EAAMsH,GAAGnN,IAAImQ,GACtBtD,EAG4B,oBAAjBA,EAAMuD,OAClB5F,EAAa,iBAAiB2F,kEAAwE,SAGtGtD,EAAMuD,SACN5F,EAAa,UAAU2F,cAPvB3F,EAAa,iBAAiB2F,oCAA0C,OAQ5E,MAKhBZ,EAAInL,GAAGiM,kBAAiB,CAACC,EAASC,KAC9B,MAAM/K,EAAS8K,EAAQE,mBACnBF,EAAQE,kBAAkBhL,MAC9B,GAAIA,GAASA,EAAMiL,SAAU,CACzB,MAAMC,EAAcJ,EAAQE,kBAAkBhL,MAAMiL,SACpD5Q,OAAO8Q,OAAOD,GAAaE,SAAS/D,IAChCyD,EAAQO,aAAavF,MAAM7G,KAAK,CAC5BmC,KAAMqI,GAAapC,EAAME,KACzB7N,IAAK,QACLqO,UAAU,EACVzM,MAAO+L,EAAMiE,cACP,CACErE,QAAS,CACL3L,OAAO,IAAAiQ,OAAMlE,EAAMe,QACnBiC,QAAS,CACL,CACIF,KAAM,UACNI,QAAS,gCACTD,OAAQ,IAAMjD,EAAMuD,aAMhCvQ,OAAO+E,KAAKiI,EAAMe,QAAQD,QAAO,CAACrC,EAAOpM,KACrCoM,EAAMpM,GAAO2N,EAAMe,OAAO1O,GACnBoM,IACR,CAAC,KAEZuB,EAAMa,UAAYb,EAAMa,SAASpM,QACjCgP,EAAQO,aAAavF,MAAM7G,KAAK,CAC5BmC,KAAMqI,GAAapC,EAAME,KACzB7N,IAAK,UACLqO,UAAU,EACVzM,MAAO+L,EAAMa,SAASC,QAAO,CAACH,EAAStO,KACnC,IACIsO,EAAQtO,GAAO2N,EAAM3N,EACzB,CACA,MAAO2I,GAEH2F,EAAQtO,GAAO2I,CACnB,CACA,OAAO2F,CAAO,GACf,CAAC,IAEZ,GAER,KAEJ+B,EAAInL,GAAG4M,kBAAkBV,IACrB,GAAIA,EAAQnB,MAAQA,GAAOmB,EAAQW,cAAgBlC,GAAc,CAC7D,IAAImC,EAAS,CAACrL,GACdqL,EAASA,EAAOC,OAAO/P,MAAM8L,KAAKrH,EAAMsH,GAAGwD,WAC3CL,EAAQc,WAAad,EAAQ7C,OACvByD,EAAOzD,QAAQZ,GAAU,QAASA,EAC9BA,EAAME,IACH9B,cACApG,SAASyL,EAAQ7C,OAAOxC,eAC3ByB,EAAiBzB,cAAcpG,SAASyL,EAAQ7C,OAAOxC,iBAC3DiG,GAAQ7D,IAAIT,EACtB,KAEJ2C,EAAInL,GAAGiN,mBAAmBf,IACtB,GAAIA,EAAQnB,MAAQA,GAAOmB,EAAQW,cAAgBlC,GAAc,CAC7D,MAAMuC,EAAiBhB,EAAQH,SAAWxD,EACpC9G,EACAA,EAAMsH,GAAGnN,IAAIsQ,EAAQH,QAC3B,IAAKmB,EAGD,OAEAA,IACAhB,EAAQhF,MAAQ0B,EAA6BsE,GAErD,KAEJ/B,EAAInL,GAAGmN,oBAAmB,CAACjB,EAASC,KAChC,GAAID,EAAQnB,MAAQA,GAAOmB,EAAQW,cAAgBlC,GAAc,CAC7D,MAAMuC,EAAiBhB,EAAQH,SAAWxD,EACpC9G,EACAA,EAAMsH,GAAGnN,IAAIsQ,EAAQH,QAC3B,IAAKmB,EACD,OAAO9G,EAAa,UAAU8F,EAAQH,oBAAqB,SAE/D,MAAM,KAAEqB,GAASlB,EACZxF,EAAQwG,GAUTE,EAAKC,QAAQ,SARO,IAAhBD,EAAKlQ,QACJgQ,EAAexD,kBAAkB4D,IAAIF,EAAK,OAC3CA,EAAK,KAAMF,EAAe1D,SAC1B4D,EAAKC,QAAQ,UAOrB7C,IAAmB,EACnB0B,EAAQqB,IAAIL,EAAgBE,EAAMlB,EAAQhF,MAAMxK,OAChD8N,IAAmB,CACvB,KAEJW,EAAInL,GAAGwN,oBAAoBtB,IACvB,GAAIA,EAAQ1J,KAAKiL,WAAW,MAAO,CAC/B,MAAMvE,EAAUgD,EAAQ1J,KAAK0D,QAAQ,SAAU,IACzCuC,EAAQhH,EAAMsH,GAAGnN,IAAIsN,GAC3B,IAAKT,EACD,OAAOrC,EAAa,UAAU8C,eAAsB,SAExD,MAAM,KAAEkE,GAASlB,EACjB,GAAgB,UAAZkB,EAAK,GACL,OAAOhH,EAAa,2BAA2B8C,QAAckE,kCAIjEA,EAAK,GAAK,SACV5C,IAAmB,EACnB0B,EAAQqB,IAAI9E,EAAO2E,EAAMlB,EAAQhF,MAAMxK,OACvC8N,IAAmB,CACvB,IACF,GAEV,CACA,SAASkD,GAAmB3C,EAAKtC,GACxBgC,GAAoBhK,SAASoK,GAAapC,EAAME,OACjD8B,GAAoBpK,KAAKwK,GAAapC,EAAME,MAEhD9H,EAAoB,CAChB9B,GAAI,gBACJ2J,MAAO,WACPsC,KAAM,mCACNC,YAAa,QACbC,SAAU,0BACVT,uBACAM,MACAjM,SAAU,CACN6O,gBAAiB,CACbjF,MAAO,kCACPlG,KAAM,UACNvD,cAAc,MAQtBkM,IAEA,MAAM9M,EAAyB,oBAAZ8M,EAAI9M,IAAqB8M,EAAI9M,IAAIuP,KAAKzC,GAAO7M,KAAKD,IACrEoK,EAAMoF,WAAU,EAAGC,QAAOC,UAASjL,OAAM1C,WACrC,MAAM4N,EAAUC,KAChB9C,EAAI+C,iBAAiB,CACjBC,QAASzD,GACTX,MAAO,CACHqE,KAAM/P,IACNkH,MAAO,MAAQzC,EACfuL,SAAU,QACV7O,KAAM,CACFiJ,MAAON,EAAcM,EAAME,KAC3B+C,OAAQvD,EAAcrF,GACtB1C,QAEJ4N,aAGRF,GAAO9H,IACHsI,QAAelT,EACf+P,EAAI+C,iBAAiB,CACjBC,QAASzD,GACTX,MAAO,CACHqE,KAAM/P,IACNkH,MAAO,MAAQzC,EACfuL,SAAU,MACV7O,KAAM,CACFiJ,MAAON,EAAcM,EAAME,KAC3B+C,OAAQvD,EAAcrF,GACtB1C,OACA4F,UAEJgI,YAEN,IAEND,GAAStK,IACL6K,QAAelT,EACf+P,EAAI+C,iBAAiB,CACjBC,QAASzD,GACTX,MAAO,CACHqE,KAAM/P,IACNkQ,QAAS,QACThJ,MAAO,MAAQzC,EACfuL,SAAU,MACV7O,KAAM,CACFiJ,MAAON,EAAcM,EAAME,KAC3B+C,OAAQvD,EAAcrF,GACtB1C,OACAqD,SAEJuK,YAEN,GACJ,IACH,GACHvF,EAAMiB,kBAAkB8C,SAAS1J,KAC7B,IAAA0L,QAAM,KAAM,IAAAC,OAAMhG,EAAM3F,MAAQ,CAACoH,EAAUD,KACvCkB,EAAIuD,wBACJvD,EAAIU,mBAAmBlB,IACnBH,IACAW,EAAI+C,iBAAiB,CACjBC,QAASzD,GACTX,MAAO,CACHqE,KAAM/P,IACNkH,MAAO,SACP8I,SAAUvL,EACVtD,KAAM,CACF0K,WACAD,YAEJ+D,QAASM,KAGrB,GACD,CAAEK,MAAM,GAAO,IAEtBlG,EAAMmG,YAAW,EAAG9E,SAAQtH,QAAQ0E,KAGhC,GAFAiE,EAAIuD,wBACJvD,EAAIU,mBAAmBlB,KAClBH,GACD,OAEJ,MAAMqE,EAAY,CACdT,KAAM/P,IACNkH,MAAO6E,EAAmB5H,GAC1BhD,KAAMoL,GAAS,CAAEnC,MAAON,EAAcM,EAAME,MAAQkB,EAAgBC,IACpEkE,QAASM,IAET9L,IAASV,EAAawI,cACtBuE,EAAUR,SAAW,KAEhB7L,IAASV,EAAayI,YAC3BsE,EAAUR,SAAW,KAEhBvE,IAAW9M,MAAMC,QAAQ6M,KAC9B+E,EAAUR,SAAWvE,EAAOtH,MAE5BsH,IACA+E,EAAUrP,KAAK,eAAiB,CAC5B6I,QAAS,CACLD,QAAS,gBACT5F,KAAM,SACNmJ,QAAS,sBACTjP,MAAOoN,KAInBqB,EAAI+C,iBAAiB,CACjBC,QAASzD,GACTX,MAAO8E,GACT,GACH,CAAEC,UAAU,EAAMC,MAAO,SAC5B,MAAMC,EAAYvG,EAAMwG,WACxBxG,EAAMwG,YAAa,IAAAC,UAASC,IACxBH,EAAUG,GACVhE,EAAI+C,iBAAiB,CACjBC,QAASzD,GACTX,MAAO,CACHqE,KAAM/P,IACNkH,MAAO,MAAQkD,EAAME,IACrB0F,SAAU,aACV7O,KAAM,CACFiJ,MAAON,EAAcM,EAAME,KAC3ByG,KAAMjH,EAAc,kBAKhCgD,EAAIuD,wBACJvD,EAAIS,kBAAkBjB,IACtBQ,EAAIU,mBAAmBlB,GAAa,IAExC,MAAM,SAAE0E,GAAa5G,EACrBA,EAAM4G,SAAW,KACbA,IACAlE,EAAIuD,wBACJvD,EAAIS,kBAAkBjB,IACtBQ,EAAIU,mBAAmBlB,IACvBQ,EAAIvL,cAAc+N,iBACdvH,EAAa,aAAaqC,EAAME,gBAAgB,EAGxDwC,EAAIuD,wBACJvD,EAAIS,kBAAkBjB,IACtBQ,EAAIU,mBAAmBlB,IACvBQ,EAAIvL,cAAc+N,iBACdvH,EAAa,IAAIqC,EAAME,0BAA0B,GAE7D,CACA,IACI2F,GADAL,GAAkB,EAUtB,SAASqB,GAAuB7G,EAAO8G,EAAaC,GAEhD,MAAM/D,EAAU8D,EAAYhG,QAAO,CAACkG,EAAcC,KAE9CD,EAAaC,IAAc,IAAA/C,OAAMlE,GAAOiH,GACjCD,IACR,CAAC,GACJ,IAAK,MAAMC,KAAcjE,EACrBhD,EAAMiH,GAAc,WAEhB,MAAMC,EAAY1B,GACZ2B,EAAeJ,EACf,IAAI7R,MAAM8K,EAAO,CACf,GAAA7M,IAAOwE,GAEH,OADAkO,GAAeqB,EACRE,QAAQjU,OAAOwE,EAC1B,EACA,GAAAmN,IAAOnN,GAEH,OADAkO,GAAeqB,EACRE,QAAQtC,OAAOnN,EAC1B,IAEFqI,EAEN6F,GAAeqB,EACf,MAAMG,EAAWrE,EAAQiE,GAAYK,MAAMH,EAAcI,WAGzD,OADA1B,QAAelT,EACR0U,CACX,CAER,CAIA,SAASG,IAAe,IAAElF,EAAG,MAAEtC,EAAK,QAAEyH,IAElC,GAAIzH,EAAME,IAAI8E,WAAW,UACrB,OAGJhF,EAAMiE,gBAAkBwD,EAAQhJ,MAChCoI,GAAuB7G,EAAOhN,OAAO+E,KAAK0P,EAAQzE,SAAUhD,EAAMiE,eAElE,MAAMyD,EAAoB1H,EAAMwG,YAChC,IAAAtC,OAAMlE,GAAOwG,WAAa,SAAUE,GAChCgB,EAAkBJ,MAAMxV,KAAMyV,WAC9BV,GAAuB7G,EAAOhN,OAAO+E,KAAK2O,EAASiB,YAAY3E,WAAYhD,EAAMiE,cACrF,EACAgB,GAAmB3C,EAEnBtC,EACJ,CAKA,SAAS4H,KACL,MAAMC,GAAQ,IAAAC,cAAY,GAGpBrJ,EAAQoJ,EAAME,KAAI,KAAM,IAAAC,KAAI,CAAC,KACnC,IAAIC,EAAK,GAELC,EAAgB,GACpB,MAAMlP,GAAQ,IAAAyN,SAAQ,CAClB,OAAA0B,CAAQ7F,GAGJvJ,EAAeC,GACV,IACDA,EAAMvD,GAAK6M,EACXA,EAAI8F,QAAQnP,EAAaD,GACzBsJ,EAAI+F,OAAOC,iBAAiBC,OAASvP,EAEjCO,GACA8I,GAAsBC,EAAKtJ,GAE/BkP,EAAcnE,SAAS/N,GAAWiS,EAAGrQ,KAAK5B,KAC1CkS,EAAgB,GAExB,EACA,GAAAM,CAAIxS,GAOA,OANKlE,KAAK2D,IAAO,EAIbwS,EAAGrQ,KAAK5B,GAHRkS,EAActQ,KAAK5B,GAKhBlE,IACX,EACAmW,KAGAxS,GAAI,KACJgT,GAAIZ,EACJvH,GAAI,IAAIoI,IACRjK,UAOJ,OAHIlF,GAAiC,qBAAVrE,OACvB8D,EAAMwP,IAAIhB,IAEPxO,CACX,CAkGA,MAAM2P,GAAO,OACb,SAASC,GAAgBC,EAAeC,EAAUzC,EAAU0C,EAAYJ,IACpEE,EAAcjR,KAAKkR,GACnB,MAAME,EAAqB,KACvB,MAAMC,EAAMJ,EAAcK,QAAQJ,GAC9BG,GAAO,IACPJ,EAAcjU,OAAOqU,EAAK,GAC1BF,IACJ,EAKJ,OAHK1C,IAAY,IAAA8C,qBACb,IAAAC,gBAAeJ,GAEZA,CACX,CACA,SAASK,GAAqBR,KAAkBlR,GAC5CkR,EAAcS,QAAQvF,SAAS+E,IAC3BA,KAAYnR,EAAK,GAEzB,CAEA,MAAM4R,GAA0BC,GAAOA,IACvC,SAASC,GAAqBtX,EAAQuX,GAE9BvX,aAAkBuW,KAAOgB,aAAwBhB,KACjDgB,EAAa3F,SAAQ,CAAC9P,EAAO5B,IAAQF,EAAO2S,IAAIzS,EAAK4B,KAGrD9B,aAAkBwX,KAAOD,aAAwBC,KACjDD,EAAa3F,QAAQ5R,EAAOyX,IAAKzX,GAGrC,IAAK,MAAME,KAAOqX,EAAc,CAC5B,IAAKA,EAAa9V,eAAevB,GAC7B,SACJ,MAAMwX,EAAWH,EAAarX,GACxByX,EAAc3X,EAAOE,GACvB6G,EAAc4Q,IACd5Q,EAAc2Q,IACd1X,EAAOyB,eAAevB,MACrB,IAAA0X,OAAMF,MACN,IAAAG,YAAWH,GAIZ1X,EAAOE,GAAOoX,GAAqBK,EAAaD,GAIhD1X,EAAOE,GAAOwX,CAEtB,CACA,OAAO1X,CACX,CACA,MAAM8X,GAE2BlW,SAC3BmW,GAA+B,IAAIC,QAoBzC,SAASC,GAAc3W,GACnB,OAAO,GAC2ByW,GAAerF,IAAIpR,IAC9CyF,EAAczF,KAASA,EAAIG,eAAeqW,GACrD,CACA,MAAQtT,OAAM,IAAK3D,OACnB,SAASqX,GAAWtX,GAChB,UAAU,IAAAgX,OAAMhX,KAAMA,EAAEuX,OAC5B,CACA,SAASC,GAAmBjU,EAAImR,EAASzO,EAAOwR,GAC5C,MAAM,MAAE/L,EAAK,QAAEuE,EAAO,QAAErC,GAAY8G,EAC9BgD,EAAezR,EAAMyF,MAAMxK,MAAMqC,GACvC,IAAI0J,EACJ,SAAS0K,IACAD,IAEG,EACA,EAAIzR,EAAMyF,MAAMxK,MAAOqC,EAAImI,EAAQA,IAAU,CAAC,GAG9CzF,EAAMyF,MAAMxK,MAAMqC,GAAMmI,EAAQA,IAAU,CAAC,GAInD,MAAMkM,GAGA,IAAAC,QAAO5R,EAAMyF,MAAMxK,MAAMqC,IAC/B,OAAO,GAAOqU,EAAY3H,EAAShQ,OAAO+E,KAAK4I,GAAW,CAAC,GAAGG,QAAO,CAAC+J,EAAiBxQ,KAInFwQ,EAAgBxQ,IAAQ,IAAAoM,UAAQ,IAAAqE,WAAS,KACrC/R,EAAeC,GAEf,MAAMgH,EAAQhH,EAAMsH,GAAGnN,IAAImD,GAG3B,IAAI,GAAW0J,EAAM+K,GAKrB,OAAOpK,EAAQtG,GAAMxG,KAAKmM,EAAOA,EAAM,KAEpC6K,IACR,CAAC,GACR,CAEA,OADA7K,EAAQgL,GAAiB1U,EAAIoU,EAAOjD,EAASzO,EAAOwR,GAAK,GAClDxK,CACX,CACA,SAASgL,GAAiB9K,EAAKwK,EAAOjD,EAAU,CAAC,EAAGzO,EAAOwR,EAAKS,GAC5D,IAAIpD,EACJ,MAAMqD,EAAmB,GAAO,CAAElI,QAAS,CAAC,GAAKyE,GAMjD,MAAM0D,EAAoB,CACtBjF,MAAM,GAwBV,IAAIkF,EACAC,EACJ,IAEIC,EAFAzC,EAAgB,GAChB0C,EAAsB,GAE1B,MAAMd,EAAezR,EAAMyF,MAAMxK,MAAMiM,GAGlC+K,GAAmBR,IAEhB,EACA,EAAIzR,EAAMyF,MAAMxK,MAAOiM,EAAK,CAAC,GAG7BlH,EAAMyF,MAAMxK,MAAMiM,GAAO,CAAC,GAGlC,MAAMsL,GAAW,IAAAxD,KAAI,CAAC,GAGtB,IAAIyD,EACJ,SAASC,EAAOC,GACZ,IAAIC,EACJR,EAAcC,GAAkB,EAMK,oBAA1BM,GACPA,EAAsB3S,EAAMyF,MAAMxK,MAAMiM,IACxC0L,EAAuB,CACnB7R,KAAMV,EAAawI,cACnBpB,QAASP,EACTmB,OAAQiK,KAIZ7B,GAAqBzQ,EAAMyF,MAAMxK,MAAMiM,GAAMyL,GAC7CC,EAAuB,CACnB7R,KAAMV,EAAayI,YACnB2B,QAASkI,EACTlL,QAASP,EACTmB,OAAQiK,IAGhB,MAAMO,EAAgBJ,EAAiB1X,UACvC,IAAA+X,YAAWC,MAAK,KACRN,IAAmBI,IACnBT,GAAc,EAClB,IAEJC,GAAkB,EAElBhC,GAAqBR,EAAe+C,EAAsB5S,EAAMyF,MAAMxK,MAAMiM,GAChF,CACA,MAAMqD,EAAS0H,EACT,WACE,MAAM,MAAExM,GAAUgJ,EACZuE,EAAWvN,EAAQA,IAAU,CAAC,EAEpC3M,KAAK4Z,QAAQ3K,IACT,GAAOA,EAAQiL,EAAS,GAEhC,EAMUrD,GACd,SAAS/B,IACLiB,EAAMoE,OACNpD,EAAgB,GAChB0C,EAAsB,GACtBvS,EAAMsH,GAAG4L,OAAOhM,EACpB,CAQA,SAASiM,EAAW9R,EAAM4I,GACtB,OAAO,WACHlK,EAAeC,GACf,MAAMrB,EAAOpD,MAAM8L,KAAKkH,WAClB6E,EAAoB,GACpBC,EAAsB,GAC5B,SAAShH,EAAMyD,GACXsD,EAAkBxU,KAAKkR,EAC3B,CACA,SAASxD,EAAQwD,GACbuD,EAAoBzU,KAAKkR,EAC7B,CASA,IAAIwD,EAPJjD,GAAqBkC,EAAqB,CACtC5T,OACA0C,OACA2F,QACAqF,QACAC,YAGJ,IACIgH,EAAMrJ,EAAOqE,MAAMxV,MAAQA,KAAKoO,MAAQA,EAAMpO,KAAOkO,EAAOrI,EAEhE,CACA,MAAOqD,GAEH,MADAqO,GAAqBgD,EAAqBrR,GACpCA,CACV,CACA,OAAIsR,aAAepU,QACRoU,EACFP,MAAM9X,IACPoV,GAAqB+C,EAAmBnY,GACjCA,KAENsY,OAAOvR,IACRqO,GAAqBgD,EAAqBrR,GACnC9C,QAAQ+G,OAAOjE,OAI9BqO,GAAqB+C,EAAmBE,GACjCA,EACX,CACJ,CACA,MAAM3E,GAA4B,IAAAlB,SAAQ,CACtCzD,QAAS,CAAC,EACVrC,QAAS,CAAC,EACVlC,MAAO,GACP+M,aAEEgB,EAAe,CACjBvE,GAAIjP,EAEJkH,MACAkF,UAAWwD,GAAgBzD,KAAK,KAAMoG,GACtCG,SACAnI,SACA,UAAA4C,CAAW2C,EAAUrB,EAAU,CAAC,GAC5B,MAAMuB,EAAqBJ,GAAgBC,EAAeC,EAAUrB,EAAQpB,UAAU,IAAMoG,MACtFA,EAAc5E,EAAME,KAAI,KAAM,IAAAhC,QAAM,IAAM/M,EAAMyF,MAAMxK,MAAMiM,KAAOzB,KAC/C,SAAlBgJ,EAAQnB,MAAmB+E,EAAkBD,IAC7CtC,EAAS,CACLrI,QAASP,EACTnG,KAAMV,EAAauI,OACnBP,OAAQiK,GACT7M,EACP,GACD,GAAO,CAAC,EAAG0M,EAAmB1D,MACjC,OAAOuB,CACX,EACApC,YAGA,IAEA4F,EAAazB,IAAK,GAEtB,MAAM/K,GAAQ,IAAA0M,UAAoDnT,EAC5D,GAAO,CACLoO,cACA1G,mBAAmB,IAAAwF,SAAQ,IAAIkD,MAChC6C,GAIDA,GAGNxT,EAAMsH,GAAGwE,IAAI5E,EAAKF,GAClB,MAAM2M,EAAkB3T,EAAMvD,IAAMuD,EAAMvD,GAAGkX,gBAAmBpD,GAE1DqD,EAAa5T,EAAMyP,GAAGV,KAAI,KAC5BF,GAAQ,IAAAC,eACD6E,GAAe,IAAM9E,EAAME,IAAI2C,QAG1C,IAAK,MAAMrY,KAAOua,EAAY,CAC1B,MAAMlZ,EAAOkZ,EAAWva,GACxB,IAAK,IAAA0X,OAAMrW,KAAU2W,GAAW3W,KAAU,IAAAsW,YAAWtW,GAOvCuX,IAEFR,GAAgBL,GAAc1W,MAC1B,IAAAqW,OAAMrW,GACNA,EAAKO,MAAQwW,EAAapY,GAK1BoX,GAAqB/V,EAAM+W,EAAapY,KAK5C,EACA,EAAI2G,EAAMyF,MAAMxK,MAAMiM,GAAM7N,EAAKqB,GAGjCsF,EAAMyF,MAAMxK,MAAMiM,GAAK7N,GAAOqB,QASrC,GAAoB,oBAATA,EAAqB,CAEjC,MAAMmZ,EAAsEV,EAAW9Z,EAAKqB,GAIxF,EACA,EAAIkZ,EAAYva,EAAKwa,GAIrBD,EAAWva,GAAOwa,EAQtB3B,EAAiBlI,QAAQ3Q,GAAOqB,CACpC,MACS,CAeb,CAoGA,GAjGI,EACAV,OAAO+E,KAAK6U,GAAY7I,SAAS1R,IAC7B,EAAI2N,EAAO3N,EAAKua,EAAWva,GAAK,KAIpC,GAAO2N,EAAO4M,GAGd,IAAO,IAAA1I,OAAMlE,GAAQ4M,IAKzB5Z,OAAOC,eAAe+M,EAAO,SAAU,CACnC7M,IAAK,IAAyE6F,EAAMyF,MAAMxK,MAAMiM,GAChG4E,IAAMrG,IAKFiN,GAAQ3K,IACJ,GAAOA,EAAQtC,EAAM,GACvB,IA0ENlF,EAAc,CACd,MAAMuT,EAAgB,CAClBC,UAAU,EACVC,cAAc,EAEd9Z,YAAY,GAEhB,CAAC,KAAM,cAAe,WAAY,qBAAqB6Q,SAAS7P,IAC5DlB,OAAOC,eAAe+M,EAAO9L,EAAG,GAAO,CAAED,MAAO+L,EAAM9L,IAAM4Y,GAAe,GAEnF,CA6CA,OA3CI,IAEA9M,EAAM+K,IAAK,GAGf/R,EAAMiP,GAAGlE,SAASkJ,IAEd,GAAI1T,EAAc,CACd,MAAM2T,EAAarF,EAAME,KAAI,IAAMkF,EAAS,CACxCjN,QACAsC,IAAKtJ,EAAMvD,GACXuD,QACAyO,QAASyD,MAEblY,OAAO+E,KAAKmV,GAAc,CAAC,GAAGnJ,SAAS1R,GAAQ2N,EAAMiB,kBAAkB2I,IAAIvX,KAC3E,GAAO2N,EAAOkN,EAClB,MAEI,GAAOlN,EAAO6H,EAAME,KAAI,IAAMkF,EAAS,CACnCjN,QACAsC,IAAKtJ,EAAMvD,GACXuD,QACAyO,QAASyD,MAEjB,IAYAT,GACAQ,GACAxD,EAAQ0F,SACR1F,EAAQ0F,QAAQnN,EAAMe,OAAQ0J,GAElCW,GAAc,EACdC,GAAkB,EACXrL,CACX,CACA,SAASoN,GAETC,EAAa3C,EAAO4C,GAChB,IAAIhX,EACAmR,EACJ,MAAM8F,EAAgC,oBAAV7C,EAa5B,SAAS8C,EAASxU,EAAOwR,GACrB,MAAMiD,GAAa,IAAAC,uBACnB1U,EAGuFA,IAC9EyU,GAAa,IAAAE,QAAO1U,EAAa,MAAQ,MAC9CD,GACAD,EAAeC,GAOnBA,EAAQzD,EACHyD,EAAMsH,GAAGuE,IAAIvO,KAEViX,EACAvC,GAAiB1U,EAAIoU,EAAOjD,EAASzO,GAGrCuR,GAAmBjU,EAAImR,EAASzO,IAQxC,MAAMgH,EAAQhH,EAAMsH,GAAGnN,IAAImD,GAwB3B,OAAO0J,CACX,CAEA,MArE2B,kBAAhBqN,GACP/W,EAAK+W,EAEL5F,EAAU8F,EAAeD,EAAe5C,IAGxCjD,EAAU4F,EACV/W,EAAK+W,EAAY/W,IA6DrBkX,EAAStN,IAAM5J,EACRkX,CACX,CA8DA,SAASI,GAASJ,EAAUK,GACxB,OAAOtZ,MAAMC,QAAQqZ,GACfA,EAAa/M,QAAO,CAACgN,EAASzb,KAC5Byb,EAAQzb,GAAO,WACX,OAAOmb,EAAS1b,KAAKyW,QAAQlW,EACjC,EACOyb,IACR,CAAC,GACF9a,OAAO+E,KAAK8V,GAAc/M,QAAO,CAACgN,EAASzb,KAEzCyb,EAAQzb,GAAO,WACX,MAAM2N,EAAQwN,EAAS1b,KAAKyW,QACtBwF,EAAWF,EAAaxb,GAG9B,MAA2B,oBAAb0b,EACRA,EAASla,KAAK/B,KAAMkO,GACpBA,EAAM+N,EAChB,EACOD,IACR,CAAC,EACZ,CAcA,SAASE,GAAWR,EAAUK,GAC1B,OAAOtZ,MAAMC,QAAQqZ,GACfA,EAAa/M,QAAO,CAACgN,EAASzb,KAE5Byb,EAAQzb,GAAO,YAAasF,GACxB,OAAO6V,EAAS1b,KAAKyW,QAAQlW,MAAQsF,EACzC,EACOmW,IACR,CAAC,GACF9a,OAAO+E,KAAK8V,GAAc/M,QAAO,CAACgN,EAASzb,KAEzCyb,EAAQzb,GAAO,YAAasF,GACxB,OAAO6V,EAAS1b,KAAKyW,QAAQsF,EAAaxb,OAASsF,EACvD,EACOmW,IACR,CAAC,EACZ,CG3zDA,IAAIG,GAAgB,SAASpb,EAAGqb,GAI9B,OAHAD,GAAgBjb,OAAOmb,gBAClB,CAAEC,UAAW,cAAgB7Z,OAAS,SAAU1B,EAAGqb,GAAKrb,EAAEub,UAAYF,CAAG,GAC1E,SAAUrb,EAAGqb,GAAK,IAAK,IAAIha,KAAKga,EAAOlb,OAAOW,UAAUC,eAAeC,KAAKqa,EAAGha,KAAIrB,EAAEqB,GAAKga,EAAEha,GAAI,EAC7F+Z,GAAcpb,EAAGqb,EAC1B,EAEO,SAASG,GAAUxb,EAAGqb,GAC3B,GAAiB,oBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAII,UAAU,uBAAyBrU,OAAOiU,GAAK,iCAE7D,SAASK,IAAOzc,KAAKiE,YAAclD,CAAG,CADtCob,GAAcpb,EAAGqb,GAEjBrb,EAAEc,UAAkB,OAANua,EAAalb,OAAOwb,OAAON,IAAMK,EAAG5a,UAAYua,EAAEva,UAAW,IAAI4a,EACjF,CAEO,IAAIE,GAAW,WAQpB,OAPAA,GAAWzb,OAAO2D,QAAU,SAAkB+X,GAC1C,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAItH,UAAU9S,OAAQma,EAAIC,EAAGD,IAE5C,IAAK,IAAI1a,KADTya,EAAIpH,UAAUqH,GACAD,EAAO3b,OAAOW,UAAUC,eAAeC,KAAK8a,EAAGza,KAAIwa,EAAExa,GAAKya,EAAEza,IAE9E,OAAOwa,CACX,EACOD,GAASnH,MAAMxV,KAAMyV,UAC9B,EA0EO,SAASuH,GAAUC,EAASC,EAAYC,EAAGC,GAChD,SAASC,EAAMlb,GAAS,OAAOA,aAAiBgb,EAAIhb,EAAQ,IAAIgb,GAAE,SAAUhX,GAAWA,EAAQhE,EAAQ,GAAI,CAC3G,OAAO,IAAKgb,IAAMA,EAAI/W,WAAU,SAAUD,EAASgH,GAC/C,SAASmQ,EAAUnb,GAAS,IAAMob,EAAKH,EAAUI,KAAKrb,GAAS,CAAE,MAAOV,GAAK0L,EAAO1L,EAAI,CAAE,CAC1F,SAASgc,EAAStb,GAAS,IAAMob,EAAKH,EAAU,SAASjb,GAAS,CAAE,MAAOV,GAAK0L,EAAO1L,EAAI,CAAE,CAC7F,SAAS8b,EAAK9R,GAAUA,EAAOiS,KAAOvX,EAAQsF,EAAOtJ,OAASkb,EAAM5R,EAAOtJ,OAAO8X,KAAKqD,EAAWG,EAAW,CAC7GF,GAAMH,EAAYA,EAAU5H,MAAMyH,EAASC,GAAc,KAAKM,OAClE,GACF,CAEO,SAASG,GAAYV,EAAShS,GACnC,IAAsG2S,EAAGC,EAAGjB,EAAGtb,EAA3Gwc,EAAI,CAAE3P,MAAO,EAAG4P,KAAM,WAAa,GAAW,EAAPnB,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,EAAI,EAAGoB,KAAM,GAAIC,IAAK,IAChG,OAAO3c,EAAI,CAAEkc,KAAMU,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,oBAAXjc,SAA0BX,EAAEW,OAAOkc,UAAY,WAAa,OAAOne,IAAM,GAAIsB,EACvJ,SAAS4c,EAAKnB,GAAK,OAAO,SAAUqB,GAAK,OAAOb,EAAK,CAACR,EAAGqB,GAAK,CAAG,CACjE,SAASb,EAAKc,GACV,GAAIT,EAAG,MAAM,IAAIpB,UAAU,mCAC3B,MAAOlb,IAAMA,EAAI,EAAG+c,EAAG,KAAOP,EAAI,IAAKA,MACnC,GAAIF,EAAI,EAAGC,IAAMjB,EAAY,EAARyB,EAAG,GAASR,EAAE,UAAYQ,EAAG,GAAKR,EAAE,YAAcjB,EAAIiB,EAAE,YAAcjB,EAAE7a,KAAK8b,GAAI,GAAKA,EAAEL,SAAWZ,EAAIA,EAAE7a,KAAK8b,EAAGQ,EAAG,KAAKX,KAAM,OAAOd,EAE3J,OADIiB,EAAI,EAAGjB,IAAGyB,EAAK,CAAS,EAARA,EAAG,GAAQzB,EAAEza,QACzBkc,EAAG,IACP,KAAK,EAAG,KAAK,EAAGzB,EAAIyB,EAAI,MACxB,KAAK,EAAc,OAAXP,EAAE3P,QAAgB,CAAEhM,MAAOkc,EAAG,GAAIX,MAAM,GAChD,KAAK,EAAGI,EAAE3P,QAAS0P,EAAIQ,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKP,EAAEG,IAAIK,MAAOR,EAAEE,KAAKM,MAAO,SACxC,QACI,GAAM1B,EAAIkB,EAAEE,OAAMpB,EAAIA,EAAEja,OAAS,GAAKia,EAAEA,EAAEja,OAAS,MAAkB,IAAV0b,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEP,EAAI,EAAG,QAAU,CAC3G,GAAc,IAAVO,EAAG,MAAczB,GAAMyB,EAAG,GAAKzB,EAAE,IAAMyB,EAAG,GAAKzB,EAAE,IAAM,CAAEkB,EAAE3P,MAAQkQ,EAAG,GAAI,KAAO,CACrF,GAAc,IAAVA,EAAG,IAAYP,EAAE3P,MAAQyO,EAAE,GAAI,CAAEkB,EAAE3P,MAAQyO,EAAE,GAAIA,EAAIyB,EAAI,KAAO,CACpE,GAAIzB,GAAKkB,EAAE3P,MAAQyO,EAAE,GAAI,CAAEkB,EAAE3P,MAAQyO,EAAE,GAAIkB,EAAEG,IAAInY,KAAKuY,GAAK,KAAO,CAC9DzB,EAAE,IAAIkB,EAAEG,IAAIK,MAChBR,EAAEE,KAAKM,MAAO,SAEtBD,EAAKpT,EAAKlJ,KAAKkb,EAASa,EAC5B,CAAE,MAAOrc,GAAK4c,EAAK,CAAC,EAAG5c,GAAIoc,EAAI,CAAG,CAAE,QAAUD,EAAIhB,EAAI,CAAG,CACzD,GAAY,EAARyB,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAElc,MAAOkc,EAAG,GAAKA,EAAG,QAAK,EAAQX,MAAM,EAC9E,CACF,CAE6Bxc,OAAOwb,OAgB7B,SAAS,GAASzb,GACvB,IAAI4b,EAAsB,oBAAX5a,QAAyBA,OAAOkc,SAAUI,EAAI1B,GAAK5b,EAAE4b,GAAIC,EAAI,EAC5E,GAAIyB,EAAG,OAAOA,EAAExc,KAAKd,GACrB,GAAIA,GAAyB,kBAAbA,EAAE0B,OAAqB,MAAO,CAC1C6a,KAAM,WAEF,OADIvc,GAAK6b,GAAK7b,EAAE0B,SAAQ1B,OAAI,GACrB,CAAEkB,MAAOlB,GAAKA,EAAE6b,KAAMY,MAAOzc,EACxC,GAEJ,MAAM,IAAIub,UAAUK,EAAI,0BAA4B,kCACtD,CAEO,SAAS2B,GAAOvd,EAAG8b,GACxB,IAAIwB,EAAsB,oBAAXtc,QAAyBhB,EAAEgB,OAAOkc,UACjD,IAAKI,EAAG,OAAOtd,EACf,IAAmBe,EAAYP,EAA3Bqb,EAAIyB,EAAExc,KAAKd,GAAOwd,EAAK,GAC3B,IACI,YAAc,IAAN1B,GAAgBA,KAAM,MAAQ/a,EAAI8a,EAAEU,QAAQE,KAAMe,EAAG3Y,KAAK9D,EAAEG,MACxE,CACA,MAAO+G,GAASzH,EAAI,CAAEyH,MAAOA,EAAS,CACtC,QACI,IACQlH,IAAMA,EAAE0b,OAASa,EAAIzB,EAAE,YAAYyB,EAAExc,KAAK+a,EAClD,CACA,QAAU,GAAIrb,EAAG,MAAMA,EAAEyH,KAAO,CACpC,CACA,OAAOuV,CACT,CA+DyBvd,OAAOwb,OAyDkB,oBAApBgC,iBAAiCA,gBCxTxD,ICKIC,GAQAC,GAaAC,GAYAC,GAuCAC,GAMAC,GASAC,GAOAC,GAaAC,GAMAC,GAOAC,GASAC,GAKAC,GASAC,GAQAC,GAWAC,GAKAC,GAwBAC,GAOAC,GAQAC,GDnNAC,GAAK,iBASLC,GAAM,IAAMD,GAOZE,GAAMF,GAAK,IAOXG,GAAM,GAAKH,GAOXI,GAAMJ,GAAK,GAOXK,GAAM,GAAM,KC/BvB,SAAWzB,GACPA,EAASA,EAAS,SAAW,GAAK,QAClCA,EAASA,EAAS,YAAc,GAAK,WACrCA,EAASA,EAAS,YAAc,GAAK,WACrCA,EAASA,EAAS,YAAc,GAAK,WACrCA,EAASA,EAAS,WAAa,GAAK,SACvC,EAND,CAMGA,KAAaA,GAAW,CAAC,IAE5B,SAAWC,GACPA,EAASA,EAAS,UAAY,GAAK,SACnCA,EAASA,EAAS,QAAU,GAAK,OACjCA,EAASA,EAAS,UAAY,GAAK,SACnCA,EAASA,EAAS,SAAW,GAAK,QAClCA,EAASA,EAAS,cAAgB,GAAK,aACvCA,EAASA,EAAS,qBAAuB,GAAK,oBAC9CA,EAASA,EAAS,cAAgB,GAAK,aACvCA,EAASA,EAAS,WAAa,GAAK,UACpCA,EAASA,EAAS,eAAiB,GAAK,cACxCA,EAASA,EAAS,UAAY,IAAM,QACvC,CAXD,CAWGA,KAAaA,GAAW,CAAC,IAE5B,SAAWC,GACPA,EAASA,EAAS,SAAW,GAAK,QAClCA,EAASA,EAAS,QAAU,GAAK,OACjCA,EAASA,EAAS,eAAiB,GAAK,cACxCA,EAASA,EAAS,WAAa,GAAK,UACpCA,EAASA,EAAS,iBAAmB,GAAK,gBAC1CA,EAASA,EAAS,MAAQ,GAAK,KAC/BA,EAASA,EAAS,aAAe,GAAK,YACtCA,EAASA,EAAS,SAAW,GAAK,QAClCA,EAASA,EAAS,gBAAkB,GAAK,cAC5C,CAVD,CAUGA,KAAaA,GAAW,CAAC,IAE5B,SAAWC,GACPA,EAAeA,EAAe,QAAU,GAAK,OAC7CA,EAAeA,EAAe,aAAe,GAAK,YAClDA,EAAeA,EAAe,aAAe,GAAK,YAClDA,EAAeA,EAAe,eAAiB,GAAK,cACpDA,EAAeA,EAAe,cAAgB,IAAM,aACpDA,EAAeA,EAAe,iBAAmB,IAAM,gBACvDA,EAAeA,EAAe,YAAc,IAAM,WAClDA,EAAeA,EAAe,iBAAmB,KAAO,gBACxDA,EAAeA,EAAe,eAAiB,KAAO,cACtDA,EAAeA,EAAe,mBAAqB,KAAO,kBAC1DA,EAAeA,EAAe,mBAAqB,MAAQ,kBAC3DA,EAAeA,EAAe,UAAY,MAAQ,SAClDA,EAAeA,EAAe,kBAAoB,MAAQ,iBAC1DA,EAAeA,EAAe,mBAAqB,MAAQ,kBAC3DA,EAAeA,EAAe,oBAAsB,OAAS,mBAC7DA,EAAeA,EAAe,cAAgB,OAAS,aACvDA,EAAeA,EAAe,uBAAyB,OAAS,sBAChEA,EAAeA,EAAe,oBAAsB,QAAU,mBAC9DA,EAAeA,EAAe,oBAAsB,QAAU,mBAC9DA,EAAeA,EAAe,UAAY,QAAU,SACpDA,EAAeA,EAAe,UAAY,SAAW,SACrDA,EAAeA,EAAe,gBAAkB,SAAW,eAC3DA,EAAeA,EAAe,mBAAqB,SAAW,kBAC9DA,EAAeA,EAAe,oBAAsB,SAAW,mBAC/DA,EAAeA,EAAe,QAAU,UAAY,OACpDA,EAAeA,EAAe,eAAiB,UAAY,cAC3DA,EAAeA,EAAe,qBAAuB,UAAY,oBACjEA,EAAeA,EAAe,YAAc,WAAa,WACzDA,EAAeA,EAAe,gBAAkB,WAAa,eAC7DA,EAAeA,EAAe,eAAiB,WAAa,cAC5DA,EAAeA,EAAe,cAAgB,YAAc,aAC5DA,EAAeA,EAAe,WAAa,IAAM,UACjDA,EAAeA,EAAe,oBAAsB,MAAQ,mBAC5DA,EAAeA,EAAe,WAAa,QAAU,UACrDA,EAAeA,EAAe,YAAc,WAAa,WACzDA,EAAeA,EAAe,SAAW,WAAa,OACzD,CArCD,CAqCGA,KAAmBA,GAAiB,CAAC,IAExC,SAAWC,GACPA,EAAgBA,EAAgB,aAAe,GAAK,YACpDA,EAAgBA,EAAgB,eAAiB,GAAK,cACtDA,EAAgBA,EAAgB,WAAa,GAAK,SACrD,CAJD,CAIGA,KAAoBA,GAAkB,CAAC,IAE1C,SAAWC,GACPA,EAAUA,EAAU,SAAW,GAAK,QACpCA,EAAUA,EAAU,UAAY,GAAK,SACrCA,EAAUA,EAAU,UAAY,GAAK,SACrCA,EAAUA,EAAU,UAAY,GAAK,SACrCA,EAAUA,EAAU,WAAa,GAAK,UACtCA,EAAUA,EAAU,QAAU,GAAK,MACtC,CAPD,CAOGA,KAAcA,GAAY,CAAC,IAE9B,SAAWC,GACPA,EAASA,EAAS,UAAY,GAAK,SACnCA,EAASA,EAAS,WAAa,GAAK,UACpCA,EAASA,EAAS,QAAU,GAAK,OACjCA,EAASA,EAAS,QAAU,GAAK,MACpC,CALD,CAKGA,KAAaA,GAAW,CAAC,IAE5B,SAAWC,GACPA,EAAYA,EAAY,YAAc,GAAK,WAC3CA,EAAYA,EAAY,QAAU,GAAK,OACvCA,EAAYA,EAAY,UAAY,GAAK,SACzCA,EAAYA,EAAY,iBAAmB,GAAK,gBAChDA,EAAYA,EAAY,QAAU,GAAK,OACvCA,EAAYA,EAAY,QAAU,GAAK,OACvCA,EAAYA,EAAY,aAAe,GAAK,YAC5CA,EAAYA,EAAY,WAAa,GAAK,UAC1CA,EAAYA,EAAY,WAAa,GAAK,UAC1CA,EAAYA,EAAY,cAAgB,GAAK,YAChD,CAXD,CAWGA,KAAgBA,GAAc,CAAC,IAElC,SAAWC,GACPA,EAAkBA,EAAkB,YAAc,GAAK,WACvDA,EAAkBA,EAAkB,kBAAoB,GAAK,iBAC7DA,EAAkBA,EAAkB,cAAgB,GAAK,YAC5D,CAJD,CAIGA,KAAsBA,GAAoB,CAAC,IAE9C,SAAWC,GACPA,EAAWA,EAAW,SAAW,GAAK,QACtCA,EAAWA,EAAW,UAAY,GAAK,SACvCA,EAAWA,EAAW,OAAS,GAAK,MACpCA,EAAWA,EAAW,YAAc,GAAK,UAC5C,CALD,CAKGA,KAAeA,GAAa,CAAC,IAEhC,SAAWC,GACPA,EAAaA,EAAa,SAAW,GAAK,QAC1CA,EAAaA,EAAa,UAAY,GAAK,SAC3CA,EAAaA,EAAa,OAAS,GAAK,MACxCA,EAAaA,EAAa,YAAc,GAAK,WAC7CA,EAAaA,EAAa,eAAiB,GAAK,cAChDA,EAAaA,EAAa,WAAa,GAAK,SAC/C,CAPD,CAOGA,KAAiBA,GAAe,CAAC,IAEpC,SAAWC,GACPA,EAAaA,EAAa,UAAY,GAAK,SAC3CA,EAAaA,EAAa,SAAW,GAAK,OAC7C,CAHD,CAGGA,KAAiBA,GAAe,CAAC,IAEpC,SAAWC,GACPA,EAAUA,EAAU,YAAc,GAAK,WACvCA,EAAUA,EAAU,SAAW,GAAK,QACpCA,EAAUA,EAAU,UAAY,GAAK,SACrCA,EAAUA,EAAU,UAAY,GAAK,SACrCA,EAAUA,EAAU,WAAa,GAAK,UACtCA,EAAUA,EAAU,UAAY,GAAK,QACxC,CAPD,CAOGA,KAAcA,GAAY,CAAC,IAE9B,SAAWC,GACPA,EAAgBA,EAAgB,UAAY,GAAK,SACjDA,EAAgBA,EAAgB,SAAW,GAAK,QAChDA,EAAgBA,EAAgB,OAAS,GAAK,MAC9CA,EAAgBA,EAAgB,YAAc,GAAK,WACnDA,EAAgBA,EAAgB,oBAAsB,GAAK,kBAC9D,CAND,CAMGA,KAAoBA,GAAkB,CAAC,IAE1C,SAAWC,GACPA,EAAeA,EAAe,YAAc,GAAK,WACjDA,EAAeA,EAAe,mBAAqB,GAAK,kBACxDA,EAAeA,EAAe,WAAa,GAAK,UAChDA,EAAeA,EAAe,OAAS,GAAK,MAC5CA,EAAeA,EAAe,SAAW,GAAK,QAC9CA,EAAeA,EAAe,aAAe,GAAK,YAClDA,EAAeA,EAAe,YAAc,GAAK,WACjDA,EAAeA,EAAe,WAAa,GAAK,SACnD,CATD,CASGA,KAAmBA,GAAiB,CAAC,IAExC,SAAWC,GACPA,EAAQA,EAAQ,SAAW,GAAK,QAChCA,EAAQA,EAAQ,WAAa,GAAK,SACrC,CAHD,CAGGA,KAAYA,GAAU,CAAC,IAE1B,SAAWC,GACPA,EAAgBA,EAAgB,OAAS,GAAK,MAC9CA,EAAgBA,EAAgB,YAAc,GAAK,WACnDA,EAAgBA,EAAgB,YAAc,GAAK,WACnDA,EAAgBA,EAAgB,OAAS,GAAK,MAC9CA,EAAgBA,EAAgB,WAAa,GAAK,UAClDA,EAAgBA,EAAgB,SAAW,GAAK,QAChDA,EAAgBA,EAAgB,SAAW,GAAK,QAChDA,EAAgBA,EAAgB,QAAU,GAAK,OAC/CA,EAAgBA,EAAgB,WAAa,GAAK,UAClDA,EAAgBA,EAAgB,UAAY,GAAK,SACjDA,EAAgBA,EAAgB,UAAY,IAAM,SAClDA,EAAgBA,EAAgB,WAAa,IAAM,UACnDA,EAAgBA,EAAgB,SAAW,IAAM,QACjDA,EAAgBA,EAAgB,QAAU,IAAM,OAChDA,EAAgBA,EAAgB,MAAQ,IAAM,KAC9CA,EAAgBA,EAAgB,UAAY,IAAM,SAClDA,EAAgBA,EAAgB,YAAc,IAAM,WACpDA,EAAgBA,EAAgB,YAAc,IAAM,WACpDA,EAAgBA,EAAgB,UAAY,IAAM,SAClDA,EAAgBA,EAAgB,YAAc,IAAM,WACpDA,EAAgBA,EAAgB,WAAa,IAAM,SACtD,CAtBD,CAsBGA,KAAoBA,GAAkB,CAAC,IAE1C,SAAWC,GACPA,EAAoBA,EAAoB,iBAAmB,GAAK,gBAChEA,EAAoBA,EAAoB,WAAa,GAAK,UAC1DA,EAAoBA,EAAoB,cAAgB,GAAK,aAC7DA,EAAoBA,EAAoB,WAAa,GAAK,SAC7D,CALD,CAKGA,KAAwBA,GAAsB,CAAC,IAElD,SAAWC,GACPA,EAAWA,EAAW,UAAY,GAAK,SACvCA,EAAWA,EAAW,OAAS,GAAK,MACpCA,EAAWA,EAAW,SAAW,GAAK,QACtCA,EAAWA,EAAW,cAAgB,GAAK,aAC3CA,EAAWA,EAAW,yBAA2B,GAAK,uBACzD,CAND,CAMGA,KAAeA,GAAa,CAAC,IAEhC,SAAWC,GACPA,EAAmBA,EAAmB,OAAS,GAAK,MACpDA,EAAmBA,EAAmB,WAAa,GAAK,UACxDA,EAAmBA,EAAmB,SAAW,GAAK,QACtDA,EAAmBA,EAAmB,QAAU,GAAK,OACrDA,EAAmBA,EAAmB,WAAa,GAAK,UACxDA,EAAmBA,EAAmB,UAAY,GAAK,SACvDA,EAAmBA,EAAmB,UAAY,GAAK,SACvDA,EAAmBA,EAAmB,WAAa,GAAK,UACxDA,EAAmBA,EAAmB,SAAW,GAAK,QACtDA,EAAmBA,EAAmB,QAAU,GAAK,OACrDA,EAAmBA,EAAmB,MAAQ,IAAM,KACpDA,EAAmBA,EAAmB,UAAY,IAAM,SACxDA,EAAmBA,EAAmB,YAAc,IAAM,WAC1DA,EAAmBA,EAAmB,YAAc,IAAM,WAC1DA,EAAmBA,EAAmB,YAAc,IAAM,WAC1DA,EAAmBA,EAAmB,gBAAkB,IAAM,eAC9DA,EAAmBA,EAAmB,kBAAoB,IAAM,iBAChEA,EAAmBA,EAAmB,kBAAoB,IAAM,iBAChEA,EAAmBA,EAAmB,eAAiB,IAAM,cAC7DA,EAAmBA,EAAmB,SAAW,IAAM,QACvDA,EAAmBA,EAAmB,UAAY,IAAM,SACxDA,EAAmBA,EAAmB,aAAe,OAAS,WACjE,CAvBD,CAuBGA,KAAuBA,GAAqB,CAAC,I,cCtOrCO,GAAoB,CAC3B,eACA,QACA,UACA,WACA,OACA,UACA,SACA,iBACA,WAwCG,SAASC,GAAkBC,EAAQC,GACtC,IAAIC,EAAK9c,EACT,IACI,IAAK,IAAI+c,EAAsB,GAASL,IAAoBM,EAAwBD,EAAoBlD,QAASmD,EAAsBjD,KAAMiD,EAAwBD,EAAoBlD,OAAQ,CAC7L,IAAIT,EAAI4D,EAAsBxe,MAC9Bqe,EAAK,OAASzD,GAAGwD,EAAO,OAASxD,KACrC,CACJ,CACA,MAAO6D,GAASH,EAAM,CAAEvX,MAAO0X,EAAS,CACxC,QACI,IACQD,IAA0BA,EAAsBjD,OAAS/Z,EAAK+c,EAAoBG,SAASld,EAAG5B,KAAK2e,EAC3G,CACA,QAAU,GAAID,EAAK,MAAMA,EAAIvX,KAAO,CACxC,CACJ,CAEA,IAAI4X,GAA4B,WAK5B,SAASA,EAAWP,GAChBD,GAAkBC,EAAQvgB,KAC9B,CAqFA,OApFA8gB,EAAWjf,UAAUkf,iBAAmB,WACpC,OAAO/gB,KAAKghB,YAChB,EACAF,EAAWjf,UAAUof,iBAAmB,SAAU7C,GAE9C,OADApe,KAAKghB,aAAe5C,EACbA,CACX,EACA0C,EAAWjf,UAAUqf,UAAY,WAC7B,OAAOlhB,KAAK8Q,KAChB,EACAgQ,EAAWjf,UAAUsf,UAAY,SAAU/C,GAEvC,OADApe,KAAK8Q,MAAQsN,EACNA,CACX,EACA0C,EAAWjf,UAAUuf,YAAc,WAC/B,OAAOphB,KAAKqhB,OAChB,EACAP,EAAWjf,UAAUyf,YAAc,SAAUlD,GAEzC,OADApe,KAAKqhB,QAAUjD,EACRA,CACX,EACA0C,EAAWjf,UAAU0f,YAAc,WAC/B,OAAOvhB,KAAKwhB,OAChB,EACAV,EAAWjf,UAAU4f,YAAc,SAAUrD,GAEzC,OADApe,KAAKwhB,QAAUpD,EACRA,CACX,EACA0C,EAAWjf,UAAU6f,aAAe,WAChC,OAAO1hB,KAAK2hB,QAChB,EACAb,EAAWjf,UAAU+f,aAAe,SAAUxD,GAE1C,OADApe,KAAK2hB,SAAWvD,EACTA,CACX,EACA0C,EAAWjf,UAAUggB,aAAe,WAChC,OAAO7hB,KAAK8hB,QAChB,EACAhB,EAAWjf,UAAUkgB,aAAe,SAAU3D,GAE1C,OADApe,KAAK8hB,SAAW1D,EACTA,CACX,EACA0C,EAAWjf,UAAUmgB,SAAW,WAC5B,OAAOhiB,KAAKuI,IAChB,EACAuY,EAAWjf,UAAUogB,SAAW,SAAU7D,GAEtC,OADApe,KAAKuI,KAAO6V,EACLA,CACX,EACA0C,EAAWjf,UAAUqgB,YAAc,WAC/B,OAAOliB,KAAKmiB,OAChB,EACArB,EAAWjf,UAAUugB,YAAc,SAAUhE,GAEzC,OADApe,KAAKmiB,QAAU/D,EACRA,CACX,EACA0C,EAAWjf,UAAUwgB,WAAa,WAC9B,OAAOriB,KAAKsiB,MAChB,EACAxB,EAAWjf,UAAU0gB,WAAa,SAAUnE,GAExC,OADApe,KAAKsiB,OAASlE,EACPA,CACX,EACA0C,EAAWjf,UAAU2gB,mBAAqB,WACtC,OAAOxiB,KAAKyiB,cAChB,EACA3B,EAAWjf,UAAU6gB,mBAAqB,SAAUtE,GAEhD,OADApe,KAAKyiB,eAAiBrE,EACfA,CACX,EACA0C,EAAWjf,UAAU8gB,cAAgB,WACjC,OAAO3iB,KAAK4iB,SAChB,EACA9B,EAAWjf,UAAUghB,cAAgB,SAAUzE,GAE3C,OADApe,KAAK4iB,UAAYxE,EACVA,CACX,EACA0C,EAAWjf,UAAUihB,YAAc,WAC/B,OAAO9iB,KAAK+iB,OAChB,EACAjC,EAAWjf,UAAUmhB,YAAc,SAAU5E,GAEzC,OADApe,KAAK+iB,QAAU3E,EACRA,CACX,EACO0C,CACX,CA7F+B,GCnE3BmC,GAAgC,CAChC,kBACA,wBAQmC5C,GAAkB7N,OAAOyQ,IAOzD,SAASC,GAA0BC,EAAOC,GAC7C,IAAIC,EAAW,OAASD,EAAQ,GAC5BjhB,EAAQihB,EAAQ,GACpBD,EAAME,GAAUlhB,EACpB,CAqBO,SAASmhB,GAA0B/C,EAAQC,GAC9C,IAAIC,EAAK9c,EACT2c,GAAkBC,EAAQC,GAC1B,IACI,IAAK,IAAI+C,EAAkC,GAASN,IAAgCO,EAAoCD,EAAgC/F,QAASgG,EAAkC9F,KAAM8F,EAAoCD,EAAgC/F,OAAQ,CACjR,IAAIT,EAAIyG,EAAkCrhB,MAC1Cqe,EAAK,OAASzD,GAAGwD,EAAO,OAASxD,KACrC,CACJ,CACA,MAAO6D,GAASH,EAAM,CAAEvX,MAAO0X,EAAS,CACxC,QACI,IACQ4C,IAAsCA,EAAkC9F,OAAS/Z,EAAK4f,EAAgC1C,SAASld,EAAG5B,KAAKwhB,EAC/I,CACA,QAAU,GAAI9C,EAAK,MAAMA,EAAIvX,KAAO,CACxC,CACJ,CAEA,IAAI,GAAoC,SAAUua,GAE9C,SAASC,EAAmBnD,GACxB,IAAIoD,EAGJF,EAAO1hB,KAAK/B,KAAMugB,IAAWvgB,KAE7B,OADAsjB,GAA0B/C,EAAQoD,GAC3BA,CACX,CAeA,OAvBApH,GAAUmH,EAAoBD,GAS9BC,EAAmB7hB,UAAU+hB,oBAAsB,WAC/C,OAAO5jB,KAAK6jB,eAChB,EACAH,EAAmB7hB,UAAUiiB,oBAAsB,SAAU1F,GAEzD,OADApe,KAAK6jB,gBAAkBzF,EAChBA,CACX,EACAsF,EAAmB7hB,UAAUkiB,yBAA2B,WACpD,OAAO/jB,KAAKgkB,oBAChB,EACAN,EAAmB7hB,UAAUoiB,yBAA2B,SAAU7F,GAE9D,OADApe,KAAKgkB,qBAAuB5F,EACrBA,CACX,EACOsF,CACX,CAzBuC,CAyBrC5C,ICrFEoD,GAAmC,CACnC,YACA,UACA,UACA,kBACA,aACA,uBACA,iBACA,iBACA,kBACA,kBACA,QACA,eACA,cACA,gBACA,WACA,iBACA,kBACA,kBACA,YACA,YACA,eACA,cACA,cACA,aACA,oBACA,uBACA,uBACA,gBACA,oBACA,mBACA,mBACA,WACA,iBACA,UACA,cACA,cACA,aACA,kBACA,aACA,cACA,eACA,cACA,eACA,cACA,gBAQsC7D,GAAkB7N,OAAO0R,IAO5D,SAASC,GAA6BhB,EAAOC,GAChD,IAAIC,EAAW,OAASD,EAAQ,GAC5BjhB,EAAQihB,EAAQ,GACpBD,EAAME,GAAUlhB,EACpB,CAqBO,SAASiiB,GAA6B7D,EAAQC,GACjD,IAAIC,EAAK9c,EACT2c,GAAkBC,EAAQC,GAC1B,IACI,IAAK,IAAI6D,EAAqC,GAASH,IAAmCI,EAAuCD,EAAmC7G,QAAS8G,EAAqC5G,KAAM4G,EAAuCD,EAAmC7G,OAAQ,CACtS,IAAIT,EAAIuH,EAAqCniB,MAC7Cqe,EAAK,OAASzD,GAAGwD,EAAO,OAASxD,KACrC,CACJ,CACA,MAAO6D,GAASH,EAAM,CAAEvX,MAAO0X,EAAS,CACxC,QACI,IACQ0D,IAAyCA,EAAqC5G,OAAS/Z,EAAK0gB,EAAmCxD,SAASld,EAAG5B,KAAKsiB,EACxJ,CACA,QAAU,GAAI5D,EAAK,MAAMA,EAAIvX,KAAO,CACxC,CACJ,CAEA,IAAIqb,GAAuC,SAAUd,GAEjD,SAASc,EAAsBhE,GAC3B,IAAIoD,EAGJF,EAAO1hB,KAAK/B,KAAMugB,IAAWvgB,KAE7B,OADAokB,GAA6B7D,EAAQoD,GAC9BA,CACX,CA4TA,OApUApH,GAAUgI,EAAuBd,GASjCc,EAAsB1iB,UAAU2iB,cAAgB,WAC5C,OAAOxkB,KAAKykB,SAChB,EACAF,EAAsB1iB,UAAU6iB,cAAgB,SAAUtG,GAEtD,OADApe,KAAKykB,UAAYrG,EACVA,CACX,EACAmG,EAAsB1iB,UAAU8iB,YAAc,WAC1C,OAAO3kB,KAAK4kB,OAChB,EACAL,EAAsB1iB,UAAUgjB,YAAc,SAAUzG,GAEpD,OADApe,KAAK4kB,QAAUxG,EACRA,CACX,EACAmG,EAAsB1iB,UAAUijB,YAAc,WAC1C,OAAO9kB,KAAK+kB,OAChB,EACAR,EAAsB1iB,UAAUmjB,YAAc,SAAU5G,GAEpD,OADApe,KAAK+kB,QAAU3G,EACRA,CACX,EACAmG,EAAsB1iB,UAAUojB,oBAAsB,WAClD,OAAOjlB,KAAKklB,eAChB,EACAX,EAAsB1iB,UAAUsjB,oBAAsB,SAAU/G,GAE5D,OADApe,KAAKklB,gBAAkB9G,EAChBA,CACX,EACAmG,EAAsB1iB,UAAUujB,eAAiB,WAC7C,OAAOplB,KAAKqlB,UAChB,EACAd,EAAsB1iB,UAAUyjB,eAAiB,SAAUlH,GAEvD,OADApe,KAAKqlB,WAAajH,EACXA,CACX,EACAmG,EAAsB1iB,UAAU0jB,yBAA2B,WACvD,OAAOvlB,KAAKwlB,oBAChB,EACAjB,EAAsB1iB,UAAU4jB,yBAA2B,SAAUrH,GAEjE,OADApe,KAAKwlB,qBAAuBpH,EACrBA,CACX,EACAmG,EAAsB1iB,UAAU6jB,mBAAqB,WACjD,OAAO1lB,KAAK2lB,cAChB,EACApB,EAAsB1iB,UAAU+jB,mBAAqB,SAAUxH,GAE3D,OADApe,KAAK2lB,eAAiBvH,EACfA,CACX,EACAmG,EAAsB1iB,UAAUgkB,mBAAqB,WACjD,OAAO7lB,KAAK8lB,cAChB,EACAvB,EAAsB1iB,UAAUkkB,mBAAqB,SAAU3H,GAE3D,OADApe,KAAK8lB,eAAiB1H,EACfA,CACX,EACAmG,EAAsB1iB,UAAU+hB,oBAAsB,WAClD,OAAO5jB,KAAK6jB,eAChB,EACAU,EAAsB1iB,UAAUiiB,oBAAsB,SAAU1F,GAE5D,OADApe,KAAK6jB,gBAAkBzF,EAChBA,CACX,EACAmG,EAAsB1iB,UAAUmkB,oBAAsB,WAClD,OAAOhmB,KAAKimB,eAChB,EACA1B,EAAsB1iB,UAAUqkB,oBAAsB,SAAU9H,GAE5D,OADApe,KAAKimB,gBAAkB7H,EAChBA,CACX,EACAmG,EAAsB1iB,UAAUskB,UAAY,WACxC,OAAOnmB,KAAKomB,KAChB,EACA7B,EAAsB1iB,UAAUwkB,UAAY,SAAUjI,GAElD,OADApe,KAAKomB,MAAQhI,EACNA,CACX,EACAmG,EAAsB1iB,UAAUykB,iBAAmB,WAC/C,OAAOtmB,KAAKumB,YAChB,EACAhC,EAAsB1iB,UAAU2kB,iBAAmB,SAAUpI,GAEzD,OADApe,KAAKumB,aAAenI,EACbA,CACX,EACAmG,EAAsB1iB,UAAU4kB,gBAAkB,WAC9C,OAAOzmB,KAAK0mB,WAChB,EACAnC,EAAsB1iB,UAAU8kB,gBAAkB,SAAUvI,GAExD,OADApe,KAAK0mB,YAActI,EACZA,CACX,EACAmG,EAAsB1iB,UAAU+kB,kBAAoB,WAChD,OAAO5mB,KAAK6mB,aAChB,EACAtC,EAAsB1iB,UAAUilB,kBAAoB,SAAU1I,GAE1D,OADApe,KAAK6mB,cAAgBzI,EACdA,CACX,EACAmG,EAAsB1iB,UAAUklB,aAAe,WAC3C,OAAO/mB,KAAKgnB,QAChB,EACAzC,EAAsB1iB,UAAUolB,aAAe,SAAU7I,GAErD,OADApe,KAAKgnB,SAAW5I,EACTA,CACX,EACAmG,EAAsB1iB,UAAUqlB,mBAAqB,WACjD,OAAOlnB,KAAKmnB,cAChB,EACA5C,EAAsB1iB,UAAUulB,mBAAqB,SAAUhJ,GAE3D,OADApe,KAAKmnB,eAAiB/I,EACfA,CACX,EACAmG,EAAsB1iB,UAAUwlB,oBAAsB,WAClD,OAAOrnB,KAAKsnB,eAChB,EACA/C,EAAsB1iB,UAAU0lB,oBAAsB,SAAUnJ,GAE5D,OADApe,KAAKsnB,gBAAkBlJ,EAChBA,CACX,EACAmG,EAAsB1iB,UAAU2lB,oBAAsB,WAClD,OAAOxnB,KAAKynB,eAChB,EACAlD,EAAsB1iB,UAAU6lB,oBAAsB,SAAUtJ,GAE5D,OADApe,KAAKynB,gBAAkBrJ,EAChBA,CACX,EACAmG,EAAsB1iB,UAAU8lB,cAAgB,WAC5C,OAAO3nB,KAAK4nB,SAChB,EACArD,EAAsB1iB,UAAUgmB,cAAgB,SAAUzJ,GAEtD,OADApe,KAAK4nB,UAAYxJ,EACVA,CACX,EACAmG,EAAsB1iB,UAAUimB,cAAgB,WAC5C,OAAO9nB,KAAK+nB,SAChB,EACAxD,EAAsB1iB,UAAUmmB,cAAgB,SAAU5J,GAEtD,OADApe,KAAK+nB,UAAY3J,EACVA,CACX,EACAmG,EAAsB1iB,UAAUomB,iBAAmB,WAC/C,OAAOjoB,KAAKkoB,YAChB,EACA3D,EAAsB1iB,UAAUsmB,iBAAmB,SAAU/J,GAEzD,OADApe,KAAKkoB,aAAe9J,EACbA,CACX,EACAmG,EAAsB1iB,UAAUumB,gBAAkB,WAC9C,OAAOpoB,KAAKqoB,WAChB,EACA9D,EAAsB1iB,UAAUymB,gBAAkB,SAAUlK,GAExD,OADApe,KAAKqoB,YAAcjK,EACZA,CACX,EACAmG,EAAsB1iB,UAAU0mB,gBAAkB,WAC9C,OAAOvoB,KAAKwoB,WAChB,EACAjE,EAAsB1iB,UAAU4mB,gBAAkB,SAAUrK,GAExD,OADApe,KAAKwoB,YAAcpK,EACZA,CACX,EACAmG,EAAsB1iB,UAAU6mB,eAAiB,WAC7C,OAAO1oB,KAAK2oB,UAChB,EACApE,EAAsB1iB,UAAU+mB,eAAiB,SAAUxK,GAEvD,OADApe,KAAK2oB,WAAavK,EACXA,CACX,EACAmG,EAAsB1iB,UAAUgnB,sBAAwB,WACpD,OAAO7oB,KAAK8oB,iBAChB,EACAvE,EAAsB1iB,UAAUknB,sBAAwB,SAAU3K,GAE9D,OADApe,KAAK8oB,kBAAoB1K,EAClBA,CACX,EACAmG,EAAsB1iB,UAAUmnB,yBAA2B,WACvD,OAAOhpB,KAAKipB,oBAChB,EACA1E,EAAsB1iB,UAAUqnB,yBAA2B,SAAU9K,GAEjE,OADApe,KAAKipB,qBAAuB7K,EACrBA,CACX,EACAmG,EAAsB1iB,UAAUsnB,yBAA2B,WACvD,OAAOnpB,KAAKopB,oBAChB,EACA7E,EAAsB1iB,UAAUwnB,yBAA2B,SAAUjL,GAEjE,OADApe,KAAKopB,qBAAuBhL,EACrBA,CACX,EACAmG,EAAsB1iB,UAAUynB,kBAAoB,WAChD,OAAOtpB,KAAKupB,aAChB,EACAhF,EAAsB1iB,UAAU2nB,kBAAoB,SAAUpL,GAE1D,OADApe,KAAKupB,cAAgBnL,EACdA,CACX,EACAmG,EAAsB1iB,UAAU4nB,sBAAwB,WACpD,OAAOzpB,KAAK0pB,iBAChB,EACAnF,EAAsB1iB,UAAU8nB,sBAAwB,SAAUvL,GAE9D,OADApe,KAAK0pB,kBAAoBtL,EAClBA,CACX,EACAmG,EAAsB1iB,UAAU+nB,qBAAuB,WACnD,OAAO5pB,KAAK6pB,gBAChB,EACAtF,EAAsB1iB,UAAUioB,qBAAuB,SAAU1L,GAE7D,OADApe,KAAK6pB,iBAAmBzL,EACjBA,CACX,EACAmG,EAAsB1iB,UAAUkoB,qBAAuB,WACnD,OAAO/pB,KAAKgqB,gBAChB,EACAzF,EAAsB1iB,UAAUooB,qBAAuB,SAAU7L,GAE7D,OADApe,KAAKgqB,iBAAmB5L,EACjBA,CACX,EACAmG,EAAsB1iB,UAAUqoB,aAAe,WAC3C,OAAOlqB,KAAKmqB,QAChB,EACA5F,EAAsB1iB,UAAUuoB,aAAe,SAAUhM,GAErD,OADApe,KAAKmqB,SAAW/L,EACTA,CACX,EACAmG,EAAsB1iB,UAAUwoB,mBAAqB,WACjD,OAAOrqB,KAAKsqB,cAChB,EACA/F,EAAsB1iB,UAAU0oB,mBAAqB,SAAUnM,GAE3D,OADApe,KAAKsqB,eAAiBlM,EACfA,CACX,EACAmG,EAAsB1iB,UAAU2oB,YAAc,WAC1C,OAAOxqB,KAAKyqB,OAChB,EACAlG,EAAsB1iB,UAAU6oB,YAAc,SAAUtM,GAEpD,OADApe,KAAKyqB,QAAUrM,EACRA,CACX,EACAmG,EAAsB1iB,UAAU8oB,gBAAkB,WAC9C,OAAO3qB,KAAK4qB,WAChB,EACArG,EAAsB1iB,UAAUgpB,gBAAkB,SAAUzM,GAExD,OADApe,KAAK4qB,YAAcxM,EACZA,CACX,EACAmG,EAAsB1iB,UAAUipB,gBAAkB,WAC9C,OAAO9qB,KAAK+qB,WAChB,EACAxG,EAAsB1iB,UAAUmpB,gBAAkB,SAAU5M,GAExD,OADApe,KAAK+qB,YAAc3M,EACZA,CACX,EACAmG,EAAsB1iB,UAAUopB,eAAiB,WAC7C,OAAOjrB,KAAKkrB,UAChB,EACA3G,EAAsB1iB,UAAUspB,eAAiB,SAAU/M,GAEvD,OADApe,KAAKkrB,WAAa9M,EACXA,CACX,EACAmG,EAAsB1iB,UAAUupB,oBAAsB,WAClD,OAAOprB,KAAKqrB,eAChB,EACA9G,EAAsB1iB,UAAUypB,oBAAsB,SAAUlN,GAE5D,OADApe,KAAKqrB,gBAAkBjN,EAChBA,CACX,EACAmG,EAAsB1iB,UAAU0pB,eAAiB,WAC7C,OAAOvrB,KAAKwrB,UAChB,EACAjH,EAAsB1iB,UAAU4pB,eAAiB,SAAUrN,GAEvD,OADApe,KAAKwrB,WAAapN,EACXA,CACX,EACAmG,EAAsB1iB,UAAU6pB,gBAAkB,WAC9C,OAAO1rB,KAAK2rB,WAChB,EACApH,EAAsB1iB,UAAU+pB,gBAAkB,SAAUxN,GAExD,OADApe,KAAK2rB,YAAcvN,EACZA,CACX,EACAmG,EAAsB1iB,UAAUgqB,iBAAmB,WAC/C,OAAO7rB,KAAK8rB,YAChB,EACAvH,EAAsB1iB,UAAUkqB,iBAAmB,SAAU3N,GAEzD,OADApe,KAAK8rB,aAAe1N,EACbA,CACX,EACAmG,EAAsB1iB,UAAUmqB,gBAAkB,WAC9C,OAAOhsB,KAAKisB,WAChB,EACA1H,EAAsB1iB,UAAUqqB,gBAAkB,SAAU9N,GAExD,OADApe,KAAKisB,YAAc7N,EACZA,CACX,EACAmG,EAAsB1iB,UAAUsqB,iBAAmB,WAC/C,OAAOnsB,KAAKosB,YAChB,EACA7H,EAAsB1iB,UAAUwqB,iBAAmB,SAAUjO,GAEzD,OADApe,KAAKosB,aAAehO,EACbA,CACX,EACAmG,EAAsB1iB,UAAUyqB,gBAAkB,WAC9C,OAAOtsB,KAAKusB,WAChB,EACAhI,EAAsB1iB,UAAU2qB,gBAAkB,SAAUpO,GAExD,OADApe,KAAKusB,YAAcnO,EACZA,CACX,EACAmG,EAAsB1iB,UAAU4qB,iBAAmB,WAC/C,OAAOzsB,KAAK0sB,YAChB,EACAnI,EAAsB1iB,UAAU8qB,iBAAmB,SAAUvO,GAEzD,OADApe,KAAK0sB,aAAetO,EACbA,CACX,EACOmG,CACX,CAtU0C,CAsUxCzD,IChbS8L,GAAyB,CAChC,KACA,QACA,UACA,iBACA,OAwCG,SAASC,GAAuBtM,EAAQC,GAC3C,IAAIC,EAAK9c,EACT,IACI,IAAK,IAAImpB,EAA2B,GAASF,IAAyBG,EAA6BD,EAAyBtP,QAASuP,EAA2BrP,KAAMqP,EAA6BD,EAAyBtP,OAAQ,CAChO,IAAIT,EAAIgQ,EAA2B5qB,MACnCqe,EAAK,OAASzD,GAAGwD,EAAO,OAASxD,KACrC,CACJ,CACA,MAAO6D,GAASH,EAAM,CAAEvX,MAAO0X,EAAS,CACxC,QACI,IACQmM,IAA+BA,EAA2BrP,OAAS/Z,EAAKmpB,EAAyBjM,SAASld,EAAG5B,KAAK+qB,EAC1H,CACA,QAAU,GAAIrM,EAAK,MAAMA,EAAIvX,KAAO,CACxC,CACJ,CAEA,IAAI8jB,GAAiC,WACjC,SAASA,EAAgBzM,GACrBsM,GAAuBtM,EAAQvgB,KACnC,CAoCA,OAnCAgtB,EAAgBnrB,UAAUorB,OAAS,WAC/B,OAAOjtB,KAAKwE,EAChB,EACAwoB,EAAgBnrB,UAAUqrB,OAAS,SAAU9O,GAEzC,OADApe,KAAKwE,GAAK4Z,EACHA,CACX,EACA4O,EAAgBnrB,UAAUsrB,UAAY,WAClC,OAAOntB,KAAKmO,KAChB,EACA6e,EAAgBnrB,UAAUurB,UAAY,SAAUhP,GAE5C,OADApe,KAAKmO,MAAQiQ,EACNA,CACX,EACA4O,EAAgBnrB,UAAUqgB,YAAc,WACpC,OAAOliB,KAAKmiB,OAChB,EACA6K,EAAgBnrB,UAAUugB,YAAc,SAAUhE,GAE9C,OADApe,KAAKmiB,QAAU/D,EACRA,CACX,EACA4O,EAAgBnrB,UAAUwrB,mBAAqB,WAC3C,OAAOrtB,KAAKstB,cAChB,EACAN,EAAgBnrB,UAAU0rB,mBAAqB,SAAUnP,GAErD,OADApe,KAAKstB,eAAiBlP,EACfA,CACX,EACA4O,EAAgBnrB,UAAU2rB,QAAU,WAChC,OAAOxtB,KAAKytB,GAChB,EACAT,EAAgBnrB,UAAU6rB,QAAU,SAAUtP,GAE1C,OADApe,KAAKytB,IAAMrP,EACJA,CACX,EACO4O,CACX,CAxCoC,GC9DhCW,GAAmC,CACnC,OACA,YACA,YACA,YACA,SACA,eAQsCf,GAAuBpa,OAAOmb,IAwCjE,SAASC,GAA6BrN,EAAQC,GACjD,IAAIC,EAAK9c,EACTkpB,GAAuBtM,EAAQC,GAC/B,IACI,IAAK,IAAIqN,EAAqC,GAASF,IAAmCG,EAAuCD,EAAmCrQ,QAASsQ,EAAqCpQ,KAAMoQ,EAAuCD,EAAmCrQ,OAAQ,CACtS,IAAIT,EAAI+Q,EAAqC3rB,MAC7Cqe,EAAK,OAASzD,GAAGwD,EAAO,OAASxD,KACrC,CACJ,CACA,MAAO6D,GAASH,EAAM,CAAEvX,MAAO0X,EAAS,CACxC,QACI,IACQkN,IAAyCA,EAAqCpQ,OAAS/Z,EAAKkqB,EAAmChN,SAASld,EAAG5B,KAAK8rB,EACxJ,CACA,QAAU,GAAIpN,EAAK,MAAMA,EAAIvX,KAAO,CACxC,CACJ,EAE2C,SAAUua,GAEjD,SAASsK,EAAsBxN,GAC3B,IAAIoD,EAAQF,EAAO1hB,KAAK/B,KAAMugB,IAAWvgB,KAEzC,OADA4tB,GAA6BrN,EAAQoD,GAC9BA,CACX,CALApH,GAAUwR,EAAuBtK,GAMjCsK,EAAsBlsB,UAAUmsB,SAAW,WACvC,OAAOhuB,KAAKiuB,IAChB,EACAF,EAAsBlsB,UAAUqsB,SAAW,SAAU9P,GAEjD,OADApe,KAAKiuB,KAAO7P,EACLA,CACX,EACA2P,EAAsBlsB,UAAUssB,cAAgB,WAC5C,OAAOnuB,KAAKouB,SAChB,EACAL,EAAsBlsB,UAAUwsB,cAAgB,SAAUjQ,GAEtD,OADApe,KAAKouB,UAAYhQ,EACVA,CACX,EACA2P,EAAsBlsB,UAAUysB,cAAgB,WAC5C,OAAOtuB,KAAKuuB,SAChB,EACAR,EAAsBlsB,UAAU2sB,cAAgB,SAAUpQ,GAEtD,OADApe,KAAKuuB,UAAYnQ,EACVA,CACX,EACA2P,EAAsBlsB,UAAU4sB,cAAgB,WAC5C,OAAOzuB,KAAK0uB,SAChB,EACAX,EAAsBlsB,UAAU8sB,cAAgB,SAAUvQ,GAEtD,OADApe,KAAK0uB,UAAYtQ,EACVA,CACX,EACA2P,EAAsBlsB,UAAU+sB,WAAa,WACzC,OAAO5uB,KAAK6uB,MAChB,EACAd,EAAsBlsB,UAAUitB,WAAa,SAAU1Q,GAEnD,OADApe,KAAK6uB,OAASzQ,EACPA,CACX,EACA2P,EAAsBlsB,UAAUktB,gBAAkB,WAC9C,OAAO/uB,KAAKgvB,WAChB,EACAjB,EAAsBlsB,UAAUotB,gBAAkB,SAAU7Q,GAExD,OADApe,KAAKgvB,YAAc5Q,EACZA,CACX,CAEJ,EAlD0C,CAkDxC4O,IAlDF,ICpEWkC,GAAqB,CAC5B,oBACA,iBACA,yBACA,gCACA,2BACA,6BACA,4BACA,2BACA,4BACA,iBACA,8BACA,wBACA,kBACA,mBACA,gBACA,oBACA,sBACA,oBACA,eACA,mBACA,mBACA,cACA,cACA,gBACA,qBACA,qBACA,uBACA,gBACA,oBACA,6BACA,2BACA,0BACA,4BACA,qBACA,6BACA,iBACA,eACA,eACA,mBACA,uBACA,2BACA,qBACA,yBACA,mBACA,uBACA,WACA,cACA,eACA,sBACA,eACA,kBACA,sBACA,cACA,kBACA,YACA,iBACA,oBACA,sBACA,sBACA,0BACA,sBACA,oBACA,sBACA,qBACA,mBACA,mBACA,0BAwDG,SAASC,GAAmB5O,EAAQC,GACvC,IAAIC,EAAK9c,EACT,IACI,IAAK,IAAIyrB,EAAuB,GAASF,IAAqBG,EAAyBD,EAAqB5R,QAAS6R,EAAuB3R,KAAM2R,EAAyBD,EAAqB5R,OAAQ,CACpM,IAAIT,EAAIsS,EAAuBltB,MAC/Bqe,EAAK,OAASzD,GAAGwD,EAAO,OAASxD,KACrC,CACJ,CACA,MAAO6D,GAASH,EAAM,CAAEvX,MAAO0X,EAAS,CACxC,QACI,IACQyO,IAA2BA,EAAuB3R,OAAS/Z,EAAKyrB,EAAqBvO,SAASld,EAAG5B,KAAKqtB,EAC9G,CACA,QAAU,GAAI3O,EAAK,MAAMA,EAAIvX,KAAO,CACxC,CACJ,EAEiC,WAC7B,SAASomB,EAAY/O,GACjB4O,GAAmB5O,EAAQvgB,KAC/B,CACAsvB,EAAYztB,UAAU0tB,sBAAwB,WAC1C,OAAOvvB,KAAKwvB,iBAChB,EACAF,EAAYztB,UAAU4tB,sBAAwB,SAAUrR,GAEpD,OADApe,KAAKwvB,kBAAoBpR,EAClBA,CACX,EACAkR,EAAYztB,UAAU6tB,2BAA6B,WAC/C,OAAO1vB,KAAK2vB,sBAChB,EACAL,EAAYztB,UAAU+tB,2BAA6B,SAAUxR,GAEzD,OADApe,KAAK2vB,uBAAyBvR,EACvBA,CACX,EACAkR,EAAYztB,UAAUguB,kCAAoC,WACtD,OAAO7vB,KAAK8vB,6BAChB,EACAR,EAAYztB,UAAUkuB,kCAAoC,SAAU3R,GAEhE,OADApe,KAAK8vB,8BAAgC1R,EAC9BA,CACX,EACAkR,EAAYztB,UAAUmuB,6BAA+B,WACjD,OAAOhwB,KAAKiwB,wBAChB,EACAX,EAAYztB,UAAUquB,6BAA+B,SAAU9R,GAE3D,OADApe,KAAKiwB,yBAA2B7R,EACzBA,CACX,EACAkR,EAAYztB,UAAUsuB,+BAAiC,WACnD,OAAOnwB,KAAKowB,0BAChB,EACAd,EAAYztB,UAAUwuB,+BAAiC,SAAUjS,GAE7D,OADApe,KAAKowB,2BAA6BhS,EAC3BA,CACX,EACAkR,EAAYztB,UAAUyuB,8BAAgC,WAClD,OAAOtwB,KAAKuwB,yBAChB,EACAjB,EAAYztB,UAAU2uB,8BAAgC,SAAUpS,GAE5D,OADApe,KAAKuwB,0BAA4BnS,EAC1BA,CACX,EACAkR,EAAYztB,UAAU4uB,6BAA+B,WACjD,OAAOzwB,KAAK0wB,wBAChB,EACApB,EAAYztB,UAAU8uB,6BAA+B,SAAUvS,GAE3D,OADApe,KAAK0wB,yBAA2BtS,EACzBA,CACX,EACAkR,EAAYztB,UAAU+uB,mBAAqB,WACvC,OAAO5wB,KAAK6wB,cAChB,EACAvB,EAAYztB,UAAUivB,mBAAqB,SAAU1S,GAEjD,OADApe,KAAK6wB,eAAiBzS,EACfA,CACX,EACAkR,EAAYztB,UAAUkvB,gCAAkC,WACpD,OAAO/wB,KAAKgxB,2BAChB,EACA1B,EAAYztB,UAAUovB,gCAAkC,SAAU7S,GAE9D,OADApe,KAAKgxB,4BAA8B5S,EAC5BA,CACX,EACAkR,EAAYztB,UAAUqvB,0BAA4B,WAC9C,OAAOlxB,KAAKmxB,qBAChB,EACA7B,EAAYztB,UAAUuvB,0BAA4B,SAAUhT,GAExD,OADApe,KAAKmxB,sBAAwB/S,EACtBA,CACX,EACAkR,EAAYztB,UAAUwvB,oBAAsB,WACxC,OAAOrxB,KAAKsxB,eAChB,EACAhC,EAAYztB,UAAU0vB,oBAAsB,SAAUnT,GAElD,OADApe,KAAKsxB,gBAAkBlT,EAChBA,CACX,EACAkR,EAAYztB,UAAU2vB,qBAAuB,WACzC,OAAOxxB,KAAKyxB,gBAChB,EACAnC,EAAYztB,UAAU6vB,qBAAuB,SAAUtT,GAEnD,OADApe,KAAKyxB,iBAAmBrT,EACjBA,CACX,EACAkR,EAAYztB,UAAU8vB,iBAAmB,WACrC,OAAO3xB,KAAK4xB,YAChB,EACAtC,EAAYztB,UAAUgwB,iBAAmB,SAAUzT,GAE/C,OADApe,KAAK4xB,aAAexT,EACbA,CACX,EACAkR,EAAYztB,UAAUiwB,qBAAuB,WACzC,OAAO9xB,KAAK+xB,gBAChB,EACAzC,EAAYztB,UAAUmwB,qBAAuB,SAAU5T,GAEnD,OADApe,KAAK+xB,iBAAmB3T,EACjBA,CACX,EACAkR,EAAYztB,UAAUowB,qBAAuB,WACzC,OAAOjyB,KAAKkyB,gBAChB,EACA5C,EAAYztB,UAAUswB,qBAAuB,SAAU/T,GAEnD,OADApe,KAAKkyB,iBAAmB9T,EACjBA,CACX,EACAkR,EAAYztB,UAAUuwB,gBAAkB,WACpC,OAAOpyB,KAAKqyB,WAChB,EACA/C,EAAYztB,UAAUywB,gBAAkB,SAAUlU,GAE9C,OADApe,KAAKqyB,YAAcjU,EACZA,CACX,EACAkR,EAAYztB,UAAU0wB,gBAAkB,WACpC,OAAOvyB,KAAKwyB,WAChB,EACAlD,EAAYztB,UAAU4wB,gBAAkB,SAAUrU,GAE9C,OADApe,KAAKwyB,YAAcpU,EACZA,CACX,EACAkR,EAAYztB,UAAU6wB,kBAAoB,WACtC,OAAO1yB,KAAK2yB,aAChB,EACArD,EAAYztB,UAAU+wB,kBAAoB,SAAUxU,GAEhD,OADApe,KAAK2yB,cAAgBvU,EACdA,CACX,EACAkR,EAAYztB,UAAUgxB,uBAAyB,WAC3C,OAAO7yB,KAAK8yB,kBAChB,EACAxD,EAAYztB,UAAUkxB,uBAAyB,SAAU3U,GAErD,OADApe,KAAK8yB,mBAAqB1U,EACnBA,CACX,EACAkR,EAAYztB,UAAUmxB,uBAAyB,WAC3C,OAAOhzB,KAAKizB,kBAChB,EACA3D,EAAYztB,UAAUqxB,uBAAyB,SAAU9U,GAErD,OADApe,KAAKizB,mBAAqB7U,EACnBA,CACX,EACAkR,EAAYztB,UAAUsxB,kBAAoB,WACtC,OAAOnzB,KAAKozB,aAChB,EACA9D,EAAYztB,UAAUwxB,kBAAoB,SAAUjV,GAEhD,OADApe,KAAKozB,cAAgBhV,EACdA,CACX,EACAkR,EAAYztB,UAAUyxB,sBAAwB,WAC1C,OAAOtzB,KAAKuzB,iBAChB,EACAjE,EAAYztB,UAAU2xB,sBAAwB,SAAUpV,GAEpD,OADApe,KAAKuzB,kBAAoBnV,EAClBA,CACX,EACAkR,EAAYztB,UAAU4xB,+BAAiC,WACnD,OAAOzzB,KAAK0zB,0BAChB,EACApE,EAAYztB,UAAU8xB,+BAAiC,SAAUvV,GAE7D,OADApe,KAAK0zB,2BAA6BtV,EAC3BA,CACX,EACAkR,EAAYztB,UAAU+xB,6BAA+B,WACjD,OAAO5zB,KAAK6zB,wBAChB,EACAvE,EAAYztB,UAAUiyB,6BAA+B,SAAU1V,GAE3D,OADApe,KAAK6zB,yBAA2BzV,EACzBA,CACX,EACAkR,EAAYztB,UAAUkyB,4BAA8B,WAChD,OAAO/zB,KAAKg0B,uBAChB,EACA1E,EAAYztB,UAAUoyB,4BAA8B,SAAU7V,GAE1D,OADApe,KAAKg0B,wBAA0B5V,EACxBA,CACX,EACAkR,EAAYztB,UAAUqyB,8BAAgC,WAClD,OAAOl0B,KAAKm0B,yBAChB,EACA7E,EAAYztB,UAAUuyB,8BAAgC,SAAUhW,GAE5D,OADApe,KAAKm0B,0BAA4B/V,EAC1BA,CACX,EACAkR,EAAYztB,UAAUwyB,uBAAyB,WAC3C,OAAOr0B,KAAKs0B,kBAChB,EACAhF,EAAYztB,UAAU0yB,uBAAyB,SAAUnW,GAErD,OADApe,KAAKs0B,mBAAqBlW,EACnBA,CACX,EACAkR,EAAYztB,UAAU2yB,+BAAiC,WACnD,OAAOx0B,KAAKy0B,0BAChB,EACAnF,EAAYztB,UAAU6yB,+BAAiC,SAAUtW,GAE7D,OADApe,KAAKy0B,2BAA6BrW,EAC3BA,CACX,EACAkR,EAAYztB,UAAU8yB,mBAAqB,WACvC,OAAO30B,KAAK40B,cAChB,EACAtF,EAAYztB,UAAUgzB,mBAAqB,SAAUzW,GAEjD,OADApe,KAAK40B,eAAiBxW,EACfA,CACX,EACAkR,EAAYztB,UAAUizB,iBAAmB,WACrC,OAAO90B,KAAK+0B,YAChB,EACAzF,EAAYztB,UAAUmzB,iBAAmB,SAAU5W,GAE/C,OADApe,KAAK+0B,aAAe3W,EACbA,CACX,EACAkR,EAAYztB,UAAUozB,iBAAmB,WACrC,OAAOj1B,KAAKk1B,YAChB,EACA5F,EAAYztB,UAAUszB,iBAAmB,SAAU/W,GAE/C,OADApe,KAAKk1B,aAAe9W,EACbA,CACX,EACAkR,EAAYztB,UAAUuzB,qBAAuB,WACzC,OAAOp1B,KAAKq1B,gBAChB,EACA/F,EAAYztB,UAAUyzB,qBAAuB,SAAUlX,GAEnD,OADApe,KAAKq1B,iBAAmBjX,EACjBA,CACX,EACAkR,EAAYztB,UAAU0zB,yBAA2B,WAC7C,OAAOv1B,KAAKw1B,oBAChB,EACAlG,EAAYztB,UAAU4zB,yBAA2B,SAAUrX,GAEvD,OADApe,KAAKw1B,qBAAuBpX,EACrBA,CACX,EACAkR,EAAYztB,UAAU6zB,6BAA+B,WACjD,OAAO11B,KAAK21B,wBAChB,EACArG,EAAYztB,UAAU+zB,6BAA+B,SAAUxX,GAE3D,OADApe,KAAK21B,yBAA2BvX,EACzBA,CACX,EACAkR,EAAYztB,UAAUg0B,uBAAyB,WAC3C,OAAO71B,KAAK81B,kBAChB,EACAxG,EAAYztB,UAAUk0B,uBAAyB,SAAU3X,GAErD,OADApe,KAAK81B,mBAAqB1X,EACnBA,CACX,EACAkR,EAAYztB,UAAUm0B,2BAA6B,WAC/C,OAAOh2B,KAAKi2B,sBAChB,EACA3G,EAAYztB,UAAUq0B,2BAA6B,SAAU9X,GAEzD,OADApe,KAAKi2B,uBAAyB7X,EACvBA,CACX,EACAkR,EAAYztB,UAAUs0B,qBAAuB,WACzC,OAAOn2B,KAAKo2B,gBAChB,EACA9G,EAAYztB,UAAUw0B,qBAAuB,SAAUjY,GAEnD,OADApe,KAAKo2B,iBAAmBhY,EACjBA,CACX,EACAkR,EAAYztB,UAAUy0B,yBAA2B,WAC7C,OAAOt2B,KAAKu2B,oBAChB,EACAjH,EAAYztB,UAAU20B,yBAA2B,SAAUpY,GAEvD,OADApe,KAAKu2B,qBAAuBnY,EACrBA,CACX,EACAkR,EAAYztB,UAAU40B,aAAe,WACjC,OAAOz2B,KAAK02B,QAChB,EACApH,EAAYztB,UAAU80B,aAAe,SAAUvY,GAE3C,OADApe,KAAK02B,SAAWtY,EACTA,CACX,EACAkR,EAAYztB,UAAU+0B,gBAAkB,WACpC,OAAO52B,KAAK62B,WAChB,EACAvH,EAAYztB,UAAUi1B,gBAAkB,SAAU1Y,GAE9C,OADApe,KAAK62B,YAAczY,EACZA,CACX,EACAkR,EAAYztB,UAAUk1B,iBAAmB,WACrC,OAAO/2B,KAAKg3B,YAChB,EACA1H,EAAYztB,UAAUo1B,iBAAmB,SAAU7Y,GAE/C,OADApe,KAAKg3B,aAAe5Y,EACbA,CACX,EACAkR,EAAYztB,UAAUq1B,wBAA0B,WAC5C,OAAOl3B,KAAKm3B,mBAChB,EACA7H,EAAYztB,UAAUu1B,wBAA0B,SAAUhZ,GAEtD,OADApe,KAAKm3B,oBAAsB/Y,EACpBA,CACX,EACAkR,EAAYztB,UAAUw1B,iBAAmB,WACrC,OAAOr3B,KAAKs3B,YAChB,EACAhI,EAAYztB,UAAU01B,iBAAmB,SAAUnZ,GAE/C,OADApe,KAAKs3B,aAAelZ,EACbA,CACX,EACAkR,EAAYztB,UAAU21B,oBAAsB,WACxC,OAAOx3B,KAAKy3B,eAChB,EACAnI,EAAYztB,UAAU61B,oBAAsB,SAAUtZ,GAElD,OADApe,KAAKy3B,gBAAkBrZ,EAChBA,CACX,EACAkR,EAAYztB,UAAU81B,wBAA0B,WAC5C,OAAO33B,KAAK43B,mBAChB,EACAtI,EAAYztB,UAAUg2B,wBAA0B,SAAUzZ,GAEtD,OADApe,KAAK43B,oBAAsBxZ,EACpBA,CACX,EACAkR,EAAYztB,UAAUi2B,gBAAkB,WACpC,OAAO93B,KAAK+3B,WAChB,EACAzI,EAAYztB,UAAUm2B,gBAAkB,SAAU5Z,GAE9C,OADApe,KAAK+3B,YAAc3Z,EACZA,CACX,EACAkR,EAAYztB,UAAUo2B,oBAAsB,WACxC,OAAOj4B,KAAKk4B,eAChB,EACA5I,EAAYztB,UAAUs2B,oBAAsB,SAAU/Z,GAElD,OADApe,KAAKk4B,gBAAkB9Z,EAChBA,CACX,EACAkR,EAAYztB,UAAUu2B,cAAgB,WAClC,OAAOp4B,KAAKq4B,SAChB,EACA/I,EAAYztB,UAAUy2B,cAAgB,SAAUla,GAE5C,OADApe,KAAKq4B,UAAYja,EACVA,CACX,EACAkR,EAAYztB,UAAU02B,mBAAqB,WACvC,OAAOv4B,KAAKw4B,cAChB,EACAlJ,EAAYztB,UAAU42B,mBAAqB,SAAUra,GAEjD,OADApe,KAAKw4B,eAAiBpa,EACfA,CACX,EACAkR,EAAYztB,UAAU62B,sBAAwB,WAC1C,OAAO14B,KAAK24B,iBAChB,EACArJ,EAAYztB,UAAU+2B,sBAAwB,SAAUxa,GAEpD,OADApe,KAAK24B,kBAAoBva,EAClBA,CACX,EACAkR,EAAYztB,UAAUg3B,wBAA0B,WAC5C,OAAO74B,KAAK84B,mBAChB,EACAxJ,EAAYztB,UAAUk3B,wBAA0B,SAAU3a,GAEtD,OADApe,KAAK84B,oBAAsB1a,EACpBA,CACX,EACAkR,EAAYztB,UAAUm3B,wBAA0B,WAC5C,OAAOh5B,KAAKi5B,mBAChB,EACA3J,EAAYztB,UAAUq3B,wBAA0B,SAAU9a,GAEtD,OADApe,KAAKi5B,oBAAsB7a,EACpBA,CACX,EACAkR,EAAYztB,UAAUs3B,4BAA8B,WAChD,OAAOn5B,KAAKo5B,uBAChB,EACA9J,EAAYztB,UAAUw3B,4BAA8B,SAAUjb,GAE1D,OADApe,KAAKo5B,wBAA0Bhb,EACxBA,CACX,EACAkR,EAAYztB,UAAUy3B,wBAA0B,WAC5C,OAAOt5B,KAAKu5B,mBAChB,EACAjK,EAAYztB,UAAU23B,wBAA0B,SAAUpb,GAEtD,OADApe,KAAKu5B,oBAAsBnb,EACpBA,CACX,EACAkR,EAAYztB,UAAU43B,sBAAwB,WAC1C,OAAOz5B,KAAK05B,iBAChB,EACApK,EAAYztB,UAAU83B,sBAAwB,SAAUvb,GAEpD,OADApe,KAAK05B,kBAAoBtb,EAClBA,CACX,EACAkR,EAAYztB,UAAU+3B,wBAA0B,WAC5C,OAAO55B,KAAK65B,mBAChB,EACAvK,EAAYztB,UAAUi4B,wBAA0B,SAAU1b,GAEtD,OADApe,KAAK65B,oBAAsBzb,EACpBA,CACX,EACAkR,EAAYztB,UAAUk4B,uBAAyB,WAC3C,OAAO/5B,KAAKg6B,kBAChB,EACA1K,EAAYztB,UAAUo4B,uBAAyB,SAAU7b,GAErD,OADApe,KAAKg6B,mBAAqB5b,EACnBA,CACX,EACAkR,EAAYztB,UAAUq4B,qBAAuB,WACzC,OAAOl6B,KAAKm6B,gBAChB,EACA7K,EAAYztB,UAAUu4B,qBAAuB,SAAUhc,GAEnD,OADApe,KAAKm6B,iBAAmB/b,EACjBA,CACX,EACAkR,EAAYztB,UAAUw4B,qBAAuB,WACzC,OAAOr6B,KAAKs6B,gBAChB,EACAhL,EAAYztB,UAAU04B,qBAAuB,SAAUnc,GAEnD,OADApe,KAAKs6B,iBAAmBlc,EACjBA,CACX,EACAkR,EAAYztB,UAAU24B,2BAA6B,WAC/C,OAAOx6B,KAAKy6B,sBAChB,EACAnL,EAAYztB,UAAU64B,2BAA6B,SAAUtc,GAEzD,OADApe,KAAKy6B,uBAAyBrc,EACvBA,CACX,CAEJ,EAzagC,GAAhC,IChJIuc,GAAiC,CACjC,OACA,YACA,YACA,aAQoC/N,GAAuBpa,OAAOmoB,IAsC/D,SAASC,GAA2Bra,EAAQC,GAC/C,IAAIC,EAAK9c,EACTkpB,GAAuBtM,EAAQC,GAC/B,IACI,IAAK,IAAIqa,EAAmC,GAASF,IAAiCG,EAAqCD,EAAiCrd,QAASsd,EAAmCpd,KAAMod,EAAqCD,EAAiCrd,OAAQ,CACxR,IAAIT,EAAI+d,EAAmC34B,MAC3Cqe,EAAK,OAASzD,GAAGwD,EAAO,OAASxD,KACrC,CACJ,CACA,MAAO6D,GAASH,EAAM,CAAEvX,MAAO0X,EAAS,CACxC,QACI,IACQka,IAAuCA,EAAmCpd,OAAS/Z,EAAKk3B,EAAiCha,SAASld,EAAG5B,KAAK84B,EAClJ,CACA,QAAU,GAAIpa,EAAK,MAAMA,EAAIvX,KAAO,CACxC,CACJ,EAEyC,SAAUua,GAE/C,SAASsX,EAAoBxa,GACzB,IAAIoD,EAAQF,EAAO1hB,KAAK/B,KAAMugB,IAAWvgB,KAEzC,OADA46B,GAA2Bra,EAAQoD,GAC5BA,CACX,CALApH,GAAUwe,EAAqBtX,GAM/BsX,EAAoBl5B,UAAUmsB,SAAW,WACrC,OAAOhuB,KAAKiuB,IAChB,EACA8M,EAAoBl5B,UAAUqsB,SAAW,SAAU9P,GAE/C,OADApe,KAAKiuB,KAAO7P,EACLA,CACX,EACA2c,EAAoBl5B,UAAUssB,cAAgB,WAC1C,OAAOnuB,KAAKouB,SAChB,EACA2M,EAAoBl5B,UAAUwsB,cAAgB,SAAUjQ,GAEpD,OADApe,KAAKouB,UAAYhQ,EACVA,CACX,EACA2c,EAAoBl5B,UAAUysB,cAAgB,WAC1C,OAAOtuB,KAAKuuB,SAChB,EACAwM,EAAoBl5B,UAAU2sB,cAAgB,SAAUpQ,GAEpD,OADApe,KAAKuuB,UAAYnQ,EACVA,CACX,EACA2c,EAAoBl5B,UAAU4sB,cAAgB,WAC1C,OAAOzuB,KAAK0uB,SAChB,EACAqM,EAAoBl5B,UAAU8sB,cAAgB,SAAUvQ,GAEpD,OADApe,KAAK0uB,UAAYtQ,EACVA,CACX,CAEJ,EApCwC,CAoCtC4O,IApCF,ICpEIgO,GAAqC,CACrC,YACA,aAQwCpO,GAAuBpa,OAAOwoB,IAoCnE,SAASC,GAA+B1a,EAAQC,GACnD,IAAIC,EAAK9c,EACTkpB,GAAuBtM,EAAQC,GAC/B,IACI,IAAK,IAAI0a,EAAuC,GAASF,IAAqCG,EAAyCD,EAAqC1d,QAAS2d,EAAuCzd,KAAMyd,EAAyCD,EAAqC1d,OAAQ,CACpT,IAAIT,EAAIoe,EAAuCh5B,MAC/Cqe,EAAK,OAASzD,GAAGwD,EAAO,OAASxD,KACrC,CACJ,CACA,MAAO6D,GAASH,EAAM,CAAEvX,MAAO0X,EAAS,CACxC,QACI,IACQua,IAA2CA,EAAuCzd,OAAS/Z,EAAKu3B,EAAqCra,SAASld,EAAG5B,KAAKm5B,EAC9J,CACA,QAAU,GAAIza,EAAK,MAAMA,EAAIvX,KAAO,CACxC,CACJ,EAE6C,SAAUua,GAEnD,SAAS2X,EAAwB7a,GAC7B,IAAIoD,EAAQF,EAAO1hB,KAAK/B,KAAMugB,IAAWvgB,KAEzC,OADAi7B,GAA+B1a,EAAQoD,GAChCA,CACX,CALApH,GAAU6e,EAAyB3X,GAMnC2X,EAAwBv5B,UAAUysB,cAAgB,WAC9C,OAAOtuB,KAAKuuB,SAChB,EACA6M,EAAwBv5B,UAAU2sB,cAAgB,SAAUpQ,GAExD,OADApe,KAAKuuB,UAAYnQ,EACVA,CACX,EACAgd,EAAwBv5B,UAAU4sB,cAAgB,WAC9C,OAAOzuB,KAAK0uB,SAChB,EACA0M,EAAwBv5B,UAAU8sB,cAAgB,SAAUvQ,GAExD,OADApe,KAAK0uB,UAAYtQ,EACVA,CACX,CAEJ,EAtB4C,CAsB1C4O,IAtBF,IC7DIqO,GAA+B,CAC/B,YACA,UACA,UACA,aACA,aACA,uBACA,iBACA,iBACA,kBACA,gBACA,QACA,cACA,gBACA,WACA,kBACA,kBACA,YACA,YACA,eACA,cACA,cACA,aACA,WACA,iBACA,UACA,cACA,cACA,aACA,kBACA,aACA,cACA,eACA,cACA,eACA,cACA,gBAQkChb,GAAkB7N,OAAO6oB,IAgCxD,SAASC,GAAyB/a,EAAQC,GAC7C,IAAIC,EAAK9c,EACT2c,GAAkBC,EAAQC,GAC1B,IACI,IAAK,IAAI+a,EAAiC,GAASF,IAA+BG,EAAmCD,EAA+B/d,QAASge,EAAiC9d,KAAM8d,EAAmCD,EAA+B/d,OAAQ,CAC1Q,IAAIT,EAAIye,EAAiCr5B,MACzCqe,EAAK,OAASzD,GAAGwD,EAAO,OAASxD,KACrC,CACJ,CACA,MAAO6D,GAASH,EAAM,CAAEvX,MAAO0X,EAAS,CACxC,QACI,IACQ4a,IAAqCA,EAAiC9d,OAAS/Z,EAAK43B,EAA+B1a,SAASld,EAAG5B,KAAKw5B,EAC5I,CACA,QAAU,GAAI9a,EAAK,MAAMA,EAAIvX,KAAO,CACxC,CACJ,EAEuC,SAAUua,GAE7C,SAASgY,EAAkBlb,GACvB,IAAIoD,EAGJF,EAAO1hB,KAAK/B,KAAMugB,IAAWvgB,KAE7B,OADAs7B,GAAyB/a,EAAQoD,GAC1BA,CACX,CARApH,GAAUkf,EAAmBhY,GAS7BgY,EAAkB55B,UAAU2iB,cAAgB,WACxC,OAAOxkB,KAAKykB,SAChB,EACAgX,EAAkB55B,UAAU6iB,cAAgB,SAAUtG,GAElD,OADApe,KAAKykB,UAAYrG,EACVA,CACX,EACAqd,EAAkB55B,UAAU8iB,YAAc,WACtC,OAAO3kB,KAAK4kB,OAChB,EACA6W,EAAkB55B,UAAUgjB,YAAc,SAAUzG,GAEhD,OADApe,KAAK4kB,QAAUxG,EACRA,CACX,EACAqd,EAAkB55B,UAAUijB,YAAc,WACtC,OAAO9kB,KAAK+kB,OAChB,EACA0W,EAAkB55B,UAAUmjB,YAAc,SAAU5G,GAEhD,OADApe,KAAK+kB,QAAU3G,EACRA,CACX,EACAqd,EAAkB55B,UAAU65B,eAAiB,WACzC,OAAO17B,KAAK27B,UAChB,EACAF,EAAkB55B,UAAU+5B,eAAiB,SAAUxd,GAEnD,OADApe,KAAK27B,WAAavd,EACXA,CACX,EACAqd,EAAkB55B,UAAUujB,eAAiB,WACzC,OAAOplB,KAAKqlB,UAChB,EACAoW,EAAkB55B,UAAUyjB,eAAiB,SAAUlH,GAEnD,OADApe,KAAKqlB,WAAajH,EACXA,CACX,EACAqd,EAAkB55B,UAAU0jB,yBAA2B,WACnD,OAAOvlB,KAAKwlB,oBAChB,EACAiW,EAAkB55B,UAAU4jB,yBAA2B,SAAUrH,GAE7D,OADApe,KAAKwlB,qBAAuBpH,EACrBA,CACX,EACAqd,EAAkB55B,UAAU6jB,mBAAqB,WAC7C,OAAO1lB,KAAK2lB,cAChB,EACA8V,EAAkB55B,UAAU+jB,mBAAqB,SAAUxH,GAEvD,OADApe,KAAK2lB,eAAiBvH,EACfA,CACX,EACAqd,EAAkB55B,UAAUgkB,mBAAqB,WAC7C,OAAO7lB,KAAK8lB,cAChB,EACA2V,EAAkB55B,UAAUkkB,mBAAqB,SAAU3H,GAEvD,OADApe,KAAK8lB,eAAiB1H,EACfA,CACX,EACAqd,EAAkB55B,UAAUmkB,oBAAsB,WAC9C,OAAOhmB,KAAKimB,eAChB,EACAwV,EAAkB55B,UAAUqkB,oBAAsB,SAAU9H,GAExD,OADApe,KAAKimB,gBAAkB7H,EAChBA,CACX,EACAqd,EAAkB55B,UAAUg6B,kBAAoB,WAC5C,OAAO77B,KAAK87B,aAChB,EACAL,EAAkB55B,UAAUk6B,kBAAoB,SAAU3d,GAEtD,OADApe,KAAK87B,cAAgB1d,EACdA,CACX,EACAqd,EAAkB55B,UAAUskB,UAAY,WACpC,OAAOnmB,KAAKomB,KAChB,EACAqV,EAAkB55B,UAAUwkB,UAAY,SAAUjI,GAE9C,OADApe,KAAKomB,MAAQhI,EACNA,CACX,EACAqd,EAAkB55B,UAAU4kB,gBAAkB,WAC1C,OAAOzmB,KAAK0mB,WAChB,EACA+U,EAAkB55B,UAAU8kB,gBAAkB,SAAUvI,GAEpD,OADApe,KAAK0mB,YAActI,EACZA,CACX,EACAqd,EAAkB55B,UAAU+kB,kBAAoB,WAC5C,OAAO5mB,KAAK6mB,aAChB,EACA4U,EAAkB55B,UAAUilB,kBAAoB,SAAU1I,GAEtD,OADApe,KAAK6mB,cAAgBzI,EACdA,CACX,EACAqd,EAAkB55B,UAAUklB,aAAe,WACvC,OAAO/mB,KAAKgnB,QAChB,EACAyU,EAAkB55B,UAAUolB,aAAe,SAAU7I,GAEjD,OADApe,KAAKgnB,SAAW5I,EACTA,CACX,EACAqd,EAAkB55B,UAAUwlB,oBAAsB,WAC9C,OAAOrnB,KAAKsnB,eAChB,EACAmU,EAAkB55B,UAAU0lB,oBAAsB,SAAUnJ,GAExD,OADApe,KAAKsnB,gBAAkBlJ,EAChBA,CACX,EACAqd,EAAkB55B,UAAU2lB,oBAAsB,WAC9C,OAAOxnB,KAAKynB,eAChB,EACAgU,EAAkB55B,UAAU6lB,oBAAsB,SAAUtJ,GAExD,OADApe,KAAKynB,gBAAkBrJ,EAChBA,CACX,EACAqd,EAAkB55B,UAAU8lB,cAAgB,WACxC,OAAO3nB,KAAK4nB,SAChB,EACA6T,EAAkB55B,UAAUgmB,cAAgB,SAAUzJ,GAElD,OADApe,KAAK4nB,UAAYxJ,EACVA,CACX,EACAqd,EAAkB55B,UAAUimB,cAAgB,WACxC,OAAO9nB,KAAK+nB,SAChB,EACA0T,EAAkB55B,UAAUmmB,cAAgB,SAAU5J,GAElD,OADApe,KAAK+nB,UAAY3J,EACVA,CACX,EACAqd,EAAkB55B,UAAUomB,iBAAmB,WAC3C,OAAOjoB,KAAKkoB,YAChB,EACAuT,EAAkB55B,UAAUsmB,iBAAmB,SAAU/J,GAErD,OADApe,KAAKkoB,aAAe9J,EACbA,CACX,EACAqd,EAAkB55B,UAAUumB,gBAAkB,WAC1C,OAAOpoB,KAAKqoB,WAChB,EACAoT,EAAkB55B,UAAUymB,gBAAkB,SAAUlK,GAEpD,OADApe,KAAKqoB,YAAcjK,EACZA,CACX,EACAqd,EAAkB55B,UAAU0mB,gBAAkB,WAC1C,OAAOvoB,KAAKwoB,WAChB,EACAiT,EAAkB55B,UAAU4mB,gBAAkB,SAAUrK,GAEpD,OADApe,KAAKwoB,YAAcpK,EACZA,CACX,EACAqd,EAAkB55B,UAAU6mB,eAAiB,WACzC,OAAO1oB,KAAK2oB,UAChB,EACA8S,EAAkB55B,UAAU+mB,eAAiB,SAAUxK,GAEnD,OADApe,KAAK2oB,WAAavK,EACXA,CACX,EACAqd,EAAkB55B,UAAUqoB,aAAe,WACvC,OAAOlqB,KAAKmqB,QAChB,EACAsR,EAAkB55B,UAAUuoB,aAAe,SAAUhM,GAEjD,OADApe,KAAKmqB,SAAW/L,EACTA,CACX,EACAqd,EAAkB55B,UAAUwoB,mBAAqB,WAC7C,OAAOrqB,KAAKsqB,cAChB,EACAmR,EAAkB55B,UAAU0oB,mBAAqB,SAAUnM,GAEvD,OADApe,KAAKsqB,eAAiBlM,EACfA,CACX,EACAqd,EAAkB55B,UAAU2oB,YAAc,WACtC,OAAOxqB,KAAKyqB,OAChB,EACAgR,EAAkB55B,UAAU6oB,YAAc,SAAUtM,GAEhD,OADApe,KAAKyqB,QAAUrM,EACRA,CACX,EACAqd,EAAkB55B,UAAU8oB,gBAAkB,WAC1C,OAAO3qB,KAAK4qB,WAChB,EACA6Q,EAAkB55B,UAAUgpB,gBAAkB,SAAUzM,GAEpD,OADApe,KAAK4qB,YAAcxM,EACZA,CACX,EACAqd,EAAkB55B,UAAUipB,gBAAkB,WAC1C,OAAO9qB,KAAK+qB,WAChB,EACA0Q,EAAkB55B,UAAUmpB,gBAAkB,SAAU5M,GAEpD,OADApe,KAAK+qB,YAAc3M,EACZA,CACX,EACAqd,EAAkB55B,UAAUopB,eAAiB,WACzC,OAAOjrB,KAAKkrB,UAChB,EACAuQ,EAAkB55B,UAAUspB,eAAiB,SAAU/M,GAEnD,OADApe,KAAKkrB,WAAa9M,EACXA,CACX,EACAqd,EAAkB55B,UAAUupB,oBAAsB,WAC9C,OAAOprB,KAAKqrB,eAChB,EACAoQ,EAAkB55B,UAAUypB,oBAAsB,SAAUlN,GAExD,OADApe,KAAKqrB,gBAAkBjN,EAChBA,CACX,EACAqd,EAAkB55B,UAAU0pB,eAAiB,WACzC,OAAOvrB,KAAKwrB,UAChB,EACAiQ,EAAkB55B,UAAU4pB,eAAiB,SAAUrN,GAEnD,OADApe,KAAKwrB,WAAapN,EACXA,CACX,EACAqd,EAAkB55B,UAAU6pB,gBAAkB,WAC1C,OAAO1rB,KAAK2rB,WAChB,EACA8P,EAAkB55B,UAAU+pB,gBAAkB,SAAUxN,GAEpD,OADApe,KAAK2rB,YAAcvN,EACZA,CACX,EACAqd,EAAkB55B,UAAUgqB,iBAAmB,WAC3C,OAAO7rB,KAAK8rB,YAChB,EACA2P,EAAkB55B,UAAUkqB,iBAAmB,SAAU3N,GAErD,OADApe,KAAK8rB,aAAe1N,EACbA,CACX,EACAqd,EAAkB55B,UAAUmqB,gBAAkB,WAC1C,OAAOhsB,KAAKisB,WAChB,EACAwP,EAAkB55B,UAAUqqB,gBAAkB,SAAU9N,GAEpD,OADApe,KAAKisB,YAAc7N,EACZA,CACX,EACAqd,EAAkB55B,UAAUsqB,iBAAmB,WAC3C,OAAOnsB,KAAKosB,YAChB,EACAqP,EAAkB55B,UAAUwqB,iBAAmB,SAAUjO,GAErD,OADApe,KAAKosB,aAAehO,EACbA,CACX,EACAqd,EAAkB55B,UAAUyqB,gBAAkB,WAC1C,OAAOtsB,KAAKusB,WAChB,EACAkP,EAAkB55B,UAAU2qB,gBAAkB,SAAUpO,GAEpD,OADApe,KAAKusB,YAAcnO,EACZA,CACX,EACAqd,EAAkB55B,UAAU4qB,iBAAmB,WAC3C,OAAOzsB,KAAK0sB,YAChB,EACA+O,EAAkB55B,UAAU8qB,iBAAmB,SAAUvO,GAErD,OADApe,KAAK0sB,aAAetO,EACbA,CACX,CAEJ,EAvQsC,CAuQpC0C,IAvQF,ICnFIkb,GAA8B,WAC9B,SAASA,EAAarqB,EAASxL,EAASgH,GACpCnN,KAAK2R,QAAUA,EACf3R,KAAKmG,QAAUA,EACfnG,KAAKmN,OAASA,CAClB,CACA,OAAO6uB,CACX,CAPiC,GAQ7BC,GAA6B,WAQ7B,SAASA,EAAYtmB,QACD,IAAZA,IAAsBA,EAAU,CAAC,GACrC,IAAIgO,EAAQ3jB,KAEZA,KAAKk8B,cAAgB,GACrBl8B,KAAKm8B,YAAa,EAElBn8B,KAAKo8B,eAAiB,GACtBp8B,KAAKq8B,aAAe,EAKpBr8B,KAAKs8B,yBAA2B,GAChCt8B,KAAKu8B,mBAAqB,IAAI3lB,IAC9B5W,KAAKw8B,kBAAoB,GACzBx8B,KAAKy8B,gBAAkB,EAEvBz8B,KAAK08B,kBAAoB,KACzB,IAAIC,EAAU,IAAI,GAAAC,kBAAkBjnB,EAAQknB,MAAQ,OAOpD,QANwCh8B,IAApC8U,EAAQmnB,yBACRH,EAAQI,gBAAgBpnB,EAAQmnB,8BAEKj8B,IAArC8U,EAAQqnB,0BACRL,EAAQM,iBAAiBtnB,EAAQqnB,+BAETn8B,IAAxB8U,EAAQunB,kBAAqDr8B,IAAxB8U,EAAQwnB,YAA2B,CACxE,IAAIC,EAAOznB,EAAQ0nB,cAAgB,IACnCV,EAAQW,YAAY3nB,EAAQunB,YAAavnB,EAAQwnB,YAAaC,EAClE,MAC0Bv8B,IAAtB8U,EAAQ4nB,WACRZ,EAAQa,YAAY7nB,EAAQ4nB,WAGhCv9B,KAAKy9B,GAAKd,EAAQjgB,SAClB1c,KAAK09B,IAAM,GAAAC,WAAWC,UACtB59B,KAAK69B,GAAK,GAAAC,aACV99B,KAAK+9B,IAAM,GAAAC,oBAEXh+B,KAAKi+B,aAAa,CAAC,8BAA8B,IACjDj+B,KAAKi+B,aAAa,CAAC,4BAA4B,IAC/Cj+B,KAAKi+B,aAAa,CAAC,8BAA8B,IACjDj+B,KAAKi+B,aAAa,CAAC,kBAAkB,IAErCj+B,KAAKy9B,GAAGS,WAAU,SAAUC,GACxB,IAAIC,EAAKz6B,EACT,IACI,IAAK,IAAI06B,EAAK,GAAS1a,EAAMuY,eAAgBoC,EAAKD,EAAG7gB,QAAS8gB,EAAG5gB,KAAM4gB,EAAKD,EAAG7gB,OAAQ,CACnF,IAAIpb,EAAIk8B,EAAGn8B,MACXC,EAAE+D,SACN,CACJ,CACA,MAAOo4B,GAASH,EAAM,CAAEl1B,MAAOq1B,EAAS,CACxC,QACI,IACQD,IAAOA,EAAG5gB,OAAS/Z,EAAK06B,EAAGxd,SAASld,EAAG5B,KAAKs8B,EACpD,CACA,QAAU,GAAID,EAAK,MAAMA,EAAIl1B,KAAO,CACxC,CACAya,EAAMwY,YAAa,EACnBxY,EAAMuY,cAAgB,EAC1B,IAEAl8B,KAAKy9B,GAAGe,aAAY,SAAUL,EAAKM,GAC/B,IAAIhe,EAAK9c,EACT,IACI,IAAK,IAAI06B,EAAK,GAAS1a,EAAMyY,gBAAiBkC,EAAKD,EAAG7gB,QAAS8gB,EAAG5gB,KAAM4gB,EAAKD,EAAG7gB,OAAQ,CACpF,IAAIpb,EAAIk8B,EAAGn8B,MACPC,EAAEuP,QAAUgS,EAAM0Y,aAClBj6B,EAAE+K,OAAO,cAGT/K,EAAE+D,SAEV,CACJ,CACA,MAAOya,GAASH,EAAM,CAAEvX,MAAO0X,EAAS,CACxC,QACI,IACQ0d,IAAOA,EAAG5gB,OAAS/Z,EAAK06B,EAAGxd,SAASld,EAAG5B,KAAKs8B,EACpD,CACA,QAAU,GAAI5d,EAAK,MAAMA,EAAIvX,KAAO,CACxC,CACAya,EAAMyY,eAAiB,EAC3B,IAEAp8B,KAAKy9B,GAAGiB,eAAc,SAAUP,GAC5B,IAAIQ,EAAKh7B,EACT,IACI,IAAK,IAAI06B,EAAK,GAAS1a,EAAM6Y,mBAAoB8B,EAAKD,EAAG7gB,QAAS8gB,EAAG5gB,KAAM4gB,EAAKD,EAAG7gB,OAAQ,CACvF,IAAIpb,EAAIk8B,EAAGn8B,MACPC,EAAEuP,QAAUgS,EAAM8Y,gBAClBr6B,EAAE+K,OAAO,cAGT/K,EAAE+D,SAEV,CACJ,CACA,MAAOy4B,GAASD,EAAM,CAAEz1B,MAAO01B,EAAS,CACxC,QACI,IACQN,IAAOA,EAAG5gB,OAAS/Z,EAAK06B,EAAGxd,SAASld,EAAG5B,KAAKs8B,EACpD,CACA,QAAU,GAAIM,EAAK,MAAMA,EAAIz1B,KAAO,CACxC,CACAya,EAAM6Y,kBAAoB,EAC9B,IAEA,GAAAqC,WAAWC,eAAc,SAAUC,GAC/B,IAAIC,EAAKrb,EAAMsb,sBACJ,OAAPD,GAA2C,OAA5Brb,EAAM+Y,mBACrB/Y,EAAM+Y,kBAAkBsC,EAEhC,GACJ,CAumBA,OAtmBA/C,EAAYp6B,UAAUq9B,aAAe,WACjC,OAAOliB,GAAUhd,UAAM,OAAQ,GAAQ,WACnC,IAAI2jB,EAAQ3jB,KACZ,OAAO2d,GAAY3d,MAAM,SAAU2D,GAC/B,MAAO,CAAC,EAAc,IAAIyC,SAAQ,SAAUD,EAASgH,GACzCwW,EAAMwY,WACNh2B,IAGAwd,EAAMuY,cAAcp2B,KAAK,IAAIk2B,GAAa,KAAM71B,EAASgH,GAEjE,IACR,GACJ,GACJ,EACA8uB,EAAYp6B,UAAUs9B,kBAAoB,SAAUC,GAChD,IAAIC,EAAK17B,EACLggB,EAAQ3jB,KACZA,KAAKq8B,cAAgB,EACrB,IAAIiD,EAAMt/B,KAAKq8B,aACf,IACI,IAAK,IAAIgC,EAAK,GAASr+B,KAAKo8B,gBAAiBkC,EAAKD,EAAG7gB,QAAS8gB,EAAG5gB,KAAM4gB,EAAKD,EAAG7gB,OAAQ,CACnF,IAAIpb,EAAIk8B,EAAGn8B,MACXC,EAAE+K,OAAO,aACb,CACJ,CACA,MAAOoyB,GAASF,EAAM,CAAEn2B,MAAOq2B,EAAS,CACxC,QACI,IACQjB,IAAOA,EAAG5gB,OAAS/Z,EAAK06B,EAAGxd,SAASld,EAAG5B,KAAKs8B,EACpD,CACA,QAAU,GAAIgB,EAAK,MAAMA,EAAIn2B,KAAO,CACxC,CAEA,OADAlJ,KAAKo8B,eAAiB,GACf,IAAIh2B,SAAQ,SAAUD,EAASgH,GAC9BwW,EAAM0Y,aAAeiD,EACrBnyB,EAAO,cAEFiyB,EACLj5B,IAGAwd,EAAMyY,eAAet2B,KAAK,IAAIk2B,GAAasD,EAAKn5B,EAASgH,GAEjE,GACJ,EAaA8uB,EAAYp6B,UAAU29B,cAAgB,SAAUC,EAAOC,EAAQC,EAASC,EAASC,GAC7E,OAAO7iB,GAAUhd,UAAM,OAAQ,GAAQ,WACnC,OAAO2d,GAAY3d,MAAM,SAAU2D,GAE/B,OADA3D,KAAK09B,IAAI8B,cAAcC,EAAQvf,GAAKwf,EAAS1f,GAAK2f,EAASC,EAASC,GAC7D,CAAC,EAAc7/B,KAAKm/B,kBAAkBS,GACjD,GACJ,GACJ,EAYA3D,EAAYp6B,UAAUi+B,gBAAkB,SAAUL,EAAOC,EAAQC,EAASE,GACtE,IAAIhsB,EAAO7T,KAAK09B,IAAIoC,gBAAgBL,EAAQvf,GAAKwf,EAAS1f,GAAK2f,EAASE,GACxE,OAAOhsB,CACX,EAKAooB,EAAYp6B,UAAUk+B,WAAa,SAAUpqB,GACzC,OAAOqH,GAAUhd,UAAM,OAAQ,GAAQ,WACnC,OAAO2d,GAAY3d,MAAM,SAAU2D,GAE/B,OADA3D,KAAK09B,IAAIqC,WAAWpqB,EAAQqqB,MAAOrqB,EAAQsqB,OAAQtqB,EAAQiqB,QAASjqB,EAAQuqB,aACrE,CAAC,EAAclgC,KAAKm/B,kBAAkBxpB,EAAQiqB,SACzD,GACJ,GACJ,EAUA3D,EAAYp6B,UAAUs+B,wBAA0B,SAAUC,GACtD,OAAO,GAAAzC,WAAW0C,wBAAwBD,EAC9C,EA0BAnE,EAAYp6B,UAAUy+B,oBAAsB,SAAUh4B,EAAKi4B,GACvD,OAAOvjB,GAAUhd,UAAM,OAAQ,GAAQ,WACnC,IAAIwgC,EAAUC,EACV9c,EAAQ3jB,KACZ,OAAO2d,GAAY3d,MAAM,SAAU2D,GAG/B,OAFA68B,EAAWxgC,KAAKu8B,mBAAmBl7B,IAAIiH,QAEtBzH,IAAb2/B,GAAuC,OAAbA,EACnB,CAAC,EAAcp6B,QAAQD,QAAQq6B,UAGzB3/B,IAAb2/B,IAEAxgC,KAAKu8B,mBAAmBvpB,IAAI1K,EAAK,MACjCm4B,EAAW,CAAE7iB,EAAG,WACS/c,IAArB0/B,IACAA,GAAmB,GAEvBE,EAAS7iB,EAAI,GAAA8iB,KAAKC,YAAYr4B,GAAK,WAE/B,IAAIsV,EAAI6iB,EAAS7iB,EACjB+F,EAAM4Y,mBAAmBvpB,IAAI1K,EAAKsV,GAClC+F,EAAM2Y,yBAA2B3Y,EAAM2Y,yBAAyBxtB,QAAO,SAAU1M,GAC7E,OAAIA,EAAEuP,SAAWrJ,IACblG,EAAE+D,QAAQyX,IACH,EAIf,GACJ,GAAG2iB,IAEA,CAAC,EAAc,IAAIn6B,SAAQ,SAAUD,EAASgH,GAC7C,IAAIqzB,EAAW7c,EAAM4Y,mBAAmBl7B,IAAIiH,QAG3BzH,IAAb2/B,GAAuC,OAAbA,EAC1Br6B,EAAQq6B,GAKR7c,EAAM2Y,yBAAyBx2B,KAAK,IAAIk2B,GAAa1zB,EAAKnC,EAASgH,GAE3E,KACR,GACJ,GACJ,EASA8uB,EAAYp6B,UAAU++B,iBAAmB,SAAUjrB,GAC/C,OAAOqH,GAAUhd,UAAM,OAAQ,GAAQ,WACnC,IAAI2jB,EAAQ3jB,KACZ,OAAO2d,GAAY3d,MAAM,SAAU2D,GAC/B,MAAO,CAAC,EAAc,IAAIyC,SAAQ,SAAUD,EAAS06B,GAC7Cld,EAAM8Z,GAAGmD,iBAAiBjrB,EAAQrN,IAAKqN,EAAQmrB,KAAMnrB,EAAQpN,KAAMoN,EAAQorB,MAAM,SAAU5d,GACvFhd,EAAQgd,EACZ,GACJ,IACR,GACJ,GACJ,EAEA8Y,EAAYp6B,UAAUm/B,sBAAwB,SAAUrrB,GACpD3V,KAAKy9B,GAAGuD,sBAAsBrrB,EAAQnR,GAAImR,EAAQsrB,MACtD,EAEAhF,EAAYp6B,UAAUq/B,iBAAmB,SAAUvrB,GAC/C,IAAIwN,EAAQnjB,KAAK69B,GAAGsD,gBAAgBxrB,EAAQnR,IAC5C,GAAI2e,GAASA,aAAiB,GAAAie,cAAe,CACzCje,EAAMke,sBAAsB1rB,EAAQ2rB,QAAS3rB,EAAQ4rB,KAAM5rB,EAAQ6rB,MAEnE,IAAIC,EAAOte,EAAMue,eACJ,OAATD,IACAte,EAAMwe,eAAeC,qBAAqBC,kBAAmB,EAErE,CACJ,EAEA5F,EAAYp6B,UAAUigC,qBAAuB,SAAUnsB,GACnD,IAAIwN,EAAQnjB,KAAK69B,GAAGsD,gBAAgBxrB,EAAQnR,IACxC2e,GAASA,aAAiB,GAAAie,eAC1Bje,EAAMW,oBAAoBnO,EAAQpN,KAE1C,EAEA0zB,EAAYp6B,UAAUkgC,uBAAyB,SAAUpsB,GACrD,IAAIqsB,EAAKr+B,EACLwf,EAAQnjB,KAAK69B,GAAGsD,gBAAgBxrB,EAAQnR,IAC5C,GAAI2e,GAASA,aAAiB,GAAAie,cAC1B,IACI,IAAK,IAAI/C,EAAK,GAAS1oB,EAAQpR,UAAW+5B,EAAKD,EAAG7gB,QAAS8gB,EAAG5gB,KAAM4gB,EAAKD,EAAG7gB,OAAQ,CAChF,IAAI4F,EAAUkb,EAAGn8B,MACjB+gB,GAA0BC,EAAOC,EACrC,CACJ,CACA,MAAO6e,GAASD,EAAM,CAAE94B,MAAO+4B,EAAS,CACxC,QACI,IACQ3D,IAAOA,EAAG5gB,OAAS/Z,EAAK06B,EAAGxd,SAASld,EAAG5B,KAAKs8B,EACpD,CACA,QAAU,GAAI2D,EAAK,MAAMA,EAAI94B,KAAO,CACxC,CAER,EAEA+yB,EAAYp6B,UAAUqgC,iBAAmB,SAAUvsB,GAC/C,IAAIwN,EAAQnjB,KAAK69B,GAAGsD,gBAAgBxrB,EAAQnR,IACxC2e,GAASA,aAAiB,GAAAgf,kBAC1Bhf,EAAMif,WAAWzsB,EAAQ0sB,SAAS,GAAM,GAAM,EAEtD,EAEApG,EAAYp6B,UAAUygC,wBAA0B,SAAU3sB,GACtD,IAAI4sB,EAAK5+B,EACLwf,EAAQnjB,KAAK69B,GAAGsD,gBAAgBxrB,EAAQnR,IAC5C,GAAI2e,GAASA,aAAiB,GAAAgf,iBAC1B,IACI,IAAK,IAAI9D,EAAK,GAAS1oB,EAAQpR,UAAW+5B,EAAKD,EAAG7gB,QAAS8gB,EAAG5gB,KAAM4gB,EAAKD,EAAG7gB,OAAQ,CAChF,IAAI4F,EAAUkb,EAAGn8B,MACjBgiB,GAA6BhB,EAAOC,EACxC,CACJ,CACA,MAAOof,GAASD,EAAM,CAAEr5B,MAAOs5B,EAAS,CACxC,QACI,IACQlE,IAAOA,EAAG5gB,OAAS/Z,EAAK06B,EAAGxd,SAASld,EAAG5B,KAAKs8B,EACpD,CACA,QAAU,GAAIkE,EAAK,MAAMA,EAAIr5B,KAAO,CACxC,CAER,EAoBA+yB,EAAYp6B,UAAU4gC,qBAAuB,SAAU9sB,GACnD,OAAOqH,GAAUhd,UAAM,OAAQ,GAAQ,WACnC,IAAI2jB,EAAQ3jB,KACZ,OAAO2d,GAAY3d,MAAM,SAAU2D,GAC/B,MAAO,CAAC,EAAc,IAAIyC,SAAQ,SAAUD,EAASgH,GAC7C,IAAIizB,EAASzc,EAAM+Z,IAAIgF,kBAAkB/sB,EAAQpN,MAClC,OAAX63B,EACAjzB,IAGAwW,EAAM+Z,IAAIiF,cAAcC,eAAexC,GAAQ,WAC3Cj6B,EAAQi6B,EACZ,GAER,IACR,GACJ,GACJ,EAQAnE,EAAYp6B,UAAUghC,yBAA2B,SAAUltB,GACvD,OAAOqH,GAAUhd,UAAM,OAAQ,GAAQ,WACnC,IAAI2jB,EAAQ3jB,KACZ,OAAO2d,GAAY3d,MAAM,SAAU2D,GAC/B,MAAO,CAAC,EAAc,IAAIyC,SAAQ,SAAUD,EAAS06B,GAC7Cld,EAAM+Z,IAAIiF,cAAcE,yBAAyBltB,EAAQmtB,SAAUntB,EAAQotB,OAAO,SAAUC,GACxF78B,EAAQ68B,EACZ,GACJ,IACR,GACJ,GACJ,EAEA/G,EAAYp6B,UAAUo8B,aAAe,SAAU7a,GAC3C,IAAIC,EAAW,OAASD,EAAQ,GAC5BjhB,EAAQihB,EAAQ,GACpBpjB,KAAKy9B,GAAGl5B,SAAS8e,GAAUlhB,EAC/B,EACA85B,EAAYp6B,UAAUohC,yBAA2B,SAAUC,GACvDljC,KAAK09B,IAAIuF,yBAAyBC,EACtC,EACAjH,EAAYp6B,UAAUshC,yBAA2B,SAAUD,GACvDljC,KAAK09B,IAAIyF,yBAAyBD,EACtC,EAKAjH,EAAYp6B,UAAUuhC,qBAAuB,SAAUjhB,GACnDniB,KAAKy9B,GAAG2F,qBAAqBjhB,EACjC,EAcA8Z,EAAYp6B,UAAUwhC,iBAAmB,SAAU1tB,GAC/C,IAAI2tB,EAOAC,EALAD,EADA3tB,EAAQ6tB,WACF7tB,EAAQ6tB,WAGRxjC,KAAK09B,IAAI+F,mBAAmB9tB,EAAQ+tB,WAAWC,kBAAmBhuB,EAAQ+tB,WAAWE,gBAO3FL,EAJA5tB,EAAQ+tB,WAAWG,aAAe,EAIjBluB,EAAQ+tB,WAAWI,sBAMnBnuB,EAAQ+tB,WAAWI,sBAAwBnuB,EAAQ+tB,WAAWK,cAAgB,EAEnG,IAAI/D,EAAQ,IAAI,GAAAgE,MAChBhE,EAAMiE,SAAStuB,EAAQ+tB,WAAWC,mBAClC3D,EAAMkE,uBAAuBZ,GAC7BtD,EAAMmE,kBAAkBxuB,EAAQ+tB,YAChC,IAAIzD,GAAS,EACb,OAAQtqB,EAAQ+tB,WAAWC,mBACvB,KAAKtkB,GAAa+kB,IACQ,KAAlBb,EAEAtD,GAAS,GAGTD,EAAMqE,OAAO1uB,EAAQ+tB,WAAWY,cAAgBlkB,IAChD4f,EAAMuE,QAAQ5uB,EAAQ+tB,WAAWc,eACjCxE,EAAMyE,cAA+B,EAAjBlB,IAExB,MACJ,KAAKlkB,GAAaqlB,MAClB,KAAKrlB,GAAaslB,OACd3E,EAAMyE,cAAc,KACE,KAAlBlB,IAEAvD,EAAM4E,QAAQjvB,EAAQ+tB,WAAWY,eACjCtE,EAAM6E,QAAQlvB,EAAQ+tB,WAAWc,gBAErC,MACJ,QAEIxE,EAAMyE,cAAc,KACpB,MAERzkC,KAAK09B,IAAIiF,cAAcuB,uBAAuBZ,GAC9CtjC,KAAK09B,IAAIqC,WAAWC,EAAOC,GAAQ,GACnC,EAEJ,EAGAhE,EAAYp6B,UAAUo9B,oBAAsB,WACxC,OAA8B,OAA1Bj/B,KAAK09B,IAAIoH,aACF,KACP9kC,KAAK09B,IAAIoH,wBAAwB,GAAAjG,WAC1B7+B,KAAK09B,IAAIoH,aACb,IACX,EAMA7I,EAAYp6B,UAAUkjC,iBAAmB,SAAUC,GAC/C,OAAO,GAAAnG,WAAWoG,aACtB,EASAhJ,EAAYp6B,UAAUqjC,SAAW,SAAU58B,GACvC,OAAO0U,GAAUhd,UAAM,OAAQ,GAAQ,WACnC,IAAIs/B,EAAK37B,EAAI06B,EAAIj8B,EACb+iC,EAAK7G,EACL3a,EAAQ3jB,KACZ,OAAO2d,GAAY3d,MAAM,SAAUolC,GAC/BplC,KAAK09B,IAAIwH,SAAS58B,GAClBtI,KAAKy8B,iBAAmB,EACxB6C,EAAMt/B,KAAKy8B,gBACX,IACI,IAAK94B,EAAK,GAAS3D,KAAKw8B,mBAAoB6B,EAAK16B,EAAG6Z,QAAS6gB,EAAG3gB,KAAM2gB,EAAK16B,EAAG6Z,OAC1Epb,EAAIi8B,EAAGl8B,MACPC,EAAE+K,OAAO,aAEjB,CACA,MAAOk4B,GAASF,EAAM,CAAEj8B,MAAOm8B,EAAS,CACxC,QACI,IACQhH,IAAOA,EAAG3gB,OAAS4gB,EAAK36B,EAAGkd,SAASyd,EAAGv8B,KAAK4B,EACpD,CACA,QAAU,GAAIwhC,EAAK,MAAMA,EAAIj8B,KAAO,CACxC,CAEA,OADAlJ,KAAKw8B,kBAAoB,GAClB,CAAC,EAAc,IAAIp2B,SAAQ,SAAUD,EAASgH,GACzCwW,EAAM8Y,gBAAkB6C,EACxBnyB,EAAO,cAGPwW,EAAM6Y,kBAAkB12B,KAAK,IAAIk2B,GAAasD,EAAKn5B,EAASgH,GAEpE,IACR,GACJ,GACJ,EAOA8uB,EAAYp6B,UAAUyjC,gBAAkB,SAAUh9B,GAC9C,OAAO0U,GAAUhd,UAAM,OAAQ,GAAQ,WACnC,IAAIs/B,EAAK37B,EAAI06B,EAAIj8B,EACbmjC,EAAKjH,EACL3a,EAAQ3jB,KACZ,OAAO2d,GAAY3d,MAAM,SAAUolC,GAC/BplC,KAAK09B,IAAI8H,SAASl9B,GAClBtI,KAAKy8B,iBAAmB,EACxB6C,EAAMt/B,KAAKy8B,gBACX,IACI,IAAK94B,EAAK,GAAS3D,KAAKw8B,mBAAoB6B,EAAK16B,EAAG6Z,QAAS6gB,EAAG3gB,KAAM2gB,EAAK16B,EAAG6Z,OAC1Epb,EAAIi8B,EAAGl8B,MACPC,EAAE+K,OAAO,aAEjB,CACA,MAAOs4B,GAASF,EAAM,CAAEr8B,MAAOu8B,EAAS,CACxC,QACI,IACQpH,IAAOA,EAAG3gB,OAAS4gB,EAAK36B,EAAGkd,SAASyd,EAAGv8B,KAAK4B,EACpD,CACA,QAAU,GAAI4hC,EAAK,MAAMA,EAAIr8B,KAAO,CACxC,CAEA,OADAlJ,KAAKw8B,kBAAoB,GAClB,CAAC,EAAc,IAAIp2B,SAAQ,SAAUD,EAASgH,GACzCwW,EAAM8Y,gBAAkB6C,EACxBnyB,EAAO,cAGPwW,EAAM6Y,kBAAkB12B,KAAK,IAAIk2B,GAAasD,EAAKn5B,EAASgH,GAEpE,IACR,GACJ,GACJ,EAWA8uB,EAAYp6B,UAAU6jC,yBAA2B,WAC7C,IAAIC,EAAS3lC,KAAKi/B,sBAClB,GAAe,OAAX0G,EACA,OAAO,EACX,IAAIC,EAAOD,EAAOE,WAClB,GAAa,OAATD,EACA,OAAO,EACX,IAAIzuB,EAAMyuB,EAAKE,2BACf,GAAI3uB,EAAM,EACN,OAAO,EACX,IAAI4uB,EAAOH,EAAKI,wBAAwB7uB,GACpCgD,EAAOyrB,EAAKK,gBAAgB9uB,GAC5B+uB,EAAQ/rB,EAAKgsB,oBAAsBhsB,EAAKisB,eAAiB,KACzDjkC,EAAQ4jC,EAAOG,EAInB,GAAI/jC,EAAQ,EACR,OAAO,EACX,IAAIkkC,EAA+B,KAArBT,EAAKU,cACnB,OAAInkC,EAAQkkC,EACDA,EACJlkC,CACX,EAYA85B,EAAYp6B,UAAU0kC,mBAAqB,SAAUpkC,GACjD,IAAIwjC,EAAS3lC,KAAKi/B,sBAClB,GAAe,OAAX0G,EAAJ,CAEA,IAAIC,EAAOD,EAAOE,WAClB,GAAa,OAATD,EAAJ,CAKA,IAFA,IAAIY,EAAQZ,EAAKK,gBACbQ,EAAQD,EAAM7jC,OAAS,EAClBma,EAAI,EAAGA,EAAI0pB,EAAM7jC,OAAQma,IAAK,CACnC,IAAI4pB,EAASd,EAAKI,wBAAwBlpB,GAC1C,GAAI4pB,GAAUvkC,EAAO,CACjBskC,EAAQ3pB,EAAI,EACZ,KACJ,CACJ,CACI2pB,EAAQ,IACRA,EAAQ,GAGZd,EAAOgB,iBAAiBH,EAAMC,GAfpB,CAHA,CAmBd,EAMAxK,EAAYp6B,UAAU+kC,aAAe,SAAUjxB,GAC3C,IAAIgO,EAAQ3jB,KACZ,OAAO,IAAIoG,SAAQ,SAAUD,EAAS06B,GAClCld,EAAM+Z,IAAIkJ,cAAa,SAAU9+B,GAAQ,OAAO3B,EAAQ2B,EAAO,GAAG6N,EAAQkxB,MAAOlxB,EAAQmxB,OAAQnxB,EAAQoxB,OAC7G,GACJ,EAKA9K,EAAYp6B,UAAUmlC,aAAe,SAAUrxB,GAC3C,IAAIsxB,EAAajnC,KAAK09B,IAClBwJ,EAAc,IAAIC,eAAe,CACjCC,MAAO,SAAUC,GACb,SAASC,IACL,IAAIC,EAAW,EACfN,EAAWD,cAAa,SAAUl/B,GAC9By/B,IACAF,EAAWG,QAAQ1/B,GACfy/B,GAAY5xB,EAAQ8xB,aACpBJ,EAAWK,OAEnB,GAAG/xB,EAAQkxB,MAAOlxB,EAAQmxB,OAAQnxB,EAAQgyB,gBAAiBhyB,EAAQ8xB,YAAa9xB,EAAQoxB,OAC5F,CACA,OAAOO,GACX,IAEJ,OAAOJ,CACX,EACOjL,CACX,CAnuBgC,GCiChC,2BACE,KAAA2L,KAA2B,KAC3B,KAAAC,kBAAyC,EAkB3C,QAhBE,YAAAC,KAAA,SAAKF,G,QACH,GAAkB,OAAd5nC,KAAK4nC,KACP,MAAM,IAAIl8B,MAAM,uDAElB1L,KAAK4nC,KAAOA,E,IAEZ,IAAiB,SAAA5nC,KAAK6nC,mBAAiB,8BAAE,CAApC,IAAME,EAAE,QACXA,G,mGAGF/nC,KAAK6nC,kBAAoB,EAC3B,EAEA,YAAAG,OAAA,WACEhoC,KAAK4nC,KAAO,IACd,EACF,EApBA,GAgCA,cAwBE,WAAYt/B,EAAaC,EAAcN,EAAoBggC,EAAqBC,EAAmB1jC,QAAA,IAAAA,IAAAA,EAAA,MACjGxE,KAAKsI,IAAMA,EACXtI,KAAKuI,KAAOA,EACZvI,KAAKiI,KAAOA,EACZjI,KAAKioC,YAAcA,EACnBjoC,KAAKkoC,UAAYA,EACjBloC,KAAKwE,GAAKA,CACZ,CAKF,OAHS,EAAA2jC,aAAP,SAAoBrF,G,QAClB,OAAO,IAAIsF,EAAatF,EAASuF,UAAWvF,EAAS9gB,WAAY8gB,EAASa,kBAAmBb,EAASwF,kBAAmBxF,EAASyF,gBAA2F,QAA1E,EAA6B,QAA7B,EAAAzF,EAAS0F,4BAAoB,eAAEC,8BAA8BjkC,GAAG6C,kBAAU,QAAI,KACnO,EACF,EApCA,GAsCA,cAcE,WAAY7C,EAAYie,EAAwBla,GAC9CvI,KAAKwE,GAAKA,EACVxE,KAAKyiB,eAAiBA,EACtBziB,KAAKuI,KAAW,OAAJA,QAAI,IAAJA,EAAAA,EAAQ/D,CACtB,CACF,OATE,YAAAkkC,QAAA,SAAQngC,GACNvI,KAAKuI,KAAOA,CACd,EAOF,EAnBA,GA8BA,cA8BE,WAAYgY,GACVvgB,KAAK2oC,SAAWpoB,EAAO/b,GAAG6C,WAC1BrH,KAAKuE,SAAW,IAAI,GAAsBgc,GAE1C,IAAMkhB,EAAOlhB,EAAOohB,eAAeC,qBACnC5hC,KAAK4oC,UAAYnH,EAAKmH,UACtB5oC,KAAKuhC,KAAOE,EAAKoH,SACjB7oC,KAAKwhC,KAAOC,EAAKqH,SACjB9oC,KAAK+oC,aAAetH,EAAKuH,YAC3B,CAKF,OAHE,YAAAC,QAAA,WACE,OAAOjpC,KAAK2oC,QACd,EACF,EA5CA,GAsQA,SAASO,GAAiBC,GACxB,GAAiB,OAAbA,EAAIvB,KACN,MAAM,IAAIl8B,MAAM,8DAElB,IAAM09B,EAAmB,GAEzB,SAASC,EAAMxL,G,gBACb,IAAoB,SAAAA,EAAGuL,QAAM,8BAAE,CAA1B,IAAMjmB,EAAK,QACdimB,EAAOtjC,KAAKqd,EAAM3e,GAAG6C,W,uGAGvB,IAAgC,SAAAnG,OAAOooC,QAAQzL,EAAG0L,YAAU,8BAAE,CAAnD,oBAAWC,GAAF,KAAO,MACzBH,EAAMG,E,mGAEV,CAEA,IAAMC,EAASN,EAAIvB,KAAK/J,GAAG6L,cAAcP,EAAIvB,KAAKlK,IAAIiM,4BAKtD,OAJIF,GACFJ,EAAMI,GAGDL,CACT,CAOA,SAASQ,KACP,OAAO,GAAAjM,WAAWkM,eAAen7B,IAAI05B,GAAaD,aACpD,CAOO,IAAM2B,GAAcxuB,GAAY,aAAc,CAInD3O,MAAO,WAA2B,OAChCo9B,aAAc,GACdH,mBAAoB,GACpBI,mBAAoB,KACpBC,qBAAsB,EACtBC,UAAW,EACXC,YAAa,IAAIpmC,KACjB27B,OAAQ,EACR0K,mBAAoB,KACpBC,kBAAmB,IACnBC,eAAgB,CAAC,EACjBC,oBAAoB,EACpBC,eAAe,EACf/K,MAAO,EACPgL,WAAYprB,GAAa+kB,IACzBvE,QAAS,EACT6K,kBAAmB,CAAC,EACpBC,cAAe5mC,KAAKD,MACpB8mC,gBAAiB,EACjBC,YAAa,KACbC,mBAAoB,GACpBC,aAAc,EACdC,mBAAmB,EACnBrL,QAAS,EAvBuB,EA0BlC9wB,QAAS,CACPo8B,eAAc,SAACC,GAAf,WACE,OAAO,SAAChI,GACN,GAAuB,OAAnB,EAAKiI,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,wDAClB,OAAO,EAAKy/B,KAAKvD,KAAKlK,IAAIgF,kBAAkBQ,EAC9C,CACF,EAEAkI,wBAAuB,SAACF,GAAxB,WACE,OAAO,SAACG,GACN,GAAuB,OAAnB,EAAKF,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,iEAClB,IAAM4/B,EAAS,EAAKH,KAAKvD,KAAKlK,IAAI6N,6BAA6BF,EAAGG,EAAGH,EAAGxtB,GACxE,MAAO,CAAE4tB,IAAK,GAAKH,EAAOE,EAAI,KAAO,IAAKE,IAAKJ,EAAOztB,EACxD,CACF,EAEA8tB,wBAAuB,SAACT,GAAxB,WACE,OAAO,SAACG,GACN,GAAuB,OAAnB,EAAKF,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,iEAClB,OAAO,EAAKy/B,KAAKvD,KAAKlK,IAAIkO,6BAA6BP,EAAGI,GAAK,GAAIJ,EAAGK,IACxE,CACF,EAEAG,sBAAqB,SAACl/B,GACpB,OAAO,SAACm/B,GACN,OAAOn/B,EAAM29B,eAAewB,IAAa,IAC3C,CACF,EAEAC,0BAAyB,W,QACjBC,EAA+B,G,IAErC,IAAmB,SAAAhsC,KAAK+pC,cAAY,8BAAE,CAAjC,IAAMkC,EAAI,QACPC,EAAalsC,KAAKsqC,eAAe2B,GACnCC,GACFF,EAAOlmC,KAAKomC,E,mGAIhB,OAAOF,CACT,EAEAG,gBAAe,SAACjB,GACd,OAAO,SAACkB,G,MACN,OAAiB,QAAV,EAAAA,EAAQ5nC,UAAE,QAAI,EACvB,CACF,EAEA6nC,iBAAgB,SAACnB,GAAjB,WACE,OAAO,SAACY,GACN,GAAuB,OAAnB,EAAKX,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,8DAElB,IAAMyX,EAAQ,EAAKgoB,KAAKvD,KAAK/J,GAAGsD,gBAAgB2K,GAEhD,OAAc,OAAV3oB,GAAkBA,aAAiB,GAAAie,cAC9Bje,EAAMwe,eAEN,IAEX,CACF,EAEA2K,kBAAiB,SAACpB,GAAlB,WACE,OAAO,SAAC1mC,GACN,GAAuB,OAAnB,EAAK2mC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,+DAClB,IAAMyX,EAAQ,EAAKopB,UAAU/nC,GAC7B,OAAc,OAAV2e,GAAkBA,aAAiB,GAAAie,cAC9Bje,EAEA,IAEX,CACF,EAEAqpB,oBAAmB,SAACtB,GAApB,WACE,OAAO,SAAC3iC,GACN,GAAuB,OAAnB,EAAK4iC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,iEAElB,IAAMlH,EAAK,GAAAioC,KAAKC,WAAWnkC,GAAMlB,WACjC,OAAO,EAAKslC,qBAAqBnoC,EACnC,CACF,EAEA+nC,UAAS,SAACrB,GAAV,WACE,OAAO,SAAC1mC,GACN,GAAuB,OAAnB,EAAK2mC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,uDAClB,OAAO,EAAKy/B,KAAKvD,KAAK/J,GAAGsD,gBAAgB38B,EAC3C,CACF,EAEAooC,+BAA8B,SAACjgC,GAA/B,WACE,OAAO,SAACpE,GACN,GAAuB,OAAnB,EAAK4iC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,4EAElB,IAAMlH,EAAK,GAAAioC,KAAKC,WAAWnkC,GAAMlB,WACjC,OAAOsF,EAAM+9B,kBAAkBlmC,IAAO,IACxC,CACF,EAEAmoC,qBAAoB,SAACzB,GAArB,WACE,OAAO,SAAC1mC,GACN,GAAuB,OAAnB,EAAK2mC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,kEAClB,IAAMyX,EAAQ,EAAKopB,UAAU/nC,GAC7B,OAAc,OAAV2e,GAAkBA,aAAiB,GAAAgf,iBAC9Bhf,EAEA,IAEX,CACF,EAEA0pB,qBAAoB,SAAClgC,GACnB,OAAO,SAACnI,GACN,OAAOmI,EAAM+9B,kBAAkBlmC,IAAO,IACxC,CACF,EAEAsoC,iBAAgB,SAAC5B,GAAjB,WACE,OAAO,SAACkB,GACN,GAAuB,OAAnB,EAAKjB,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,8DAElB,IAAMnL,EAAM,EAAK4rC,gBAAgBC,GACjC,OAAO,EAAKO,qBAAqBpsC,EACnC,CACF,EAEAwsC,iBAAgB,SAACpgC,GAAjB,WACE,OAAO,SAACy/B,GACN,IAAM7rC,EAAM,EAAK4rC,gBAAgBC,GACjC,OAAOz/B,EAAM+9B,kBAAkBnqC,IAAQ,IACzC,CACF,GAIF2Q,QAAS,CACP87B,uBAAsB,SAAC7D,GACrBnpC,KAAKmrC,KAAKrD,KAAKqB,EACjB,EAEA8D,2BAA0B,WACxBjtC,KAAKmrC,KAAKnD,QACZ,EAEAkF,eAAc,WACZ,GAAuB,OAAnBltC,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,wDAElB,IAAMy9B,EAAMnpC,KAAKmrC,KAAKvD,KAEhBnI,EAAQ0J,EAAI1L,GAAG0P,QAAUhtB,GAC3BngB,KAAKy/B,OAASA,IAChBz/B,KAAKy/B,MAAQA,GAEf,IAAMC,EAASyJ,EAAI1L,GAAG2P,SAAWntB,GAC7BjgB,KAAK0/B,QAAUA,IACjB1/B,KAAK0/B,OAASA,GAEhB,IAAMC,EAAUwJ,EAAIzL,IAAIiF,cAAc0K,WAAWjQ,KAC7Cp9B,KAAK2/B,SAAWA,IAClB3/B,KAAK2/B,QAAUA,GAEjB,IAAME,EAAUsJ,EAAIzL,IAAIiF,cAAc0K,WAAWC,SAC7CttC,KAAK6/B,SAAWA,IAClB7/B,KAAK6/B,QAAUA,GAEjB,IAAM0N,EAAKpE,EAAIzL,IAAIiF,cAAc6K,0BAA4B,KACzDxtC,KAAKgqC,oBAAsBuD,IAC7BvtC,KAAKgqC,mBAAqBuD,GAE5B,IAAM15B,EAAOs1B,EAAIpL,IAAI0P,UACjBztC,KAAKmqC,aAAet2B,IACtB7T,KAAKmqC,YAAct2B,GAErB,IAAM65B,EAAKvE,EAAIzL,IAAIiF,cAAcgL,0BAA4B,KACzD3tC,KAAKoqC,oBAAsBsD,IAC7B1tC,KAAKoqC,mBAAqBsD,GAExB1tC,KAAKqqC,mBAAqBlB,EAAIzL,IAAIiF,cAAc0K,WAAWlrB,UAC7DniB,KAAKqqC,kBAAoBlB,EAAIzL,IAAIiF,cAAc0K,WAAWlrB,SAExDniB,KAAKyqC,YAActB,EAAIzL,IAAI+M,aAC7BzqC,KAAKyqC,WAAatB,EAAIzL,IAAI+M,YAE5B,IAAM9E,EAASwD,EAAIlK,sBACnBj/B,KAAK+qC,aAAe5B,EAAIzD,2BAET,OAAXC,GACF3lC,KAAKuqC,oBAAqB,EAC1BvqC,KAAKwqC,cAAgBrB,EAAIpE,iBAAiBY,KAE1C3lC,KAAKuqC,oBAAqB,EAC1BvqC,KAAKwqC,eAAgB,GAGvB,IAAMQ,GAAqB7B,EAAI1L,GAAGmQ,iBAC5B7pC,KAAKD,MAAQ9D,KAAK2qC,cAAiB,KACrC3qC,KAAKgrC,mBAAqBA,IAC5BhrC,KAAKgrC,kBAAoBA,EAE7B,EAEA6C,iCAAgC,WAC9B7tC,KAAK4qC,iBAAmB,CAC1B,EAEA3M,aAAY,SAAC7a,GACX,GAAuB,OAAnBpjB,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,sDAClB1L,KAAKmrC,KAAKvD,KAAK3J,aAAa7a,EAC9B,EAEA6f,yBAAwB,SAACC,GACvB,GAAuB,OAAnBljC,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,kEAClB1L,KAAKmrC,KAAKvD,KAAK3E,yBAAyBC,EAC1C,EAEAC,yBAAwB,SAACD,GACvB,GAAuB,OAAnBljC,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,kEAClB1L,KAAKmrC,KAAKvD,KAAKzE,yBAAyBD,EAC1C,EAEAE,qBAAoB,SAACjhB,GACnB,GAAuB,OAAnBniB,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,8DAClB1L,KAAKmrC,KAAKvD,KAAKxE,qBAAqBjhB,GACpCniB,KAAKqqC,kBAAoBloB,CAC3B,EAEAkhB,iBAAgB,SAAC1tB,GACf,GAAuB,OAAnB3V,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,0DAClB1L,KAAKmrC,KAAKvD,KAAKvE,iBAAiB1tB,EAClC,EAEAynB,KAAI,SAAC0Q,GACH,GAAuB,OAAnB9tC,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,8CAClB1L,KAAKmrC,KAAKvD,KAAKlK,IAAIN,KAAK0Q,EAC1B,EAEAC,KAAI,SAACloC,GACH,GAAuB,OAAnB7F,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,8CAClB1L,KAAKmrC,KAAKvD,KAAKlK,IAAIqQ,KAAKloC,EAAK2lC,EAAG3lC,EAAKgY,EACvC,EAEAmwB,KAAI,SAACnoC,GACH,GAAuB,OAAnB7F,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,8CAClB1L,KAAKmrC,KAAKvD,KAAKlK,IAAIuQ,MAAMpoC,EAAK2lC,EAAG3lC,EAAKgY,EACxC,EAEAqwB,QAAO,SAACr6B,GACN,GAAuB,OAAnB7T,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,iDAClB1L,KAAKmrC,KAAKvD,KAAK7J,IAAIoQ,QAAQt6B,GAC3B7T,KAAKiqC,sBAAwB,CAC/B,EAEAmE,aAAY,SAACC,GACX,GAAuB,OAAnBruC,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,sDAEd1L,KAAKmrC,KAAKvD,KAAK7J,IAAIuQ,gBAAkBD,IACvCruC,KAAKmrC,KAAKvD,KAAK7J,IAAIwQ,aAAaF,GAChCruC,KAAKkqC,UAAYmE,EACjBruC,KAAKiqC,sBAAwB,EAEjC,EAEAuE,aAAY,SAACC,GACX,GAAuB,OAAnBzuC,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,sDAEd1L,KAAKmrC,KAAKvD,KAAK7J,IAAI2Q,mBAAqBD,IAC1CzuC,KAAKmrC,KAAKvD,KAAK7J,IAAI4Q,gBAAgBF,GAGjCzuC,KAAKkqC,UADHuE,EACezuC,KAAKmrC,KAAKvD,KAAK7J,IAAIuQ,eAEnB,EAGnBtuC,KAAKiqC,sBAAwB,EAEjC,EAEA2E,UAAS,WACP,GAAuB,OAAnB5uC,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,oDAElB,IAAMi6B,EAAS3lC,KAAKmrC,KAAKvD,KAAK3I,sBAC9B,GAAe,OAAX0G,EACF,MAAM,IAAIj6B,MAAM,oBAElBi6B,EAAOkJ,MACT,EAEAC,yBAAwB,WACtB,GAAuB,OAAnB9uC,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,yDAElB,IAAMi6B,EAAS3lC,KAAKmrC,KAAKvD,KAAK3I,sBAC9B,GAAe,OAAX0G,EACF,MAAM,IAAIj6B,MAAM,yBAGlBi6B,EAAOoJ,WACT,EAEAC,sCAAqC,SAAC7sC,GACpC,GAAuB,OAAnBnC,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,+EAElB,IAAMi6B,EAAS3lC,KAAKmrC,KAAKvD,KAAK3I,sBAC9B,GAAe,OAAX0G,EACF,MAAM,IAAIj6B,MAAM,6BAElBi6B,EAAOsJ,6BAA6B9sC,EACtC,EAEAokC,mBAAkB,SAACpkC,GACjB,GAAuB,OAAnBnC,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,4DAElB1L,KAAKmrC,KAAKvD,KAAKrB,mBAAmBpkC,EACpC,EAEM+sC,cAAa,SAAC3mC,G,mFAKlB,OAJA,GAAAo1B,WAAWC,UAAUuR,WAAW5mC,GAAQ,IAClC6mC,EAAS,GAAAzR,WAAWC,UAAUyR,SACpCD,EAAOE,UAAS,GACV1J,EAAOwJ,EAAOvJ,WACP,OAATD,EACK,CAAP,EAAOx/B,QAAQD,QAAQ,QAEnB2B,EAAO89B,EAAK2J,aACZhkC,EAAS,IAAID,WACnBC,EAAOikC,WAAW1nC,GAEd2nC,EAAU,GACP,CAAP,EAAO,IAAIrpC,SAAQ,SAACD,EAAS06B,GAC3Bt1B,EAAOC,UAAY,WACjBikC,GAAWlkC,EAAOE,OAClBtF,EAAQspC,EACV,CACF,K,QAGIvQ,aAAY,W,gFAChB,OAAuB,OAAnBl/B,KAAKmrC,KAAKvD,KACL,CAAP,EAAO5nC,KAAKmrC,KAAKvD,KAAK1I,gBAEf,CAAP,EAAO,IAAI94B,SAAQ,SAACD,EAAS06B,GAC3B,IAAM6O,EAAkB,WACrB,EAAKvE,KAAKvD,KAAqB1I,eAAejlB,KAAK9T,EACtD,EAEuB,OAAnB,EAAKglC,KAAKvD,KACZ8H,IAEA,EAAKvE,KAAKtD,kBAAkB/hC,KAAK4pC,EAErC,I,QAIElQ,cAAa,SACjB,G,IAAEC,EAAK,QAAEC,EAAM,SAAEC,EAAO,UAAEC,EAAO,UAAEC,EAAO,U,qEAE1C,GAAuB,OAAnB7/B,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,uDAClB,MAAO,CAAP,EAAO1L,KAAKmrC,KAAKvD,KAAKpI,cAAcC,EAAOC,EAAQC,EAASC,EAASC,G,QAGvEC,gBAAe,SACb,G,IAAEL,EAAK,QAAEC,EAAM,SAAEC,EAAO,UAAEE,EAAO,UAEjC,GAAuB,OAAnB7/B,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,6DAClB,OAAO1L,KAAKmrC,KAAKvD,KAAK9H,gBAAgBL,EAAOC,EAAQC,EAASE,EAChE,EAEME,WAAU,SAACpqB,G,qEACf,GAAuB,OAAnB3V,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,oDAClB,MAAO,CAAP,EAAO1L,KAAKmrC,KAAKvD,KAAK7H,WAAWpqB,G,QAGnCg6B,iBAAgB,SAAChuC,GACf,GAAuB,OAAnB3B,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,0DAClB1L,KAAKmrC,KAAKvD,KAAKlK,IAAIiF,cAAciN,qBAAqBjuC,EACxD,EAEMujC,SAAQ,SACZ,G,IAAE58B,EAAG,MAAEumC,EAAI,O,4GAEX,GAAuB,OAAnB7uC,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,kD,OAEdmjC,EACF,GAAM7uC,KAAKmrC,KAAKvD,KAAKtC,gBAAgBh9B,IADnC,M,cACF,S,aAEA,SAAMtI,KAAKmrC,KAAKvD,KAAK1C,SAAS58B,I,OAA9B,S,iBAMF,GAJIuiC,EAA6B,KAC3BC,EAA+B,GAE/BnF,EAAS3lC,KAAKmrC,KAAKvD,KAAK3I,sBACf,OAAX0G,IACIC,EAAOD,EAAOE,WACP,OAATD,GAIF,IAHAiF,EAAmC,KAArBjF,EAAKU,cACbuJ,EAASjK,EAAKK,gBAAgBtjC,OAE3Bma,EAAI,EAAGA,EAAI+yB,EAAQ/yB,IAC1BguB,EAAmBhlC,KAAK8/B,EAAKI,wBAAwBlpB,IAK3D,MAAO,CAAP,EAAO,CAAE+tB,YAAW,EAAEC,mBAAkB,I,QAGpCxK,oBAAmB,SACvB,G,IAAEh4B,EAAG,MAAEi4B,EAAgB,mB,kGAEvB,GAAuB,OAAnBvgC,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,6DACH,SAAM1L,KAAKmrC,KAAKvD,KAAKtH,oBAAoBh4B,EAAKi4B,I,OAE7D,OAFM90B,EAAS,SACfzL,KAAK4pC,mBAAqBA,KACnB,CAAP,EAAOn+B,G,QAGT00B,wBAAuB,SAACC,GACtB,GAAuB,OAAnBpgC,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,iEAElB,OAAO1L,KAAKmrC,KAAKvD,KAAKzH,wBAAwBC,EAChD,EAIA0P,YAAW,SAACtrC,GACV,GAAuB,OAAnBxE,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,qDAElB,IAAIqkC,EAAW,GAEf,GAAkB,kBAAPvrC,EAAiB,CAC1BurC,EAAWvrC,EACX,IAAMynC,EAAO,GAAAQ,KAAKuD,WAAWxrC,GAC7BxE,KAAKmrC,KAAKvD,KAAK/J,GAAGoS,gBAAgBhE,GAAM,GAAM,E,MAE9C8D,EAAWvrC,EAAG6C,WACdrH,KAAKmrC,KAAKvD,KAAK/J,GAAGoS,gBAAgBzrC,GAAI,GAAM,UAKvCxE,KAAKsqC,eAAeyF,UACpB/vC,KAAK0qC,kBAAkBqF,GAE9B/vC,KAAK+pC,aAAeb,GAAiBlpC,KAAKmrC,KAC5C,EAIMvK,iBAAgB,SACpBjrB,G,oGAEA,GAAuB,OAAnB3V,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,0DAGD,SAAM1L,KAAKmrC,KAAKvD,KAAKhH,iBAAiBjrB,I,OAKvD,OALMu6B,EAAW,SACXvH,EAAWuH,EAAS1rC,GAAG6C,WAC7BrH,KAAKsqC,eAAe3B,GAAY,IAAIjlB,GAAmBwsB,GAEvDlwC,KAAK+pC,aAAeb,GAAiBlpC,KAAKmrC,MACnC,CAAP,EAAO+E,G,QAIHC,cAAa,SACjBx6B,G,2EAEA,GAAuB,OAAnB3V,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,uDASlB,OAPM0kC,EAAmD,CACvD9nC,IAAKqN,EAAQrN,IACbw4B,KAAM,OACNv4B,KAAMoN,EAAQpN,KACdw4B,KAAMprB,EAAQoqB,YAGT,CAAP,EAAO//B,KAAKmrC,KAAKvD,KAAKhH,iBAAiBwP,G,QAGzCpP,sBAAqB,SAACrrB,GACpB,GAAuB,OAAnB3V,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,+DAElB1L,KAAKmrC,KAAKvD,KAAK5G,sBAAsBrrB,GACrC3V,KAAK+pC,aAAeb,GAAiBlpC,KAAKmrC,KAC5C,EAEAjK,iBAAgB,SAACvrB,GACf,GAAuB,OAAnB3V,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,0DAElB1L,KAAKmrC,KAAKvD,KAAK1G,iBAAiBvrB,GAGhC,IAAMhJ,EAAQ3M,KAAKsqC,eAAe30B,EAAQnR,IACtCmI,IACFA,EAAMi8B,UAAYjzB,EAAQ2rB,QAC1B30B,EAAM40B,KAAO5rB,EAAQ4rB,KACrB50B,EAAM60B,KAAO7rB,EAAQ6rB,KAEzB,EAEAM,qBAAoB,SAACnsB,GACnB,GAAuB,OAAnB3V,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,8DAElB1L,KAAKmrC,KAAKvD,KAAK9F,qBAAqBnsB,GAGpC,IAAMhJ,EAAQ3M,KAAKsqC,eAAe30B,EAAQnR,IACtCmI,IACFA,EAAMo8B,aAAepzB,EAAQpN,KAEjC,EAEAw5B,uBAAsB,SAACpsB,G,QACrB,GAAuB,OAAnB3V,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,gEAElB1L,KAAKmrC,KAAKvD,KAAK7F,uBAAuBpsB,GAGtC,IAAMhJ,EAAQ3M,KAAKsqC,eAAe30B,EAAQnR,IAC1C,GAAImI,E,IACF,IAAgB,SAAAgJ,EAAQpR,UAAQ,8BAAE,CAA7B,IAAMsY,EAAC,QACVqG,GAA0BvW,EAAMpI,SAAUsY,E,mGAGhD,EAIMwzB,iBAAgB,SACpB16B,G,wGAEA,GAAuB,OAAnB3V,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,0DAiCD,OA/BXyX,EAAQnjB,KAAKmrC,KAAKvD,KAAK/J,GAAGyS,uBAC9B36B,EAAQ8M,eACR9M,EAAQpN,KACRoN,EAAQ0sB,SAKVlf,EAAM6E,eAAe,GACrB7E,EAAM0E,eAAe,GACrB1E,EAAMuB,eAAe,GACrBvB,EAAMgI,gBAAgB,GACtBhI,EAAM4C,oBAAoB,GAC1B5C,EAAMmI,qBAAqB,GAC3BnI,EAAM2D,mBAAmB,GACzB3D,EAAMyI,iBAAiB,GACvBzI,EAAM+I,iBAAiB,GACvB/I,EAAMqJ,iBAAiB,GAEvBrJ,EAAM6B,YAAYpG,GAAS2xB,QAC3BptB,EAAMT,mBAAmB/M,EAAQ8M,gBAEH,OAA1B9M,EAAQ8M,gBACVU,EAAMlC,kBAAiB,GAKnBuvB,EAAOpqC,QAAQD,QAAQgd,GAGZ,GAAMqtB,G,OAKvB,OALMN,EAAW,SACXvH,EAAWuH,EAAS1rC,GAAG6C,WAC7BrH,KAAK0qC,kBAAkB/B,GAAY,IAAIpkB,GAAsB2rB,GAE7DlwC,KAAK+pC,aAAeb,GAAiBlpC,KAAKmrC,MACnC,CAAP,EAAO+E,G,QAGT5N,wBAAuB,SAAC3sB,G,QACtB,GAAuB,OAAnB3V,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,iEAElB1L,KAAKmrC,KAAKvD,KAAKtF,wBAAwB3sB,GAGvC,IAAMhJ,EAAQ3M,KAAK0qC,kBAAkB/0B,EAAQnR,IAE7C,QAAc3D,IAAV8L,E,IACF,IAAgB,SAAAgJ,EAAQpR,UAAQ,8BAAE,CAA7B,IAAMsY,EAAC,QACVsH,GAA6BxX,EAAOkQ,E,mGAG1C,EAEAqlB,iBAAgB,SAACvsB,GACf,GAAuB,OAAnB3V,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,0DAClB1L,KAAKmrC,KAAKvD,KAAK1F,iBAAiBvsB,EAGlC,EAMM8sB,qBAAoB,SAAC9sB,G,0GACzB,GAAsB,MAAlB3V,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,8DAEH,SAAM1L,KAAKmrC,KAAKvD,KAAKnF,qBAAqB9sB,I,OAiBzD,OAjBMyqB,EAAS,SAITqQ,EAAOrQ,EAAOoI,qBAEP,OAATiI,IACIP,EAAWO,EAAKhI,8BAChBE,EAAWuH,EAAS1rC,GAAG6C,WAC7BrH,KAAK0qC,kBAAkB/B,GAAY,IAAIpkB,GAAsB2rB,GACvDr7B,EAAO+0B,KAAqB8G,MAAK,SAAAlF,GAAK,OAAAA,EAAEjjC,OAASoN,EAAQpN,IAAnB,SAC/B1H,IAATgU,IACFA,EAAKrQ,GAAKmkC,IAId3oC,KAAK+pC,aAAeb,GAAiBlpC,KAAKmrC,MACnC,CAAP,EAAO/K,G,QAGTyC,yBAAwB,SAACltB,GACvB,GAAsB,MAAlB3V,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,kEAClB,OAAO1L,KAAKmrC,KAAKvD,KAAK/E,yBAAyBltB,EACjD,EAEAg7B,wBAAuB,SAACpoC,GACtB,GAAsB,MAAlBvI,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,iEAElB1L,KAAKmrC,KAAKvD,KAAKlK,IAAIiT,wBAAwBpoC,GAE3C,IAAM/D,EAAK,GAAAioC,KAAKC,WAAWnkC,GAAMlB,kBAC1BrH,KAAK0qC,kBAAkBlmC,GAE9BxE,KAAK+pC,aAAeb,GAAiBlpC,KAAKmrC,KAC5C,EAIAyF,cAAa,SAACC,GACZ,GAAuB,OAAnB7wC,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,uDAClB1L,KAAKmrC,KAAKvD,KAAKnK,GAAGmT,cAAcC,EAClC,EAEAC,iBAAgB,SAACD,GACf,GAAuB,OAAnB7wC,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,0DAClB1L,KAAKmrC,KAAKvD,KAAKnK,GAAGqT,iBAAiBD,EACrC,EAEAE,iBAAgB,WACd,GAAuB,OAAnB/wC,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,0DAClB1L,KAAKmrC,KAAKvD,KAAKnK,GAAGsT,kBACpB,EAIAnK,aAAY,SAACjxB,GACX,GAAuB,OAAnB3V,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,0DAClB,OAAO1L,KAAKmrC,KAAKvD,KAAKhB,aAAajxB,EACrC,EAIAqxB,aAAY,SAACrxB,GACX,GAAuB,OAAnB3V,KAAKmrC,KAAKvD,KACZ,MAAM,IAAIl8B,MAAM,sDAClB,OAAO1L,KAAKmrC,KAAKvD,KAAKZ,aAAarxB,EACrC,KCp9BSq7B,IAAoB,IAAAC,iBAAgB,CAC/C7wC,MAAO,CAKL8wC,aAAc,CAAEjpC,KAAME,OAAQgpC,QAAS,MAAOC,UAAU,GACxDC,4BAA6BlpC,QAG/B6Q,SAAU,SACL8C,GAASguB,GAAa,CAUvBwH,gBAAiB,eAOjBC,sBAAuB,qBAQvBC,sBAAuB,qBAKvBC,eAAgB,cAQhBC,wBAAyB,uBAKzBC,aAAc,YAMdC,UAAW,SAQXC,sBAAuB,qBAIvBC,qBAAsB,oBAOtBC,kBAAmB,iBAGnBC,sBAAuB,qBAIvBC,iBAAkB,gBAMlBC,SAAU,QAQVC,cAAe,aAGfC,WAAY,UAGZC,qBAAsB,oBAOtBC,qBAAsB,oBAQtBC,mBAAoB,kBAGpBC,eAAgB,cAWhBC,sBAAuB,qBAgBvBC,gBAAiB,eASjBC,WAAY,aAGX72B,GAASguB,GAAa,CAUvB,4BAGA,0BAGA,0BAcA,mBAaA,wBAWA,sBAcA,iBAWA,uBAYA,mBAYA,mBAWA,uBAWA,oCAIJ8I,QAAS,MACJ12B,GAAW4tB,GAAa,CAMzB,uBAMA,mBAGA,2BASA,gBAGA,kBAQA,aAWA,sBAWA,0BAQA,gBAOA,mBAQA,WAGA,gBASA,eAMA,gBAKA,yBAKA,0BAGA,eAIA,eAIA,eAGA,mBAMA,cAGA,mBAGA,0BAUA,qBAWA,2BAUA,eAUA,eAKA,uBAQA,2BAMA,uBAKA,wBAWA,wCAMA,UAOA,mBASA,mBAMA,YAKA,mBAMA,2BAKA,mBAWA,OAGA,OAGA,YCnxBA+I,GAAa,CAAC,MAEb,SAASC,GAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQ,kBAAc,wBAAoB,MAAO,CAC/C5uC,GAAIuuC,EAAKM,SACTC,MAAO,yBACN,KAAM,EAAGT,GACd,CCFA,IAAIU,GAAY,EAShB,UAAe,IAAAtC,iBAAgB,CAE7B7wC,MAAO,CACL8wC,aAAc,CAAEjpC,KAAME,OAAQgpC,QAAS,MAAOC,UAAU,GACxDC,4BAA6BlpC,QAG/BlD,KAAI,WACF,MAAO,CACLouC,SAAU,GACVlK,SAAKtoC,EACL2yC,kBAAc3yC,EAElB,EAEA+xC,QAAS,MACJ12B,GAAW4tB,GAAa,CACzB,mCACA,yBACA,6BACA,iBACA,kBAIJ2J,QAAO,WAEL,IAAMC,EAAM,iBAAUH,IACtBryC,OAAOyyC,iBAAiB3zC,KAAM,CAC5BqzC,SAAU,CAAEhyC,IAAG,WAAK,OAAOqyC,CAAK,KAElCH,IAAa,CACf,EAEAK,QAAO,WAAP,WACE5zC,KAAKmpC,KAAM,IAAAx0B,SAAQ,IAAIsnB,GAAY,CACjCY,KAAM78B,KAAKqzC,SACXvW,yBAAyB,EAGzBI,aAAc,KACdC,YAAa,KAEbH,yBAA0Bh9B,KAAKqxC,+BAKjCrxC,KAAKgtC,uBAAuBhtC,KAAKmpC,KAEjC,IAAM2J,EAAS,WACb,IAAM3J,EAAM,EAAKA,IAEjB,EAAKqK,aAAe9xC,OAAOmyC,sBAAsBf,GACjD3J,EAAIzL,IAAIoW,iBACR,EAAK5G,gBACP,EAMAltC,KAAKk/B,eAAejlB,MAAK,YACvB,IAAAD,YAAWC,MAAK,WACd,EAAKu5B,aAAe9xC,OAAOmyC,sBAAsBf,EACnD,GACF,IAEA9yC,KAAKmpC,IAAIzM,kBAAoB,SAAEqX,GAC7B,EAAKlG,kCACN,CACH,EAEAmG,UAAS,gBACmBnzC,IAAtBb,KAAKwzC,eACP9xC,OAAOuyC,qBAAqBj0C,KAAKwzC,cACjCxzC,KAAKwzC,kBAAe3yC,QAGLA,IAAbb,KAAKmpC,MACPnpC,KAAKmpC,IAAIzM,kBAAoB,MAG/B18B,KAAKitC,4BACP,I,cC/FF,MAAMiH,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAASpB,MAEpE,MCmBO,IAAMqB,GAAWr+B,KACxBq+B,GAASz9B,KAAI,SAAC,G,IAAExI,EAAK,QACnBA,EAAMi9B,KAAO,IAAIiJ,EACnB,G","sources":["webpack://index/webpack/universalModuleDefinition","webpack://index/../node_modules/vue-loader/dist/exportHelper.js","webpack://index/external umd {\"amd\":\"@wwtelescope/engine\",\"commonjs2\":\"@wwtelescope/engine\",\"commonjs\":\"@wwtelescope/engine\",\"root\":\"wwtlib\"}","webpack://index/external umd {\"commonjs\":\"vue\",\"commonjs2\":\"vue\",\"root\":\"Vue\"}","webpack://index/webpack/bootstrap","webpack://index/webpack/runtime/define property getters","webpack://index/webpack/runtime/global","webpack://index/webpack/runtime/hasOwnProperty shorthand","webpack://index/webpack/runtime/make namespace object","webpack://index/webpack/runtime/publicPath","webpack://index/../node_modules/@vue/cli-service/lib/commands/build/setPublicPath.js","webpack://index/../node_modules/vue-demi/lib/index.mjs","webpack://index/../node_modules/@vue/devtools-api/lib/esm/env.js","webpack://index/../node_modules/@vue/devtools-api/lib/esm/const.js","webpack://index/../node_modules/@vue/devtools-api/lib/esm/time.js","webpack://index/../node_modules/pinia/dist/pinia.mjs","webpack://index/../node_modules/@vue/devtools-api/lib/esm/proxy.js","webpack://index/../node_modules/@vue/devtools-api/lib/esm/index.js","webpack://index/../node_modules/tslib/tslib.es6.mjs","webpack://index/../astro/dist/src/index.js","webpack://index/../engine-types/dist/src/index.js","webpack://index/../engine-helpers/dist/src/layer.js","webpack://index/../engine-helpers/dist/src/imagesetlayer.js","webpack://index/../engine-helpers/dist/src/spreadsheetlayer.js","webpack://index/../engine-helpers/dist/src/annotation.js","webpack://index/../engine-helpers/dist/src/circleannotation.js","webpack://index/../engine-helpers/dist/src/engine.js","webpack://index/../engine-helpers/dist/src/polyannotation.js","webpack://index/../engine-helpers/dist/src/polylineannotation.js","webpack://index/../engine-helpers/dist/src/votablelayer.js","webpack://index/../engine-helpers/dist/src/index.js","webpack://index/./src/store.ts","webpack://index/./src/wwtaware.ts","webpack://index/./src/Component.vue?ec2b","webpack://index/./src/Component.vue?345a","webpack://index/./src/Component.vue","webpack://index/./src/index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@wwtelescope/engine\"), require(\"vue\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"@wwtelescope/engine\", ], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"index\"] = factory(require(\"@wwtelescope/engine\"), require(\"vue\"));\n\telse\n\t\troot[\"index\"] = factory(root[\"wwtlib\"], root[\"Vue\"]);\n})((typeof self !== 'undefined' ? self : this), (__WEBPACK_EXTERNAL_MODULE__415__, __WEBPACK_EXTERNAL_MODULE__203__) => {\nreturn ","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","module.exports = __WEBPACK_EXTERNAL_MODULE__415__;","module.exports = __WEBPACK_EXTERNAL_MODULE__203__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"\";","/* eslint-disable no-var */\n// This file is imported into lib/wc client bundles.\n\nif (typeof window !== 'undefined') {\n  var currentScript = window.document.currentScript\n  if (process.env.NEED_CURRENTSCRIPT_POLYFILL) {\n    var getCurrentScript = require('@soda/get-current-script')\n    currentScript = getCurrentScript()\n\n    // for backward compatibility, because previously we directly included the polyfill\n    if (!('currentScript' in document)) {\n      Object.defineProperty(document, 'currentScript', { get: getCurrentScript })\n    }\n  }\n\n  var src = currentScript && currentScript.src.match(/(.+\\/)[^/]+\\.js(\\?.*)?$/)\n  if (src) {\n    __webpack_public_path__ = src[1] // eslint-disable-line\n  }\n}\n\n// Indicate to webpack that this file can be concatenated\nexport default null\n","import * as Vue from 'vue'\n\nvar isVue2 = false\nvar isVue3 = true\nvar Vue2 = undefined\n\nfunction install() {}\n\nexport function set(target, key, val) {\n  if (Array.isArray(target)) {\n    target.length = Math.max(target.length, key)\n    target.splice(key, 1, val)\n    return val\n  }\n  target[key] = val\n  return val\n}\n\nexport function del(target, key) {\n  if (Array.isArray(target)) {\n    target.splice(key, 1)\n    return\n  }\n  delete target[key]\n}\n\nexport * from 'vue'\nexport {\n  Vue,\n  Vue2,\n  isVue2,\n  isVue3,\n  install,\n}\n","export function getDevtoolsGlobalHook() {\n    return getTarget().__VUE_DEVTOOLS_GLOBAL_HOOK__;\n}\nexport function getTarget() {\n    // @ts-ignore\n    return (typeof navigator !== 'undefined' && typeof window !== 'undefined')\n        ? window\n        : typeof global !== 'undefined'\n            ? global\n            : {};\n}\nexport const isProxyAvailable = typeof Proxy === 'function';\n","export const HOOK_SETUP = 'devtools-plugin:setup';\nexport const HOOK_PLUGIN_SETTINGS_SET = 'plugin:settings:set';\n","let supported;\nlet perf;\nexport function isPerformanceSupported() {\n    var _a;\n    if (supported !== undefined) {\n        return supported;\n    }\n    if (typeof window !== 'undefined' && window.performance) {\n        supported = true;\n        perf = window.performance;\n    }\n    else if (typeof global !== 'undefined' && ((_a = global.perf_hooks) === null || _a === void 0 ? void 0 : _a.performance)) {\n        supported = true;\n        perf = global.perf_hooks.performance;\n    }\n    else {\n        supported = false;\n    }\n    return supported;\n}\nexport function now() {\n    return isPerformanceSupported() ? perf.now() : Date.now();\n}\n","/*!\n * pinia v2.1.6\n * (c) 2023 Eduardo San Martin Morote\n * @license MIT\n */\nimport { hasInjectionContext, inject, toRaw, watch, unref, markRaw, effectScope, ref, isVue2, isRef, isReactive, set, getCurrentScope, onScopeDispose, getCurrentInstance, reactive, toRef, del, nextTick, computed, toRefs } from 'vue-demi';\nimport { setupDevtoolsPlugin } from '@vue/devtools-api';\n\n/**\n * setActivePinia must be called to handle SSR at the top of functions like\n * `fetch`, `setup`, `serverPrefetch` and others\n */\nlet activePinia;\n/**\n * Sets or unsets the active pinia. Used in SSR and internally when calling\n * actions and getters\n *\n * @param pinia - Pinia instance\n */\n// @ts-expect-error: cannot constrain the type of the return\nconst setActivePinia = (pinia) => (activePinia = pinia);\n/**\n * Get the currently active pinia if there is any.\n */\nconst getActivePinia = () => (hasInjectionContext() && inject(piniaSymbol)) || activePinia;\nconst piniaSymbol = ((process.env.NODE_ENV !== 'production') ? Symbol('pinia') : /* istanbul ignore next */ Symbol());\n\nfunction isPlainObject(\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\no) {\n    return (o &&\n        typeof o === 'object' &&\n        Object.prototype.toString.call(o) === '[object Object]' &&\n        typeof o.toJSON !== 'function');\n}\n// type DeepReadonly<T> = { readonly [P in keyof T]: DeepReadonly<T[P]> }\n// TODO: can we change these to numbers?\n/**\n * Possible types for SubscriptionCallback\n */\nvar MutationType;\n(function (MutationType) {\n    /**\n     * Direct mutation of the state:\n     *\n     * - `store.name = 'new name'`\n     * - `store.$state.name = 'new name'`\n     * - `store.list.push('new item')`\n     */\n    MutationType[\"direct\"] = \"direct\";\n    /**\n     * Mutated the state with `$patch` and an object\n     *\n     * - `store.$patch({ name: 'newName' })`\n     */\n    MutationType[\"patchObject\"] = \"patch object\";\n    /**\n     * Mutated the state with `$patch` and a function\n     *\n     * - `store.$patch(state => state.name = 'newName')`\n     */\n    MutationType[\"patchFunction\"] = \"patch function\";\n    // maybe reset? for $state = {} and $reset\n})(MutationType || (MutationType = {}));\n\nconst IS_CLIENT = typeof window !== 'undefined';\n/**\n * Should we add the devtools plugins.\n * - only if dev mode or forced through the prod devtools flag\n * - not in test\n * - only if window exists (could change in the future)\n */\nconst USE_DEVTOOLS = ((process.env.NODE_ENV !== 'production') || (typeof __VUE_PROD_DEVTOOLS__ !== 'undefined' && __VUE_PROD_DEVTOOLS__)) && !(process.env.NODE_ENV === 'test') && IS_CLIENT;\n\n/*\n * FileSaver.js A saveAs() FileSaver implementation.\n *\n * Originally by Eli Grey, adapted as an ESM module by Eduardo San Martin\n * Morote.\n *\n * License : MIT\n */\n// The one and only way of getting global scope in all environments\n// https://stackoverflow.com/q/3277182/1008999\nconst _global = /*#__PURE__*/ (() => typeof window === 'object' && window.window === window\n    ? window\n    : typeof self === 'object' && self.self === self\n        ? self\n        : typeof global === 'object' && global.global === global\n            ? global\n            : typeof globalThis === 'object'\n                ? globalThis\n                : { HTMLElement: null })();\nfunction bom(blob, { autoBom = false } = {}) {\n    // prepend BOM for UTF-8 XML and text/* types (including HTML)\n    // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n    if (autoBom &&\n        /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n        return new Blob([String.fromCharCode(0xfeff), blob], { type: blob.type });\n    }\n    return blob;\n}\nfunction download(url, name, opts) {\n    const xhr = new XMLHttpRequest();\n    xhr.open('GET', url);\n    xhr.responseType = 'blob';\n    xhr.onload = function () {\n        saveAs(xhr.response, name, opts);\n    };\n    xhr.onerror = function () {\n        console.error('could not download file');\n    };\n    xhr.send();\n}\nfunction corsEnabled(url) {\n    const xhr = new XMLHttpRequest();\n    // use sync to avoid popup blocker\n    xhr.open('HEAD', url, false);\n    try {\n        xhr.send();\n    }\n    catch (e) { }\n    return xhr.status >= 200 && xhr.status <= 299;\n}\n// `a.click()` doesn't work for all browsers (#465)\nfunction click(node) {\n    try {\n        node.dispatchEvent(new MouseEvent('click'));\n    }\n    catch (e) {\n        const evt = document.createEvent('MouseEvents');\n        evt.initMouseEvent('click', true, true, window, 0, 0, 0, 80, 20, false, false, false, false, 0, null);\n        node.dispatchEvent(evt);\n    }\n}\nconst _navigator = \n typeof navigator === 'object' ? navigator : { userAgent: '' };\n// Detect WebView inside a native macOS app by ruling out all browsers\n// We just need to check for 'Safari' because all other browsers (besides Firefox) include that too\n// https://www.whatismybrowser.com/guides/the-latest-user-agent/macos\nconst isMacOSWebView = /*#__PURE__*/ (() => /Macintosh/.test(_navigator.userAgent) &&\n    /AppleWebKit/.test(_navigator.userAgent) &&\n    !/Safari/.test(_navigator.userAgent))();\nconst saveAs = !IS_CLIENT\n    ? () => { } // noop\n    : // Use download attribute first if possible (#193 Lumia mobile) unless this is a macOS WebView or mini program\n        typeof HTMLAnchorElement !== 'undefined' &&\n            'download' in HTMLAnchorElement.prototype &&\n            !isMacOSWebView\n            ? downloadSaveAs\n            : // Use msSaveOrOpenBlob as a second approach\n                'msSaveOrOpenBlob' in _navigator\n                    ? msSaveAs\n                    : // Fallback to using FileReader and a popup\n                        fileSaverSaveAs;\nfunction downloadSaveAs(blob, name = 'download', opts) {\n    const a = document.createElement('a');\n    a.download = name;\n    a.rel = 'noopener'; // tabnabbing\n    // TODO: detect chrome extensions & packaged apps\n    // a.target = '_blank'\n    if (typeof blob === 'string') {\n        // Support regular links\n        a.href = blob;\n        if (a.origin !== location.origin) {\n            if (corsEnabled(a.href)) {\n                download(blob, name, opts);\n            }\n            else {\n                a.target = '_blank';\n                click(a);\n            }\n        }\n        else {\n            click(a);\n        }\n    }\n    else {\n        // Support blobs\n        a.href = URL.createObjectURL(blob);\n        setTimeout(function () {\n            URL.revokeObjectURL(a.href);\n        }, 4e4); // 40s\n        setTimeout(function () {\n            click(a);\n        }, 0);\n    }\n}\nfunction msSaveAs(blob, name = 'download', opts) {\n    if (typeof blob === 'string') {\n        if (corsEnabled(blob)) {\n            download(blob, name, opts);\n        }\n        else {\n            const a = document.createElement('a');\n            a.href = blob;\n            a.target = '_blank';\n            setTimeout(function () {\n                click(a);\n            });\n        }\n    }\n    else {\n        // @ts-ignore: works on windows\n        navigator.msSaveOrOpenBlob(bom(blob, opts), name);\n    }\n}\nfunction fileSaverSaveAs(blob, name, opts, popup) {\n    // Open a popup immediately do go around popup blocker\n    // Mostly only available on user interaction and the fileReader is async so...\n    popup = popup || open('', '_blank');\n    if (popup) {\n        popup.document.title = popup.document.body.innerText = 'downloading...';\n    }\n    if (typeof blob === 'string')\n        return download(blob, name, opts);\n    const force = blob.type === 'application/octet-stream';\n    const isSafari = /constructor/i.test(String(_global.HTMLElement)) || 'safari' in _global;\n    const isChromeIOS = /CriOS\\/[\\d]+/.test(navigator.userAgent);\n    if ((isChromeIOS || (force && isSafari) || isMacOSWebView) &&\n        typeof FileReader !== 'undefined') {\n        // Safari doesn't allow downloading of blob URLs\n        const reader = new FileReader();\n        reader.onloadend = function () {\n            let url = reader.result;\n            if (typeof url !== 'string') {\n                popup = null;\n                throw new Error('Wrong reader.result type');\n            }\n            url = isChromeIOS\n                ? url\n                : url.replace(/^data:[^;]*;/, 'data:attachment/file;');\n            if (popup) {\n                popup.location.href = url;\n            }\n            else {\n                location.assign(url);\n            }\n            popup = null; // reverse-tabnabbing #460\n        };\n        reader.readAsDataURL(blob);\n    }\n    else {\n        const url = URL.createObjectURL(blob);\n        if (popup)\n            popup.location.assign(url);\n        else\n            location.href = url;\n        popup = null; // reverse-tabnabbing #460\n        setTimeout(function () {\n            URL.revokeObjectURL(url);\n        }, 4e4); // 40s\n    }\n}\n\n/**\n * Shows a toast or console.log\n *\n * @param message - message to log\n * @param type - different color of the tooltip\n */\nfunction toastMessage(message, type) {\n    const piniaMessage = ' ' + message;\n    if (typeof __VUE_DEVTOOLS_TOAST__ === 'function') {\n        // No longer available :(\n        __VUE_DEVTOOLS_TOAST__(piniaMessage, type);\n    }\n    else if (type === 'error') {\n        console.error(piniaMessage);\n    }\n    else if (type === 'warn') {\n        console.warn(piniaMessage);\n    }\n    else {\n        console.log(piniaMessage);\n    }\n}\nfunction isPinia(o) {\n    return '_a' in o && 'install' in o;\n}\n\n/**\n * This file contain devtools actions, they are not Pinia actions.\n */\n// ---\nfunction checkClipboardAccess() {\n    if (!('clipboard' in navigator)) {\n        toastMessage(`Your browser doesn't support the Clipboard API`, 'error');\n        return true;\n    }\n}\nfunction checkNotFocusedError(error) {\n    if (error instanceof Error &&\n        error.message.toLowerCase().includes('document is not focused')) {\n        toastMessage('You need to activate the \"Emulate a focused page\" setting in the \"Rendering\" panel of devtools.', 'warn');\n        return true;\n    }\n    return false;\n}\nasync function actionGlobalCopyState(pinia) {\n    if (checkClipboardAccess())\n        return;\n    try {\n        await navigator.clipboard.writeText(JSON.stringify(pinia.state.value));\n        toastMessage('Global state copied to clipboard.');\n    }\n    catch (error) {\n        if (checkNotFocusedError(error))\n            return;\n        toastMessage(`Failed to serialize the state. Check the console for more details.`, 'error');\n        console.error(error);\n    }\n}\nasync function actionGlobalPasteState(pinia) {\n    if (checkClipboardAccess())\n        return;\n    try {\n        loadStoresState(pinia, JSON.parse(await navigator.clipboard.readText()));\n        toastMessage('Global state pasted from clipboard.');\n    }\n    catch (error) {\n        if (checkNotFocusedError(error))\n            return;\n        toastMessage(`Failed to deserialize the state from clipboard. Check the console for more details.`, 'error');\n        console.error(error);\n    }\n}\nasync function actionGlobalSaveState(pinia) {\n    try {\n        saveAs(new Blob([JSON.stringify(pinia.state.value)], {\n            type: 'text/plain;charset=utf-8',\n        }), 'pinia-state.json');\n    }\n    catch (error) {\n        toastMessage(`Failed to export the state as JSON. Check the console for more details.`, 'error');\n        console.error(error);\n    }\n}\nlet fileInput;\nfunction getFileOpener() {\n    if (!fileInput) {\n        fileInput = document.createElement('input');\n        fileInput.type = 'file';\n        fileInput.accept = '.json';\n    }\n    function openFile() {\n        return new Promise((resolve, reject) => {\n            fileInput.onchange = async () => {\n                const files = fileInput.files;\n                if (!files)\n                    return resolve(null);\n                const file = files.item(0);\n                if (!file)\n                    return resolve(null);\n                return resolve({ text: await file.text(), file });\n            };\n            // @ts-ignore: TODO: changed from 4.3 to 4.4\n            fileInput.oncancel = () => resolve(null);\n            fileInput.onerror = reject;\n            fileInput.click();\n        });\n    }\n    return openFile;\n}\nasync function actionGlobalOpenStateFile(pinia) {\n    try {\n        const open = getFileOpener();\n        const result = await open();\n        if (!result)\n            return;\n        const { text, file } = result;\n        loadStoresState(pinia, JSON.parse(text));\n        toastMessage(`Global state imported from \"${file.name}\".`);\n    }\n    catch (error) {\n        toastMessage(`Failed to import the state from JSON. Check the console for more details.`, 'error');\n        console.error(error);\n    }\n}\nfunction loadStoresState(pinia, state) {\n    for (const key in state) {\n        const storeState = pinia.state.value[key];\n        if (storeState) {\n            Object.assign(storeState, state[key]);\n        }\n    }\n}\n\nfunction formatDisplay(display) {\n    return {\n        _custom: {\n            display,\n        },\n    };\n}\nconst PINIA_ROOT_LABEL = ' Pinia (root)';\nconst PINIA_ROOT_ID = '_root';\nfunction formatStoreForInspectorTree(store) {\n    return isPinia(store)\n        ? {\n            id: PINIA_ROOT_ID,\n            label: PINIA_ROOT_LABEL,\n        }\n        : {\n            id: store.$id,\n            label: store.$id,\n        };\n}\nfunction formatStoreForInspectorState(store) {\n    if (isPinia(store)) {\n        const storeNames = Array.from(store._s.keys());\n        const storeMap = store._s;\n        const state = {\n            state: storeNames.map((storeId) => ({\n                editable: true,\n                key: storeId,\n                value: store.state.value[storeId],\n            })),\n            getters: storeNames\n                .filter((id) => storeMap.get(id)._getters)\n                .map((id) => {\n                const store = storeMap.get(id);\n                return {\n                    editable: false,\n                    key: id,\n                    value: store._getters.reduce((getters, key) => {\n                        getters[key] = store[key];\n                        return getters;\n                    }, {}),\n                };\n            }),\n        };\n        return state;\n    }\n    const state = {\n        state: Object.keys(store.$state).map((key) => ({\n            editable: true,\n            key,\n            value: store.$state[key],\n        })),\n    };\n    // avoid adding empty getters\n    if (store._getters && store._getters.length) {\n        state.getters = store._getters.map((getterName) => ({\n            editable: false,\n            key: getterName,\n            value: store[getterName],\n        }));\n    }\n    if (store._customProperties.size) {\n        state.customProperties = Array.from(store._customProperties).map((key) => ({\n            editable: true,\n            key,\n            value: store[key],\n        }));\n    }\n    return state;\n}\nfunction formatEventData(events) {\n    if (!events)\n        return {};\n    if (Array.isArray(events)) {\n        // TODO: handle add and delete for arrays and objects\n        return events.reduce((data, event) => {\n            data.keys.push(event.key);\n            data.operations.push(event.type);\n            data.oldValue[event.key] = event.oldValue;\n            data.newValue[event.key] = event.newValue;\n            return data;\n        }, {\n            oldValue: {},\n            keys: [],\n            operations: [],\n            newValue: {},\n        });\n    }\n    else {\n        return {\n            operation: formatDisplay(events.type),\n            key: formatDisplay(events.key),\n            oldValue: events.oldValue,\n            newValue: events.newValue,\n        };\n    }\n}\nfunction formatMutationType(type) {\n    switch (type) {\n        case MutationType.direct:\n            return 'mutation';\n        case MutationType.patchFunction:\n            return '$patch';\n        case MutationType.patchObject:\n            return '$patch';\n        default:\n            return 'unknown';\n    }\n}\n\n// timeline can be paused when directly changing the state\nlet isTimelineActive = true;\nconst componentStateTypes = [];\nconst MUTATIONS_LAYER_ID = 'pinia:mutations';\nconst INSPECTOR_ID = 'pinia';\nconst { assign: assign$1 } = Object;\n/**\n * Gets the displayed name of a store in devtools\n *\n * @param id - id of the store\n * @returns a formatted string\n */\nconst getStoreType = (id) => ' ' + id;\n/**\n * Add the pinia plugin without any store. Allows displaying a Pinia plugin tab\n * as soon as it is added to the application.\n *\n * @param app - Vue application\n * @param pinia - pinia instance\n */\nfunction registerPiniaDevtools(app, pinia) {\n    setupDevtoolsPlugin({\n        id: 'dev.esm.pinia',\n        label: 'Pinia ',\n        logo: 'https://pinia.vuejs.org/logo.svg',\n        packageName: 'pinia',\n        homepage: 'https://pinia.vuejs.org',\n        componentStateTypes,\n        app,\n    }, (api) => {\n        if (typeof api.now !== 'function') {\n            toastMessage('You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html.');\n        }\n        api.addTimelineLayer({\n            id: MUTATIONS_LAYER_ID,\n            label: `Pinia `,\n            color: 0xe5df88,\n        });\n        api.addInspector({\n            id: INSPECTOR_ID,\n            label: 'Pinia ',\n            icon: 'storage',\n            treeFilterPlaceholder: 'Search stores',\n            actions: [\n                {\n                    icon: 'content_copy',\n                    action: () => {\n                        actionGlobalCopyState(pinia);\n                    },\n                    tooltip: 'Serialize and copy the state',\n                },\n                {\n                    icon: 'content_paste',\n                    action: async () => {\n                        await actionGlobalPasteState(pinia);\n                        api.sendInspectorTree(INSPECTOR_ID);\n                        api.sendInspectorState(INSPECTOR_ID);\n                    },\n                    tooltip: 'Replace the state with the content of your clipboard',\n                },\n                {\n                    icon: 'save',\n                    action: () => {\n                        actionGlobalSaveState(pinia);\n                    },\n                    tooltip: 'Save the state as a JSON file',\n                },\n                {\n                    icon: 'folder_open',\n                    action: async () => {\n                        await actionGlobalOpenStateFile(pinia);\n                        api.sendInspectorTree(INSPECTOR_ID);\n                        api.sendInspectorState(INSPECTOR_ID);\n                    },\n                    tooltip: 'Import the state from a JSON file',\n                },\n            ],\n            nodeActions: [\n                {\n                    icon: 'restore',\n                    tooltip: 'Reset the state (with \"$reset\")',\n                    action: (nodeId) => {\n                        const store = pinia._s.get(nodeId);\n                        if (!store) {\n                            toastMessage(`Cannot reset \"${nodeId}\" store because it wasn't found.`, 'warn');\n                        }\n                        else if (typeof store.$reset !== 'function') {\n                            toastMessage(`Cannot reset \"${nodeId}\" store because it doesn't have a \"$reset\" method implemented.`, 'warn');\n                        }\n                        else {\n                            store.$reset();\n                            toastMessage(`Store \"${nodeId}\" reset.`);\n                        }\n                    },\n                },\n            ],\n        });\n        api.on.inspectComponent((payload, ctx) => {\n            const proxy = (payload.componentInstance &&\n                payload.componentInstance.proxy);\n            if (proxy && proxy._pStores) {\n                const piniaStores = payload.componentInstance.proxy._pStores;\n                Object.values(piniaStores).forEach((store) => {\n                    payload.instanceData.state.push({\n                        type: getStoreType(store.$id),\n                        key: 'state',\n                        editable: true,\n                        value: store._isOptionsAPI\n                            ? {\n                                _custom: {\n                                    value: toRaw(store.$state),\n                                    actions: [\n                                        {\n                                            icon: 'restore',\n                                            tooltip: 'Reset the state of this store',\n                                            action: () => store.$reset(),\n                                        },\n                                    ],\n                                },\n                            }\n                            : // NOTE: workaround to unwrap transferred refs\n                                Object.keys(store.$state).reduce((state, key) => {\n                                    state[key] = store.$state[key];\n                                    return state;\n                                }, {}),\n                    });\n                    if (store._getters && store._getters.length) {\n                        payload.instanceData.state.push({\n                            type: getStoreType(store.$id),\n                            key: 'getters',\n                            editable: false,\n                            value: store._getters.reduce((getters, key) => {\n                                try {\n                                    getters[key] = store[key];\n                                }\n                                catch (error) {\n                                    // @ts-expect-error: we just want to show it in devtools\n                                    getters[key] = error;\n                                }\n                                return getters;\n                            }, {}),\n                        });\n                    }\n                });\n            }\n        });\n        api.on.getInspectorTree((payload) => {\n            if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {\n                let stores = [pinia];\n                stores = stores.concat(Array.from(pinia._s.values()));\n                payload.rootNodes = (payload.filter\n                    ? stores.filter((store) => '$id' in store\n                        ? store.$id\n                            .toLowerCase()\n                            .includes(payload.filter.toLowerCase())\n                        : PINIA_ROOT_LABEL.toLowerCase().includes(payload.filter.toLowerCase()))\n                    : stores).map(formatStoreForInspectorTree);\n            }\n        });\n        api.on.getInspectorState((payload) => {\n            if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {\n                const inspectedStore = payload.nodeId === PINIA_ROOT_ID\n                    ? pinia\n                    : pinia._s.get(payload.nodeId);\n                if (!inspectedStore) {\n                    // this could be the selected store restored for a different project\n                    // so it's better not to say anything here\n                    return;\n                }\n                if (inspectedStore) {\n                    payload.state = formatStoreForInspectorState(inspectedStore);\n                }\n            }\n        });\n        api.on.editInspectorState((payload, ctx) => {\n            if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {\n                const inspectedStore = payload.nodeId === PINIA_ROOT_ID\n                    ? pinia\n                    : pinia._s.get(payload.nodeId);\n                if (!inspectedStore) {\n                    return toastMessage(`store \"${payload.nodeId}\" not found`, 'error');\n                }\n                const { path } = payload;\n                if (!isPinia(inspectedStore)) {\n                    // access only the state\n                    if (path.length !== 1 ||\n                        !inspectedStore._customProperties.has(path[0]) ||\n                        path[0] in inspectedStore.$state) {\n                        path.unshift('$state');\n                    }\n                }\n                else {\n                    // Root access, we can omit the `.value` because the devtools API does it for us\n                    path.unshift('state');\n                }\n                isTimelineActive = false;\n                payload.set(inspectedStore, path, payload.state.value);\n                isTimelineActive = true;\n            }\n        });\n        api.on.editComponentState((payload) => {\n            if (payload.type.startsWith('')) {\n                const storeId = payload.type.replace(/^\\s*/, '');\n                const store = pinia._s.get(storeId);\n                if (!store) {\n                    return toastMessage(`store \"${storeId}\" not found`, 'error');\n                }\n                const { path } = payload;\n                if (path[0] !== 'state') {\n                    return toastMessage(`Invalid path for store \"${storeId}\":\\n${path}\\nOnly state can be modified.`);\n                }\n                // rewrite the first entry to be able to directly set the state as\n                // well as any other path\n                path[0] = '$state';\n                isTimelineActive = false;\n                payload.set(store, path, payload.state.value);\n                isTimelineActive = true;\n            }\n        });\n    });\n}\nfunction addStoreToDevtools(app, store) {\n    if (!componentStateTypes.includes(getStoreType(store.$id))) {\n        componentStateTypes.push(getStoreType(store.$id));\n    }\n    setupDevtoolsPlugin({\n        id: 'dev.esm.pinia',\n        label: 'Pinia ',\n        logo: 'https://pinia.vuejs.org/logo.svg',\n        packageName: 'pinia',\n        homepage: 'https://pinia.vuejs.org',\n        componentStateTypes,\n        app,\n        settings: {\n            logStoreChanges: {\n                label: 'Notify about new/deleted stores',\n                type: 'boolean',\n                defaultValue: true,\n            },\n            // useEmojis: {\n            //   label: 'Use emojis in messages ',\n            //   type: 'boolean',\n            //   defaultValue: true,\n            // },\n        },\n    }, (api) => {\n        // gracefully handle errors\n        const now = typeof api.now === 'function' ? api.now.bind(api) : Date.now;\n        store.$onAction(({ after, onError, name, args }) => {\n            const groupId = runningActionId++;\n            api.addTimelineEvent({\n                layerId: MUTATIONS_LAYER_ID,\n                event: {\n                    time: now(),\n                    title: ' ' + name,\n                    subtitle: 'start',\n                    data: {\n                        store: formatDisplay(store.$id),\n                        action: formatDisplay(name),\n                        args,\n                    },\n                    groupId,\n                },\n            });\n            after((result) => {\n                activeAction = undefined;\n                api.addTimelineEvent({\n                    layerId: MUTATIONS_LAYER_ID,\n                    event: {\n                        time: now(),\n                        title: ' ' + name,\n                        subtitle: 'end',\n                        data: {\n                            store: formatDisplay(store.$id),\n                            action: formatDisplay(name),\n                            args,\n                            result,\n                        },\n                        groupId,\n                    },\n                });\n            });\n            onError((error) => {\n                activeAction = undefined;\n                api.addTimelineEvent({\n                    layerId: MUTATIONS_LAYER_ID,\n                    event: {\n                        time: now(),\n                        logType: 'error',\n                        title: ' ' + name,\n                        subtitle: 'end',\n                        data: {\n                            store: formatDisplay(store.$id),\n                            action: formatDisplay(name),\n                            args,\n                            error,\n                        },\n                        groupId,\n                    },\n                });\n            });\n        }, true);\n        store._customProperties.forEach((name) => {\n            watch(() => unref(store[name]), (newValue, oldValue) => {\n                api.notifyComponentUpdate();\n                api.sendInspectorState(INSPECTOR_ID);\n                if (isTimelineActive) {\n                    api.addTimelineEvent({\n                        layerId: MUTATIONS_LAYER_ID,\n                        event: {\n                            time: now(),\n                            title: 'Change',\n                            subtitle: name,\n                            data: {\n                                newValue,\n                                oldValue,\n                            },\n                            groupId: activeAction,\n                        },\n                    });\n                }\n            }, { deep: true });\n        });\n        store.$subscribe(({ events, type }, state) => {\n            api.notifyComponentUpdate();\n            api.sendInspectorState(INSPECTOR_ID);\n            if (!isTimelineActive)\n                return;\n            // rootStore.state[store.id] = state\n            const eventData = {\n                time: now(),\n                title: formatMutationType(type),\n                data: assign$1({ store: formatDisplay(store.$id) }, formatEventData(events)),\n                groupId: activeAction,\n            };\n            if (type === MutationType.patchFunction) {\n                eventData.subtitle = '';\n            }\n            else if (type === MutationType.patchObject) {\n                eventData.subtitle = '';\n            }\n            else if (events && !Array.isArray(events)) {\n                eventData.subtitle = events.type;\n            }\n            if (events) {\n                eventData.data['rawEvent(s)'] = {\n                    _custom: {\n                        display: 'DebuggerEvent',\n                        type: 'object',\n                        tooltip: 'raw DebuggerEvent[]',\n                        value: events,\n                    },\n                };\n            }\n            api.addTimelineEvent({\n                layerId: MUTATIONS_LAYER_ID,\n                event: eventData,\n            });\n        }, { detached: true, flush: 'sync' });\n        const hotUpdate = store._hotUpdate;\n        store._hotUpdate = markRaw((newStore) => {\n            hotUpdate(newStore);\n            api.addTimelineEvent({\n                layerId: MUTATIONS_LAYER_ID,\n                event: {\n                    time: now(),\n                    title: ' ' + store.$id,\n                    subtitle: 'HMR update',\n                    data: {\n                        store: formatDisplay(store.$id),\n                        info: formatDisplay(`HMR update`),\n                    },\n                },\n            });\n            // update the devtools too\n            api.notifyComponentUpdate();\n            api.sendInspectorTree(INSPECTOR_ID);\n            api.sendInspectorState(INSPECTOR_ID);\n        });\n        const { $dispose } = store;\n        store.$dispose = () => {\n            $dispose();\n            api.notifyComponentUpdate();\n            api.sendInspectorTree(INSPECTOR_ID);\n            api.sendInspectorState(INSPECTOR_ID);\n            api.getSettings().logStoreChanges &&\n                toastMessage(`Disposed \"${store.$id}\" store `);\n        };\n        // trigger an update so it can display new registered stores\n        api.notifyComponentUpdate();\n        api.sendInspectorTree(INSPECTOR_ID);\n        api.sendInspectorState(INSPECTOR_ID);\n        api.getSettings().logStoreChanges &&\n            toastMessage(`\"${store.$id}\" store installed `);\n    });\n}\nlet runningActionId = 0;\nlet activeAction;\n/**\n * Patches a store to enable action grouping in devtools by wrapping the store with a Proxy that is passed as the\n * context of all actions, allowing us to set `runningAction` on each access and effectively associating any state\n * mutation to the action.\n *\n * @param store - store to patch\n * @param actionNames - list of actionst to patch\n */\nfunction patchActionForGrouping(store, actionNames, wrapWithProxy) {\n    // original actions of the store as they are given by pinia. We are going to override them\n    const actions = actionNames.reduce((storeActions, actionName) => {\n        // use toRaw to avoid tracking #541\n        storeActions[actionName] = toRaw(store)[actionName];\n        return storeActions;\n    }, {});\n    for (const actionName in actions) {\n        store[actionName] = function () {\n            // the running action id is incremented in a before action hook\n            const _actionId = runningActionId;\n            const trackedStore = wrapWithProxy\n                ? new Proxy(store, {\n                    get(...args) {\n                        activeAction = _actionId;\n                        return Reflect.get(...args);\n                    },\n                    set(...args) {\n                        activeAction = _actionId;\n                        return Reflect.set(...args);\n                    },\n                })\n                : store;\n            // For Setup Stores we need https://github.com/tc39/proposal-async-context\n            activeAction = _actionId;\n            const retValue = actions[actionName].apply(trackedStore, arguments);\n            // this is safer as async actions in Setup Stores would associate mutations done outside of the action\n            activeAction = undefined;\n            return retValue;\n        };\n    }\n}\n/**\n * pinia.use(devtoolsPlugin)\n */\nfunction devtoolsPlugin({ app, store, options }) {\n    // HMR module\n    if (store.$id.startsWith('__hot:')) {\n        return;\n    }\n    // detect option api vs setup api\n    store._isOptionsAPI = !!options.state;\n    patchActionForGrouping(store, Object.keys(options.actions), store._isOptionsAPI);\n    // Upgrade the HMR to also update the new actions\n    const originalHotUpdate = store._hotUpdate;\n    toRaw(store)._hotUpdate = function (newStore) {\n        originalHotUpdate.apply(this, arguments);\n        patchActionForGrouping(store, Object.keys(newStore._hmrPayload.actions), !!store._isOptionsAPI);\n    };\n    addStoreToDevtools(app, \n    // FIXME: is there a way to allow the assignment from Store<Id, S, G, A> to StoreGeneric?\n    store);\n}\n\n/**\n * Creates a Pinia instance to be used by the application\n */\nfunction createPinia() {\n    const scope = effectScope(true);\n    // NOTE: here we could check the window object for a state and directly set it\n    // if there is anything like it with Vue 3 SSR\n    const state = scope.run(() => ref({}));\n    let _p = [];\n    // plugins added before calling app.use(pinia)\n    let toBeInstalled = [];\n    const pinia = markRaw({\n        install(app) {\n            // this allows calling useStore() outside of a component setup after\n            // installing pinia's plugin\n            setActivePinia(pinia);\n            if (!isVue2) {\n                pinia._a = app;\n                app.provide(piniaSymbol, pinia);\n                app.config.globalProperties.$pinia = pinia;\n                /* istanbul ignore else */\n                if (USE_DEVTOOLS) {\n                    registerPiniaDevtools(app, pinia);\n                }\n                toBeInstalled.forEach((plugin) => _p.push(plugin));\n                toBeInstalled = [];\n            }\n        },\n        use(plugin) {\n            if (!this._a && !isVue2) {\n                toBeInstalled.push(plugin);\n            }\n            else {\n                _p.push(plugin);\n            }\n            return this;\n        },\n        _p,\n        // it's actually undefined here\n        // @ts-expect-error\n        _a: null,\n        _e: scope,\n        _s: new Map(),\n        state,\n    });\n    // pinia devtools rely on dev only features so they cannot be forced unless\n    // the dev build of Vue is used. Avoid old browsers like IE11.\n    if (USE_DEVTOOLS && typeof Proxy !== 'undefined') {\n        pinia.use(devtoolsPlugin);\n    }\n    return pinia;\n}\n\n/**\n * Checks if a function is a `StoreDefinition`.\n *\n * @param fn - object to test\n * @returns true if `fn` is a StoreDefinition\n */\nconst isUseStore = (fn) => {\n    return typeof fn === 'function' && typeof fn.$id === 'string';\n};\n/**\n * Mutates in place `newState` with `oldState` to _hot update_ it. It will\n * remove any key not existing in `newState` and recursively merge plain\n * objects.\n *\n * @param newState - new state object to be patched\n * @param oldState - old state that should be used to patch newState\n * @returns - newState\n */\nfunction patchObject(newState, oldState) {\n    // no need to go through symbols because they cannot be serialized anyway\n    for (const key in oldState) {\n        const subPatch = oldState[key];\n        // skip the whole sub tree\n        if (!(key in newState)) {\n            continue;\n        }\n        const targetValue = newState[key];\n        if (isPlainObject(targetValue) &&\n            isPlainObject(subPatch) &&\n            !isRef(subPatch) &&\n            !isReactive(subPatch)) {\n            newState[key] = patchObject(targetValue, subPatch);\n        }\n        else {\n            // objects are either a bit more complex (e.g. refs) or primitives, so we\n            // just set the whole thing\n            if (isVue2) {\n                set(newState, key, subPatch);\n            }\n            else {\n                newState[key] = subPatch;\n            }\n        }\n    }\n    return newState;\n}\n/**\n * Creates an _accept_ function to pass to `import.meta.hot` in Vite applications.\n *\n * @example\n * ```js\n * const useUser = defineStore(...)\n * if (import.meta.hot) {\n *   import.meta.hot.accept(acceptHMRUpdate(useUser, import.meta.hot))\n * }\n * ```\n *\n * @param initialUseStore - return of the defineStore to hot update\n * @param hot - `import.meta.hot`\n */\nfunction acceptHMRUpdate(initialUseStore, hot) {\n    // strip as much as possible from iife.prod\n    if (!(process.env.NODE_ENV !== 'production')) {\n        return () => { };\n    }\n    return (newModule) => {\n        const pinia = hot.data.pinia || initialUseStore._pinia;\n        if (!pinia) {\n            // this store is still not used\n            return;\n        }\n        // preserve the pinia instance across loads\n        hot.data.pinia = pinia;\n        // console.log('got data', newStore)\n        for (const exportName in newModule) {\n            const useStore = newModule[exportName];\n            // console.log('checking for', exportName)\n            if (isUseStore(useStore) && pinia._s.has(useStore.$id)) {\n                // console.log('Accepting update for', useStore.$id)\n                const id = useStore.$id;\n                if (id !== initialUseStore.$id) {\n                    console.warn(`The id of the store changed from \"${initialUseStore.$id}\" to \"${id}\". Reloading.`);\n                    // return import.meta.hot.invalidate()\n                    return hot.invalidate();\n                }\n                const existingStore = pinia._s.get(id);\n                if (!existingStore) {\n                    console.log(`[Pinia]: skipping hmr because store doesn't exist yet`);\n                    return;\n                }\n                useStore(pinia, existingStore);\n            }\n        }\n    };\n}\n\nconst noop = () => { };\nfunction addSubscription(subscriptions, callback, detached, onCleanup = noop) {\n    subscriptions.push(callback);\n    const removeSubscription = () => {\n        const idx = subscriptions.indexOf(callback);\n        if (idx > -1) {\n            subscriptions.splice(idx, 1);\n            onCleanup();\n        }\n    };\n    if (!detached && getCurrentScope()) {\n        onScopeDispose(removeSubscription);\n    }\n    return removeSubscription;\n}\nfunction triggerSubscriptions(subscriptions, ...args) {\n    subscriptions.slice().forEach((callback) => {\n        callback(...args);\n    });\n}\n\nconst fallbackRunWithContext = (fn) => fn();\nfunction mergeReactiveObjects(target, patchToApply) {\n    // Handle Map instances\n    if (target instanceof Map && patchToApply instanceof Map) {\n        patchToApply.forEach((value, key) => target.set(key, value));\n    }\n    // Handle Set instances\n    if (target instanceof Set && patchToApply instanceof Set) {\n        patchToApply.forEach(target.add, target);\n    }\n    // no need to go through symbols because they cannot be serialized anyway\n    for (const key in patchToApply) {\n        if (!patchToApply.hasOwnProperty(key))\n            continue;\n        const subPatch = patchToApply[key];\n        const targetValue = target[key];\n        if (isPlainObject(targetValue) &&\n            isPlainObject(subPatch) &&\n            target.hasOwnProperty(key) &&\n            !isRef(subPatch) &&\n            !isReactive(subPatch)) {\n            // NOTE: here I wanted to warn about inconsistent types but it's not possible because in setup stores one might\n            // start the value of a property as a certain type e.g. a Map, and then for some reason, during SSR, change that\n            // to `undefined`. When trying to hydrate, we want to override the Map with `undefined`.\n            target[key] = mergeReactiveObjects(targetValue, subPatch);\n        }\n        else {\n            // @ts-expect-error: subPatch is a valid value\n            target[key] = subPatch;\n        }\n    }\n    return target;\n}\nconst skipHydrateSymbol = (process.env.NODE_ENV !== 'production')\n    ? Symbol('pinia:skipHydration')\n    : /* istanbul ignore next */ Symbol();\nconst skipHydrateMap = /*#__PURE__*/ new WeakMap();\n/**\n * Tells Pinia to skip the hydration process of a given object. This is useful in setup stores (only) when you return a\n * stateful object in the store but it isn't really state. e.g. returning a router instance in a setup store.\n *\n * @param obj - target object\n * @returns obj\n */\nfunction skipHydrate(obj) {\n    return isVue2\n        ? // in @vue/composition-api, the refs are sealed so defineProperty doesn't work...\n            /* istanbul ignore next */ skipHydrateMap.set(obj, 1) && obj\n        : Object.defineProperty(obj, skipHydrateSymbol, {});\n}\n/**\n * Returns whether a value should be hydrated\n *\n * @param obj - target variable\n * @returns true if `obj` should be hydrated\n */\nfunction shouldHydrate(obj) {\n    return isVue2\n        ? /* istanbul ignore next */ !skipHydrateMap.has(obj)\n        : !isPlainObject(obj) || !obj.hasOwnProperty(skipHydrateSymbol);\n}\nconst { assign } = Object;\nfunction isComputed(o) {\n    return !!(isRef(o) && o.effect);\n}\nfunction createOptionsStore(id, options, pinia, hot) {\n    const { state, actions, getters } = options;\n    const initialState = pinia.state.value[id];\n    let store;\n    function setup() {\n        if (!initialState && (!(process.env.NODE_ENV !== 'production') || !hot)) {\n            /* istanbul ignore if */\n            if (isVue2) {\n                set(pinia.state.value, id, state ? state() : {});\n            }\n            else {\n                pinia.state.value[id] = state ? state() : {};\n            }\n        }\n        // avoid creating a state in pinia.state.value\n        const localState = (process.env.NODE_ENV !== 'production') && hot\n            ? // use ref() to unwrap refs inside state TODO: check if this is still necessary\n                toRefs(ref(state ? state() : {}).value)\n            : toRefs(pinia.state.value[id]);\n        return assign(localState, actions, Object.keys(getters || {}).reduce((computedGetters, name) => {\n            if ((process.env.NODE_ENV !== 'production') && name in localState) {\n                console.warn(`[]: A getter cannot have the same name as another state property. Rename one of them. Found with \"${name}\" in store \"${id}\".`);\n            }\n            computedGetters[name] = markRaw(computed(() => {\n                setActivePinia(pinia);\n                // it was created just before\n                const store = pinia._s.get(id);\n                // allow cross using stores\n                /* istanbul ignore next */\n                if (isVue2 && !store._r)\n                    return;\n                // @ts-expect-error\n                // return getters![name].call(context, context)\n                // TODO: avoid reading the getter while assigning with a global variable\n                return getters[name].call(store, store);\n            }));\n            return computedGetters;\n        }, {}));\n    }\n    store = createSetupStore(id, setup, options, pinia, hot, true);\n    return store;\n}\nfunction createSetupStore($id, setup, options = {}, pinia, hot, isOptionsStore) {\n    let scope;\n    const optionsForPlugin = assign({ actions: {} }, options);\n    /* istanbul ignore if */\n    if ((process.env.NODE_ENV !== 'production') && !pinia._e.active) {\n        throw new Error('Pinia destroyed');\n    }\n    // watcher options for $subscribe\n    const $subscribeOptions = {\n        deep: true,\n        // flush: 'post',\n    };\n    /* istanbul ignore else */\n    if ((process.env.NODE_ENV !== 'production') && !isVue2) {\n        $subscribeOptions.onTrigger = (event) => {\n            /* istanbul ignore else */\n            if (isListening) {\n                debuggerEvents = event;\n                // avoid triggering this while the store is being built and the state is being set in pinia\n            }\n            else if (isListening == false && !store._hotUpdating) {\n                // let patch send all the events together later\n                /* istanbul ignore else */\n                if (Array.isArray(debuggerEvents)) {\n                    debuggerEvents.push(event);\n                }\n                else {\n                    console.error(' debuggerEvents should be an array. This is most likely an internal Pinia bug.');\n                }\n            }\n        };\n    }\n    // internal state\n    let isListening; // set to true at the end\n    let isSyncListening; // set to true at the end\n    let subscriptions = [];\n    let actionSubscriptions = [];\n    let debuggerEvents;\n    const initialState = pinia.state.value[$id];\n    // avoid setting the state for option stores if it is set\n    // by the setup\n    if (!isOptionsStore && !initialState && (!(process.env.NODE_ENV !== 'production') || !hot)) {\n        /* istanbul ignore if */\n        if (isVue2) {\n            set(pinia.state.value, $id, {});\n        }\n        else {\n            pinia.state.value[$id] = {};\n        }\n    }\n    const hotState = ref({});\n    // avoid triggering too many listeners\n    // https://github.com/vuejs/pinia/issues/1129\n    let activeListener;\n    function $patch(partialStateOrMutator) {\n        let subscriptionMutation;\n        isListening = isSyncListening = false;\n        // reset the debugger events since patches are sync\n        /* istanbul ignore else */\n        if ((process.env.NODE_ENV !== 'production')) {\n            debuggerEvents = [];\n        }\n        if (typeof partialStateOrMutator === 'function') {\n            partialStateOrMutator(pinia.state.value[$id]);\n            subscriptionMutation = {\n                type: MutationType.patchFunction,\n                storeId: $id,\n                events: debuggerEvents,\n            };\n        }\n        else {\n            mergeReactiveObjects(pinia.state.value[$id], partialStateOrMutator);\n            subscriptionMutation = {\n                type: MutationType.patchObject,\n                payload: partialStateOrMutator,\n                storeId: $id,\n                events: debuggerEvents,\n            };\n        }\n        const myListenerId = (activeListener = Symbol());\n        nextTick().then(() => {\n            if (activeListener === myListenerId) {\n                isListening = true;\n            }\n        });\n        isSyncListening = true;\n        // because we paused the watcher, we need to manually call the subscriptions\n        triggerSubscriptions(subscriptions, subscriptionMutation, pinia.state.value[$id]);\n    }\n    const $reset = isOptionsStore\n        ? function $reset() {\n            const { state } = options;\n            const newState = state ? state() : {};\n            // we use a patch to group all changes into one single subscription\n            this.$patch(($state) => {\n                assign($state, newState);\n            });\n        }\n        : /* istanbul ignore next */\n            (process.env.NODE_ENV !== 'production')\n                ? () => {\n                    throw new Error(`: Store \"${$id}\" is built using the setup syntax and does not implement $reset().`);\n                }\n                : noop;\n    function $dispose() {\n        scope.stop();\n        subscriptions = [];\n        actionSubscriptions = [];\n        pinia._s.delete($id);\n    }\n    /**\n     * Wraps an action to handle subscriptions.\n     *\n     * @param name - name of the action\n     * @param action - action to wrap\n     * @returns a wrapped action to handle subscriptions\n     */\n    function wrapAction(name, action) {\n        return function () {\n            setActivePinia(pinia);\n            const args = Array.from(arguments);\n            const afterCallbackList = [];\n            const onErrorCallbackList = [];\n            function after(callback) {\n                afterCallbackList.push(callback);\n            }\n            function onError(callback) {\n                onErrorCallbackList.push(callback);\n            }\n            // @ts-expect-error\n            triggerSubscriptions(actionSubscriptions, {\n                args,\n                name,\n                store,\n                after,\n                onError,\n            });\n            let ret;\n            try {\n                ret = action.apply(this && this.$id === $id ? this : store, args);\n                // handle sync errors\n            }\n            catch (error) {\n                triggerSubscriptions(onErrorCallbackList, error);\n                throw error;\n            }\n            if (ret instanceof Promise) {\n                return ret\n                    .then((value) => {\n                    triggerSubscriptions(afterCallbackList, value);\n                    return value;\n                })\n                    .catch((error) => {\n                    triggerSubscriptions(onErrorCallbackList, error);\n                    return Promise.reject(error);\n                });\n            }\n            // trigger after callbacks\n            triggerSubscriptions(afterCallbackList, ret);\n            return ret;\n        };\n    }\n    const _hmrPayload = /*#__PURE__*/ markRaw({\n        actions: {},\n        getters: {},\n        state: [],\n        hotState,\n    });\n    const partialStore = {\n        _p: pinia,\n        // _s: scope,\n        $id,\n        $onAction: addSubscription.bind(null, actionSubscriptions),\n        $patch,\n        $reset,\n        $subscribe(callback, options = {}) {\n            const removeSubscription = addSubscription(subscriptions, callback, options.detached, () => stopWatcher());\n            const stopWatcher = scope.run(() => watch(() => pinia.state.value[$id], (state) => {\n                if (options.flush === 'sync' ? isSyncListening : isListening) {\n                    callback({\n                        storeId: $id,\n                        type: MutationType.direct,\n                        events: debuggerEvents,\n                    }, state);\n                }\n            }, assign({}, $subscribeOptions, options)));\n            return removeSubscription;\n        },\n        $dispose,\n    };\n    /* istanbul ignore if */\n    if (isVue2) {\n        // start as non ready\n        partialStore._r = false;\n    }\n    const store = reactive((process.env.NODE_ENV !== 'production') || USE_DEVTOOLS\n        ? assign({\n            _hmrPayload,\n            _customProperties: markRaw(new Set()), // devtools custom properties\n        }, partialStore\n        // must be added later\n        // setupStore\n        )\n        : partialStore);\n    // store the partial store now so the setup of stores can instantiate each other before they are finished without\n    // creating infinite loops.\n    pinia._s.set($id, store);\n    const runWithContext = (pinia._a && pinia._a.runWithContext) || fallbackRunWithContext;\n    // TODO: idea create skipSerialize that marks properties as non serializable and they are skipped\n    const setupStore = pinia._e.run(() => {\n        scope = effectScope();\n        return runWithContext(() => scope.run(setup));\n    });\n    // overwrite existing actions to support $onAction\n    for (const key in setupStore) {\n        const prop = setupStore[key];\n        if ((isRef(prop) && !isComputed(prop)) || isReactive(prop)) {\n            // mark it as a piece of state to be serialized\n            if ((process.env.NODE_ENV !== 'production') && hot) {\n                set(hotState.value, key, toRef(setupStore, key));\n                // createOptionStore directly sets the state in pinia.state.value so we\n                // can just skip that\n            }\n            else if (!isOptionsStore) {\n                // in setup stores we must hydrate the state and sync pinia state tree with the refs the user just created\n                if (initialState && shouldHydrate(prop)) {\n                    if (isRef(prop)) {\n                        prop.value = initialState[key];\n                    }\n                    else {\n                        // probably a reactive object, lets recursively assign\n                        // @ts-expect-error: prop is unknown\n                        mergeReactiveObjects(prop, initialState[key]);\n                    }\n                }\n                // transfer the ref to the pinia state to keep everything in sync\n                /* istanbul ignore if */\n                if (isVue2) {\n                    set(pinia.state.value[$id], key, prop);\n                }\n                else {\n                    pinia.state.value[$id][key] = prop;\n                }\n            }\n            /* istanbul ignore else */\n            if ((process.env.NODE_ENV !== 'production')) {\n                _hmrPayload.state.push(key);\n            }\n            // action\n        }\n        else if (typeof prop === 'function') {\n            // @ts-expect-error: we are overriding the function we avoid wrapping if\n            const actionValue = (process.env.NODE_ENV !== 'production') && hot ? prop : wrapAction(key, prop);\n            // this a hot module replacement store because the hotUpdate method needs\n            // to do it with the right context\n            /* istanbul ignore if */\n            if (isVue2) {\n                set(setupStore, key, actionValue);\n            }\n            else {\n                // @ts-expect-error\n                setupStore[key] = actionValue;\n            }\n            /* istanbul ignore else */\n            if ((process.env.NODE_ENV !== 'production')) {\n                _hmrPayload.actions[key] = prop;\n            }\n            // list actions so they can be used in plugins\n            // @ts-expect-error\n            optionsForPlugin.actions[key] = prop;\n        }\n        else if ((process.env.NODE_ENV !== 'production')) {\n            // add getters for devtools\n            if (isComputed(prop)) {\n                _hmrPayload.getters[key] = isOptionsStore\n                    ? // @ts-expect-error\n                        options.getters[key]\n                    : prop;\n                if (IS_CLIENT) {\n                    const getters = setupStore._getters ||\n                        // @ts-expect-error: same\n                        (setupStore._getters = markRaw([]));\n                    getters.push(key);\n                }\n            }\n        }\n    }\n    // add the state, getters, and action properties\n    /* istanbul ignore if */\n    if (isVue2) {\n        Object.keys(setupStore).forEach((key) => {\n            set(store, key, setupStore[key]);\n        });\n    }\n    else {\n        assign(store, setupStore);\n        // allows retrieving reactive objects with `storeToRefs()`. Must be called after assigning to the reactive object.\n        // Make `storeToRefs()` work with `reactive()` #799\n        assign(toRaw(store), setupStore);\n    }\n    // use this instead of a computed with setter to be able to create it anywhere\n    // without linking the computed lifespan to wherever the store is first\n    // created.\n    Object.defineProperty(store, '$state', {\n        get: () => ((process.env.NODE_ENV !== 'production') && hot ? hotState.value : pinia.state.value[$id]),\n        set: (state) => {\n            /* istanbul ignore if */\n            if ((process.env.NODE_ENV !== 'production') && hot) {\n                throw new Error('cannot set hotState');\n            }\n            $patch(($state) => {\n                assign($state, state);\n            });\n        },\n    });\n    // add the hotUpdate before plugins to allow them to override it\n    /* istanbul ignore else */\n    if ((process.env.NODE_ENV !== 'production')) {\n        store._hotUpdate = markRaw((newStore) => {\n            store._hotUpdating = true;\n            newStore._hmrPayload.state.forEach((stateKey) => {\n                if (stateKey in store.$state) {\n                    const newStateTarget = newStore.$state[stateKey];\n                    const oldStateSource = store.$state[stateKey];\n                    if (typeof newStateTarget === 'object' &&\n                        isPlainObject(newStateTarget) &&\n                        isPlainObject(oldStateSource)) {\n                        patchObject(newStateTarget, oldStateSource);\n                    }\n                    else {\n                        // transfer the ref\n                        newStore.$state[stateKey] = oldStateSource;\n                    }\n                }\n                // patch direct access properties to allow store.stateProperty to work as\n                // store.$state.stateProperty\n                set(store, stateKey, toRef(newStore.$state, stateKey));\n            });\n            // remove deleted state properties\n            Object.keys(store.$state).forEach((stateKey) => {\n                if (!(stateKey in newStore.$state)) {\n                    del(store, stateKey);\n                }\n            });\n            // avoid devtools logging this as a mutation\n            isListening = false;\n            isSyncListening = false;\n            pinia.state.value[$id] = toRef(newStore._hmrPayload, 'hotState');\n            isSyncListening = true;\n            nextTick().then(() => {\n                isListening = true;\n            });\n            for (const actionName in newStore._hmrPayload.actions) {\n                const action = newStore[actionName];\n                set(store, actionName, wrapAction(actionName, action));\n            }\n            // TODO: does this work in both setup and option store?\n            for (const getterName in newStore._hmrPayload.getters) {\n                const getter = newStore._hmrPayload.getters[getterName];\n                const getterValue = isOptionsStore\n                    ? // special handling of options api\n                        computed(() => {\n                            setActivePinia(pinia);\n                            return getter.call(store, store);\n                        })\n                    : getter;\n                set(store, getterName, getterValue);\n            }\n            // remove deleted getters\n            Object.keys(store._hmrPayload.getters).forEach((key) => {\n                if (!(key in newStore._hmrPayload.getters)) {\n                    del(store, key);\n                }\n            });\n            // remove old actions\n            Object.keys(store._hmrPayload.actions).forEach((key) => {\n                if (!(key in newStore._hmrPayload.actions)) {\n                    del(store, key);\n                }\n            });\n            // update the values used in devtools and to allow deleting new properties later on\n            store._hmrPayload = newStore._hmrPayload;\n            store._getters = newStore._getters;\n            store._hotUpdating = false;\n        });\n    }\n    if (USE_DEVTOOLS) {\n        const nonEnumerable = {\n            writable: true,\n            configurable: true,\n            // avoid warning on devtools trying to display this property\n            enumerable: false,\n        };\n        ['_p', '_hmrPayload', '_getters', '_customProperties'].forEach((p) => {\n            Object.defineProperty(store, p, assign({ value: store[p] }, nonEnumerable));\n        });\n    }\n    /* istanbul ignore if */\n    if (isVue2) {\n        // mark the store as ready before plugins\n        store._r = true;\n    }\n    // apply all plugins\n    pinia._p.forEach((extender) => {\n        /* istanbul ignore else */\n        if (USE_DEVTOOLS) {\n            const extensions = scope.run(() => extender({\n                store,\n                app: pinia._a,\n                pinia,\n                options: optionsForPlugin,\n            }));\n            Object.keys(extensions || {}).forEach((key) => store._customProperties.add(key));\n            assign(store, extensions);\n        }\n        else {\n            assign(store, scope.run(() => extender({\n                store,\n                app: pinia._a,\n                pinia,\n                options: optionsForPlugin,\n            })));\n        }\n    });\n    if ((process.env.NODE_ENV !== 'production') &&\n        store.$state &&\n        typeof store.$state === 'object' &&\n        typeof store.$state.constructor === 'function' &&\n        !store.$state.constructor.toString().includes('[native code]')) {\n        console.warn(`[]: The \"state\" must be a plain object. It cannot be\\n` +\n            `\\tstate: () => new MyClass()\\n` +\n            `Found in store \"${store.$id}\".`);\n    }\n    // only apply hydrate to option stores with an initial state in pinia\n    if (initialState &&\n        isOptionsStore &&\n        options.hydrate) {\n        options.hydrate(store.$state, initialState);\n    }\n    isListening = true;\n    isSyncListening = true;\n    return store;\n}\nfunction defineStore(\n// TODO: add proper types from above\nidOrOptions, setup, setupOptions) {\n    let id;\n    let options;\n    const isSetupStore = typeof setup === 'function';\n    if (typeof idOrOptions === 'string') {\n        id = idOrOptions;\n        // the option store setup will contain the actual options in this case\n        options = isSetupStore ? setupOptions : setup;\n    }\n    else {\n        options = idOrOptions;\n        id = idOrOptions.id;\n        if ((process.env.NODE_ENV !== 'production') && typeof id !== 'string') {\n            throw new Error(`[]: \"defineStore()\" must be passed a store id as its first argument.`);\n        }\n    }\n    function useStore(pinia, hot) {\n        const hasContext = hasInjectionContext();\n        pinia =\n            // in test mode, ignore the argument provided as we can always retrieve a\n            // pinia instance with getActivePinia()\n            ((process.env.NODE_ENV === 'test') && activePinia && activePinia._testing ? null : pinia) ||\n                (hasContext ? inject(piniaSymbol, null) : null);\n        if (pinia)\n            setActivePinia(pinia);\n        if ((process.env.NODE_ENV !== 'production') && !activePinia) {\n            throw new Error(`[]: \"getActivePinia()\" was called but there was no active Pinia. Did you forget to install pinia?\\n` +\n                `\\tconst pinia = createPinia()\\n` +\n                `\\tapp.use(pinia)\\n` +\n                `This will fail in production.`);\n        }\n        pinia = activePinia;\n        if (!pinia._s.has(id)) {\n            // creating the store registers it in `pinia._s`\n            if (isSetupStore) {\n                createSetupStore(id, setup, options, pinia);\n            }\n            else {\n                createOptionsStore(id, options, pinia);\n            }\n            /* istanbul ignore else */\n            if ((process.env.NODE_ENV !== 'production')) {\n                // @ts-expect-error: not the right inferred type\n                useStore._pinia = pinia;\n            }\n        }\n        const store = pinia._s.get(id);\n        if ((process.env.NODE_ENV !== 'production') && hot) {\n            const hotId = '__hot:' + id;\n            const newStore = isSetupStore\n                ? createSetupStore(hotId, setup, options, pinia, true)\n                : createOptionsStore(hotId, assign({}, options), pinia, true);\n            hot._hotUpdate(newStore);\n            // cleanup the state properties and the store from the cache\n            delete pinia.state.value[hotId];\n            pinia._s.delete(hotId);\n        }\n        if ((process.env.NODE_ENV !== 'production') && IS_CLIENT) {\n            const currentInstance = getCurrentInstance();\n            // save stores in instances to access them devtools\n            if (currentInstance &&\n                currentInstance.proxy &&\n                // avoid adding stores that are just built for hot module replacement\n                !hot) {\n                const vm = currentInstance.proxy;\n                const cache = '_pStores' in vm ? vm._pStores : (vm._pStores = {});\n                cache[id] = store;\n            }\n        }\n        // StoreGeneric cannot be casted towards Store\n        return store;\n    }\n    useStore.$id = id;\n    return useStore;\n}\n\nlet mapStoreSuffix = 'Store';\n/**\n * Changes the suffix added by `mapStores()`. Can be set to an empty string.\n * Defaults to `\"Store\"`. Make sure to extend the MapStoresCustomization\n * interface if you are using TypeScript.\n *\n * @param suffix - new suffix\n */\nfunction setMapStoreSuffix(suffix // could be 'Store' but that would be annoying for JS\n) {\n    mapStoreSuffix = suffix;\n}\n/**\n * Allows using stores without the composition API (`setup()`) by generating an\n * object to be spread in the `computed` field of a component. It accepts a list\n * of store definitions.\n *\n * @example\n * ```js\n * export default {\n *   computed: {\n *     // other computed properties\n *     ...mapStores(useUserStore, useCartStore)\n *   },\n *\n *   created() {\n *     this.userStore // store with id \"user\"\n *     this.cartStore // store with id \"cart\"\n *   }\n * }\n * ```\n *\n * @param stores - list of stores to map to an object\n */\nfunction mapStores(...stores) {\n    if ((process.env.NODE_ENV !== 'production') && Array.isArray(stores[0])) {\n        console.warn(`[]: Directly pass all stores to \"mapStores()\" without putting them in an array:\\n` +\n            `Replace\\n` +\n            `\\tmapStores([useAuthStore, useCartStore])\\n` +\n            `with\\n` +\n            `\\tmapStores(useAuthStore, useCartStore)\\n` +\n            `This will fail in production if not fixed.`);\n        stores = stores[0];\n    }\n    return stores.reduce((reduced, useStore) => {\n        // @ts-expect-error: $id is added by defineStore\n        reduced[useStore.$id + mapStoreSuffix] = function () {\n            return useStore(this.$pinia);\n        };\n        return reduced;\n    }, {});\n}\n/**\n * Allows using state and getters from one store without using the composition\n * API (`setup()`) by generating an object to be spread in the `computed` field\n * of a component.\n *\n * @param useStore - store to map from\n * @param keysOrMapper - array or object\n */\nfunction mapState(useStore, keysOrMapper) {\n    return Array.isArray(keysOrMapper)\n        ? keysOrMapper.reduce((reduced, key) => {\n            reduced[key] = function () {\n                return useStore(this.$pinia)[key];\n            };\n            return reduced;\n        }, {})\n        : Object.keys(keysOrMapper).reduce((reduced, key) => {\n            // @ts-expect-error\n            reduced[key] = function () {\n                const store = useStore(this.$pinia);\n                const storeKey = keysOrMapper[key];\n                // for some reason TS is unable to infer the type of storeKey to be a\n                // function\n                return typeof storeKey === 'function'\n                    ? storeKey.call(this, store)\n                    : store[storeKey];\n            };\n            return reduced;\n        }, {});\n}\n/**\n * Alias for `mapState()`. You should use `mapState()` instead.\n * @deprecated use `mapState()` instead.\n */\nconst mapGetters = mapState;\n/**\n * Allows directly using actions from your store without using the composition\n * API (`setup()`) by generating an object to be spread in the `methods` field\n * of a component.\n *\n * @param useStore - store to map from\n * @param keysOrMapper - array or object\n */\nfunction mapActions(useStore, keysOrMapper) {\n    return Array.isArray(keysOrMapper)\n        ? keysOrMapper.reduce((reduced, key) => {\n            // @ts-expect-error\n            reduced[key] = function (...args) {\n                return useStore(this.$pinia)[key](...args);\n            };\n            return reduced;\n        }, {})\n        : Object.keys(keysOrMapper).reduce((reduced, key) => {\n            // @ts-expect-error\n            reduced[key] = function (...args) {\n                return useStore(this.$pinia)[keysOrMapper[key]](...args);\n            };\n            return reduced;\n        }, {});\n}\n/**\n * Allows using state and getters from one store without using the composition\n * API (`setup()`) by generating an object to be spread in the `computed` field\n * of a component.\n *\n * @param useStore - store to map from\n * @param keysOrMapper - array or object\n */\nfunction mapWritableState(useStore, keysOrMapper) {\n    return Array.isArray(keysOrMapper)\n        ? keysOrMapper.reduce((reduced, key) => {\n            // @ts-ignore\n            reduced[key] = {\n                get() {\n                    return useStore(this.$pinia)[key];\n                },\n                set(value) {\n                    // it's easier to type it here as any\n                    return (useStore(this.$pinia)[key] = value);\n                },\n            };\n            return reduced;\n        }, {})\n        : Object.keys(keysOrMapper).reduce((reduced, key) => {\n            // @ts-ignore\n            reduced[key] = {\n                get() {\n                    return useStore(this.$pinia)[keysOrMapper[key]];\n                },\n                set(value) {\n                    // it's easier to type it here as any\n                    return (useStore(this.$pinia)[keysOrMapper[key]] = value);\n                },\n            };\n            return reduced;\n        }, {});\n}\n\n/**\n * Creates an object of references with all the state, getters, and plugin-added\n * state properties of the store. Similar to `toRefs()` but specifically\n * designed for Pinia stores so methods and non reactive properties are\n * completely ignored.\n *\n * @param store - store to extract the refs from\n */\nfunction storeToRefs(store) {\n    // See https://github.com/vuejs/pinia/issues/852\n    // It's easier to just use toRefs() even if it includes more stuff\n    if (isVue2) {\n        // @ts-expect-error: toRefs include methods and others\n        return toRefs(store);\n    }\n    else {\n        store = toRaw(store);\n        const refs = {};\n        for (const key in store) {\n            const value = store[key];\n            if (isRef(value) || isReactive(value)) {\n                // @ts-expect-error: the key is state or getter\n                refs[key] =\n                    // ---\n                    toRef(store, key);\n            }\n        }\n        return refs;\n    }\n}\n\n/**\n * Vue 2 Plugin that must be installed for pinia to work. Note **you don't need\n * this plugin if you are using Nuxt.js**. Use the `buildModule` instead:\n * https://pinia.vuejs.org/ssr/nuxt.html.\n *\n * @example\n * ```js\n * import Vue from 'vue'\n * import { PiniaVuePlugin, createPinia } from 'pinia'\n *\n * Vue.use(PiniaVuePlugin)\n * const pinia = createPinia()\n *\n * new Vue({\n *   el: '#app',\n *   // ...\n *   pinia,\n * })\n * ```\n *\n * @param _Vue - `Vue` imported from 'vue'.\n */\nconst PiniaVuePlugin = function (_Vue) {\n    // Equivalent of\n    // app.config.globalProperties.$pinia = pinia\n    _Vue.mixin({\n        beforeCreate() {\n            const options = this.$options;\n            if (options.pinia) {\n                const pinia = options.pinia;\n                // HACK: taken from provide(): https://github.com/vuejs/composition-api/blob/main/src/apis/inject.ts#L31\n                /* istanbul ignore else */\n                if (!this._provided) {\n                    const provideCache = {};\n                    Object.defineProperty(this, '_provided', {\n                        get: () => provideCache,\n                        set: (v) => Object.assign(provideCache, v),\n                    });\n                }\n                this._provided[piniaSymbol] = pinia;\n                // propagate the pinia instance in an SSR friendly way\n                // avoid adding it to nuxt twice\n                /* istanbul ignore else */\n                if (!this.$pinia) {\n                    this.$pinia = pinia;\n                }\n                pinia._a = this;\n                if (IS_CLIENT) {\n                    // this allows calling useStore() outside of a component setup after\n                    // installing pinia's plugin\n                    setActivePinia(pinia);\n                }\n                if (USE_DEVTOOLS) {\n                    registerPiniaDevtools(pinia._a, pinia);\n                }\n            }\n            else if (!this.$pinia && options.parent && options.parent.$pinia) {\n                this.$pinia = options.parent.$pinia;\n            }\n        },\n        destroyed() {\n            delete this._pStores;\n        },\n    });\n};\n\nexport { MutationType, PiniaVuePlugin, acceptHMRUpdate, createPinia, defineStore, getActivePinia, mapActions, mapGetters, mapState, mapStores, mapWritableState, setActivePinia, setMapStoreSuffix, skipHydrate, storeToRefs };\n","import { HOOK_PLUGIN_SETTINGS_SET } from './const.js';\nimport { now } from './time.js';\nexport class ApiProxy {\n    constructor(plugin, hook) {\n        this.target = null;\n        this.targetQueue = [];\n        this.onQueue = [];\n        this.plugin = plugin;\n        this.hook = hook;\n        const defaultSettings = {};\n        if (plugin.settings) {\n            for (const id in plugin.settings) {\n                const item = plugin.settings[id];\n                defaultSettings[id] = item.defaultValue;\n            }\n        }\n        const localSettingsSaveId = `__vue-devtools-plugin-settings__${plugin.id}`;\n        let currentSettings = Object.assign({}, defaultSettings);\n        try {\n            const raw = localStorage.getItem(localSettingsSaveId);\n            const data = JSON.parse(raw);\n            Object.assign(currentSettings, data);\n        }\n        catch (e) {\n            // noop\n        }\n        this.fallbacks = {\n            getSettings() {\n                return currentSettings;\n            },\n            setSettings(value) {\n                try {\n                    localStorage.setItem(localSettingsSaveId, JSON.stringify(value));\n                }\n                catch (e) {\n                    // noop\n                }\n                currentSettings = value;\n            },\n            now() {\n                return now();\n            },\n        };\n        if (hook) {\n            hook.on(HOOK_PLUGIN_SETTINGS_SET, (pluginId, value) => {\n                if (pluginId === this.plugin.id) {\n                    this.fallbacks.setSettings(value);\n                }\n            });\n        }\n        this.proxiedOn = new Proxy({}, {\n            get: (_target, prop) => {\n                if (this.target) {\n                    return this.target.on[prop];\n                }\n                else {\n                    return (...args) => {\n                        this.onQueue.push({\n                            method: prop,\n                            args,\n                        });\n                    };\n                }\n            },\n        });\n        this.proxiedTarget = new Proxy({}, {\n            get: (_target, prop) => {\n                if (this.target) {\n                    return this.target[prop];\n                }\n                else if (prop === 'on') {\n                    return this.proxiedOn;\n                }\n                else if (Object.keys(this.fallbacks).includes(prop)) {\n                    return (...args) => {\n                        this.targetQueue.push({\n                            method: prop,\n                            args,\n                            resolve: () => { },\n                        });\n                        return this.fallbacks[prop](...args);\n                    };\n                }\n                else {\n                    return (...args) => {\n                        return new Promise(resolve => {\n                            this.targetQueue.push({\n                                method: prop,\n                                args,\n                                resolve,\n                            });\n                        });\n                    };\n                }\n            },\n        });\n    }\n    async setRealTarget(target) {\n        this.target = target;\n        for (const item of this.onQueue) {\n            this.target.on[item.method](...item.args);\n        }\n        for (const item of this.targetQueue) {\n            item.resolve(await this.target[item.method](...item.args));\n        }\n    }\n}\n","import { getTarget, getDevtoolsGlobalHook, isProxyAvailable } from './env.js';\nimport { HOOK_SETUP } from './const.js';\nimport { ApiProxy } from './proxy.js';\nexport * from './api/index.js';\nexport * from './plugin.js';\nexport * from './time.js';\nexport function setupDevtoolsPlugin(pluginDescriptor, setupFn) {\n    const descriptor = pluginDescriptor;\n    const target = getTarget();\n    const hook = getDevtoolsGlobalHook();\n    const enableProxy = isProxyAvailable && descriptor.enableEarlyProxy;\n    if (hook && (target.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__ || !enableProxy)) {\n        hook.emit(HOOK_SETUP, pluginDescriptor, setupFn);\n    }\n    else {\n        const proxy = enableProxy ? new ApiProxy(descriptor, hook) : null;\n        const list = target.__VUE_DEVTOOLS_PLUGINS__ = target.__VUE_DEVTOOLS_PLUGINS__ || [];\n        list.push({\n            pluginDescriptor: descriptor,\n            setupFn,\n            proxy,\n        });\n        if (proxy)\n            setupFn(proxy.proxiedTarget);\n    }\n}\n","/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n  return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose;\n    if (async) {\n        if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n        dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n        if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n        dispose = value[Symbol.dispose];\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  function next() {\n    while (env.stack.length) {\n      var rec = env.stack.pop();\n      try {\n        var result = rec.dispose && rec.dispose.call(rec.value);\n        if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n      }\n      catch (e) {\n          fail(e);\n      }\n    }\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n};\n","// Copyright 2020 the .NET Foundation\n// Licensed under the MIT License\n/** The mathematical constant pi, around 3.14. */\nexport var PI = 3.14159265358979;\n/** Two times the mathematical constan pi, around 6.28. */\nexport var TWOPI = 2 * PI;\n/** Radians-to-degrees conversion factor.\n *\n * ```\n * let degrees = radians * R2D;\n * ```\n */\nexport var R2D = 180 / PI;\n/** Degrees-to-radians conversion factor.\n *\n * ```\n * let radians = degrees * D2R;\n * ```\n */\nexport var D2R = PI / 180;\n/** Radians-to-hours conversion factor.\n *\n * ```\n * let hours = radians * R2H;\n * ```\n */\nexport var R2H = 12 / PI;\n/** Hours-to-radians conversion factor.\n *\n * ```\n * let radians = hours * H2R;\n * ```\n */\nexport var H2R = PI / 12;\n/** Degrees-to-hours conversion factor.\n *\n * ```\n * let hours = degrees * D2H;\n * ```\n */\nexport var D2H = 12. / 180;\n/** Hours-to-degrees conversion factor.\n *\n * ```\n * let degrees = hours * H2D;\n * ```\n */\nexport var H2D = 15;\n/** Normalize an angle in radians to lie between 0 and 2pi.\n *\n * @param angleRad The input angle, in radians.\n * @returns An equivalent angle, also in radians.\n */\nexport function angnorm(angleRad) {\n    while (angleRad < 0)\n        angleRad += TWOPI;\n    while (angleRad >= TWOPI)\n        angleRad -= TWOPI;\n    return angleRad;\n}\n/**\n * Find the great-circle distance between two points\n *\n * This implementation uses a special case of the Vincenty formula\n * See the last formula in https://en.wikipedia.org/wiki/Great-circle_distance#Computational_formulas\n *\n * @param ra1 The right ascension of the first point, in radians\n * @param dec1 The declination of the first point, in radians\n * @param ra2 The right ascension of the second point, in radians\n * @param dec2 The declination of the second point, in radians\n * @returns The great-circle distance\n */\nexport function distance(ra1, dec1, ra2, dec2) {\n    var dAbsRA = Math.abs(ra1 - ra2);\n    var nt1 = Math.pow((Math.cos(dec2) * Math.sin(dAbsRA)), 2);\n    var nt2 = Math.pow((Math.cos(dec1) * Math.sin(dec2) - Math.sin(dec1) * Math.cos(dec2) * Math.cos(dAbsRA)), 2);\n    var num = Math.sqrt(nt1 + nt2);\n    var den = Math.sin(dec1) * Math.sin(dec2) + Math.cos(dec1) * Math.cos(dec2) * Math.cos(dAbsRA);\n    return Math.atan2(num, den);\n}\nfunction _formatSexagesimal(value, showPlus, padWhole, sep1, sep2, precision) {\n    var prefix = \"\";\n    if (value < 0) {\n        value = -value;\n        prefix = \"-\";\n    }\n    else if (showPlus) {\n        prefix = \"+\";\n    }\n    var whole = Math.floor(value);\n    value = (value - whole) * 60;\n    var minutes = Math.floor(value);\n    value = (value - minutes) * 60;\n    var seconds = Math.floor(value);\n    var remainder = value - seconds;\n    var wText = String(whole).padStart(padWhole, '0');\n    var mText = String(minutes).padStart(2, '0');\n    var sText = String(seconds).padStart(2, '0');\n    var rText = remainder.toFixed(precision).slice(1); // drop the leading \"0\"\n    return \"\".concat(prefix).concat(wText).concat(sep1).concat(mText).concat(sep2).concat(sText).concat(rText);\n}\n/** Format an angle, measured in radians, as sexagesimal hours.\n *\n * Before formatting, the angle is normalized to lie within 0-2pi.\n *\n * @param angleRad The angle in radians.\n * @param sep1 The text to put between the hours and the minutes. Defaults to\n * `\":\"`.\n * @param sep2 The text to put between the minutes and the seconds. Defaults to\n * `\":\"`.\n * @param precision The number of places of decimal precision to include in the\n * result. Defaults to 0.\n * @returns The formatted angle.\n */\nexport function fmtHours(angleRad, sep1, sep2, precision) {\n    if (sep1 === void 0) { sep1 = \":\"; }\n    if (sep2 === void 0) { sep2 = \":\"; }\n    if (precision === void 0) { precision = 0; }\n    return _formatSexagesimal(angnorm(angleRad) * R2H, false, 2, sep1, sep2, precision);\n}\n/** Format a latitudinal angle, measured in radians, as sexagesimal degrees.\n *\n * If the number is not in the range [-pi, pi], `\" ??${sep1}??${sep2}??\"` is\n * returned.\n *\n * @param angleRad The latitude in radians.\n * @param sep1 The text to put between the degrees and the arcminutes. Defaults\n * to `\":\"`.\n * @param sep2 The text to put between the arcminutes and the arcseconds.\n * Defaults to `\":\"`.\n * @param precision The number of places of decimal precision to include in the\n * result. Defaults to 0.\n * @returns The formatted angle.\n */\nexport function fmtDegLat(angleRad, sep1, sep2, precision) {\n    if (sep1 === void 0) { sep1 = \":\"; }\n    if (sep2 === void 0) { sep2 = \":\"; }\n    if (precision === void 0) { precision = 0; }\n    if (angleRad < -PI || angleRad > PI)\n        return \" ??\".concat(sep1, \"??\").concat(sep2, \"??\");\n    return _formatSexagesimal(angleRad * R2D, true, 2, sep1, sep2, precision);\n}\n/** Format a longitudinal angle, measured in radians, as sexagesimal degrees.\n *\n * Before formatting, the angle is normalized to lie within 0-2pi. The output\n * will be zero-padded to three digits, e.g. `\"000:01:30\"` or `\"359:59:59.123\"`.\n *\n * @param angleRad The longitude in radians.\n * @param sep1 The text to put between the degrees and the arcminutes. Defaults\n * to `\":\"`.\n * @param sep2 The text to put between the arcminutes and the arcseconds.\n * Defaults to `\":\"`.\n * @param precision The number of places of decimal precision to include in the\n * result. Defaults to 0.\n * @returns The formatted angle.\n */\nexport function fmtDegLon(angleRad, sep1, sep2, precision) {\n    if (sep1 === void 0) { sep1 = \":\"; }\n    if (sep2 === void 0) { sep2 = \":\"; }\n    if (precision === void 0) { precision = 0; }\n    return _formatSexagesimal(angnorm(angleRad) * R2D, false, 3, sep1, sep2, precision);\n}\n//# sourceMappingURL=index.js.map","/* eslint-disable no-unused-vars */\nimport { __values } from \"tslib\";\n// Copyright 2020-2021 the .NET Foundation\n// Licensed under the MIT License\n//\n// Based types used in the WWT WebGL engine.\n//\n// Try to keep everything alphabetized.\nexport var AltTypes;\n(function (AltTypes) {\n    AltTypes[AltTypes[\"depth\"] = 0] = \"depth\";\n    AltTypes[AltTypes[\"altitude\"] = 1] = \"altitude\";\n    AltTypes[AltTypes[\"distance\"] = 2] = \"distance\";\n    AltTypes[AltTypes[\"seaLevel\"] = 3] = \"seaLevel\";\n    AltTypes[AltTypes[\"terrain\"] = 4] = \"terrain\";\n})(AltTypes || (AltTypes = {}));\nexport var AltUnits;\n(function (AltUnits) {\n    AltUnits[AltUnits[\"meters\"] = 1] = \"meters\";\n    AltUnits[AltUnits[\"feet\"] = 2] = \"feet\";\n    AltUnits[AltUnits[\"inches\"] = 3] = \"inches\";\n    AltUnits[AltUnits[\"miles\"] = 4] = \"miles\";\n    AltUnits[AltUnits[\"kilometers\"] = 5] = \"kilometers\";\n    AltUnits[AltUnits[\"astronomicalUnits\"] = 6] = \"astronomicalUnits\";\n    AltUnits[AltUnits[\"lightYears\"] = 7] = \"lightYears\";\n    AltUnits[AltUnits[\"parsecs\"] = 8] = \"parsecs\";\n    AltUnits[AltUnits[\"megaParsecs\"] = 9] = \"megaParsecs\";\n    AltUnits[AltUnits[\"custom\"] = 10] = \"custom\";\n})(AltUnits || (AltUnits = {}));\nexport var BandPass;\n(function (BandPass) {\n    BandPass[BandPass[\"gamma\"] = 0] = \"gamma\";\n    BandPass[BandPass[\"xRay\"] = 1] = \"xRay\";\n    BandPass[BandPass[\"ultraviolet\"] = 2] = \"ultraviolet\";\n    BandPass[BandPass[\"visible\"] = 3] = \"visible\";\n    BandPass[BandPass[\"hydrogenAlpha\"] = 4] = \"hydrogenAlpha\";\n    BandPass[BandPass[\"IR\"] = 4] = \"IR\";\n    BandPass[BandPass[\"microwave\"] = 5] = \"microwave\";\n    BandPass[BandPass[\"radio\"] = 6] = \"radio\";\n    BandPass[BandPass[\"visibleNight\"] = 6] = \"visibleNight\";\n})(BandPass || (BandPass = {}));\nexport var Classification;\n(function (Classification) {\n    Classification[Classification[\"star\"] = 1] = \"star\";\n    Classification[Classification[\"supernova\"] = 2] = \"supernova\";\n    Classification[Classification[\"blackHole\"] = 4] = \"blackHole\";\n    Classification[Classification[\"neutronStar\"] = 8] = \"neutronStar\";\n    Classification[Classification[\"doubleStar\"] = 16] = \"doubleStar\";\n    Classification[Classification[\"multipleStars\"] = 32] = \"multipleStars\";\n    Classification[Classification[\"asterism\"] = 64] = \"asterism\";\n    Classification[Classification[\"constellation\"] = 128] = \"constellation\";\n    Classification[Classification[\"openCluster\"] = 256] = \"openCluster\";\n    Classification[Classification[\"globularCluster\"] = 512] = \"globularCluster\";\n    Classification[Classification[\"nebulousCluster\"] = 1024] = \"nebulousCluster\";\n    Classification[Classification[\"nebula\"] = 2048] = \"nebula\";\n    Classification[Classification[\"emissionNebula\"] = 4096] = \"emissionNebula\";\n    Classification[Classification[\"planetaryNebula\"] = 8192] = \"planetaryNebula\";\n    Classification[Classification[\"reflectionNebula\"] = 16384] = \"reflectionNebula\";\n    Classification[Classification[\"darkNebula\"] = 32768] = \"darkNebula\";\n    Classification[Classification[\"giantMolecularCloud\"] = 65536] = \"giantMolecularCloud\";\n    Classification[Classification[\"supernovaRemnant\"] = 131072] = \"supernovaRemnant\";\n    Classification[Classification[\"interstellarDust\"] = 262144] = \"interstellarDust\";\n    Classification[Classification[\"quasar\"] = 524288] = \"quasar\";\n    Classification[Classification[\"galaxy\"] = 1048576] = \"galaxy\";\n    Classification[Classification[\"spiralGalaxy\"] = 2097152] = \"spiralGalaxy\";\n    Classification[Classification[\"irregularGalaxy\"] = 4194304] = \"irregularGalaxy\";\n    Classification[Classification[\"ellipticalGalaxy\"] = 8388608] = \"ellipticalGalaxy\";\n    Classification[Classification[\"knot\"] = 16777216] = \"knot\";\n    Classification[Classification[\"plateDefect\"] = 33554432] = \"plateDefect\";\n    Classification[Classification[\"clusterOfGalaxies\"] = 67108864] = \"clusterOfGalaxies\";\n    Classification[Classification[\"otherNGC\"] = 134217728] = \"otherNGC\";\n    Classification[Classification[\"unidentified\"] = 268435456] = \"unidentified\";\n    Classification[Classification[\"solarSystem\"] = 536870912] = \"solarSystem\";\n    Classification[Classification[\"unfiltered\"] = 1073741823] = \"unfiltered\";\n    Classification[Classification[\"stellar\"] = 63] = \"stellar\";\n    Classification[Classification[\"stellarGroupings\"] = 2032] = \"stellarGroupings\";\n    Classification[Classification[\"nebulae\"] = 523264] = \"nebulae\";\n    Classification[Classification[\"galactic\"] = 133693440] = \"galactic\";\n    Classification[Classification[\"other\"] = 436207616] = \"other\";\n})(Classification || (Classification = {}));\nexport var CoordinatesType;\n(function (CoordinatesType) {\n    CoordinatesType[CoordinatesType[\"spherical\"] = 0] = \"spherical\";\n    CoordinatesType[CoordinatesType[\"rectangular\"] = 1] = \"rectangular\";\n    CoordinatesType[CoordinatesType[\"orbital\"] = 2] = \"orbital\";\n})(CoordinatesType || (CoordinatesType = {}));\nexport var DataTypes;\n(function (DataTypes) {\n    DataTypes[DataTypes[\"byteT\"] = 0] = \"byteT\";\n    DataTypes[DataTypes[\"int16T\"] = 1] = \"int16T\";\n    DataTypes[DataTypes[\"int32T\"] = 2] = \"int32T\";\n    DataTypes[DataTypes[\"floatT\"] = 3] = \"floatT\";\n    DataTypes[DataTypes[\"doubleT\"] = 4] = \"doubleT\";\n    DataTypes[DataTypes[\"none\"] = 5] = \"none\";\n})(DataTypes || (DataTypes = {}));\nexport var FadeType;\n(function (FadeType) {\n    FadeType[FadeType[\"fadeIn\"] = 1] = \"fadeIn\";\n    FadeType[FadeType[\"fadeOut\"] = 2] = \"fadeOut\";\n    FadeType[FadeType[\"both\"] = 3] = \"both\";\n    FadeType[FadeType[\"none\"] = 4] = \"none\";\n})(FadeType || (FadeType = {}));\nexport var FolderGroup;\n(function (FolderGroup) {\n    FolderGroup[FolderGroup[\"explorer\"] = 0] = \"explorer\";\n    FolderGroup[FolderGroup[\"tour\"] = 1] = \"tour\";\n    FolderGroup[FolderGroup[\"search\"] = 2] = \"search\";\n    FolderGroup[FolderGroup[\"constellation\"] = 3] = \"constellation\";\n    FolderGroup[FolderGroup[\"view\"] = 4] = \"view\";\n    FolderGroup[FolderGroup[\"goTo\"] = 5] = \"goTo\";\n    FolderGroup[FolderGroup[\"community\"] = 6] = \"community\";\n    FolderGroup[FolderGroup[\"context\"] = 7] = \"context\";\n    FolderGroup[FolderGroup[\"voTable\"] = 8] = \"voTable\";\n    FolderGroup[FolderGroup[\"imageStack\"] = 9] = \"imageStack\";\n})(FolderGroup || (FolderGroup = {}));\nexport var FolderRefreshType;\n(function (FolderRefreshType) {\n    FolderRefreshType[FolderRefreshType[\"interval\"] = 0] = \"interval\";\n    FolderRefreshType[FolderRefreshType[\"conditionalGet\"] = 1] = \"conditionalGet\";\n    FolderRefreshType[FolderRefreshType[\"viewChange\"] = 2] = \"viewChange\";\n})(FolderRefreshType || (FolderRefreshType = {}));\nexport var FolderType;\n(function (FolderType) {\n    FolderType[FolderType[\"earth\"] = 0] = \"earth\";\n    FolderType[FolderType[\"planet\"] = 1] = \"planet\";\n    FolderType[FolderType[\"sky\"] = 2] = \"sky\";\n    FolderType[FolderType[\"panorama\"] = 3] = \"panorama\";\n})(FolderType || (FolderType = {}));\nexport var ImageSetType;\n(function (ImageSetType) {\n    ImageSetType[ImageSetType[\"earth\"] = 0] = \"earth\";\n    ImageSetType[ImageSetType[\"planet\"] = 1] = \"planet\";\n    ImageSetType[ImageSetType[\"sky\"] = 2] = \"sky\";\n    ImageSetType[ImageSetType[\"panorama\"] = 3] = \"panorama\";\n    ImageSetType[ImageSetType[\"solarSystem\"] = 4] = \"solarSystem\";\n    ImageSetType[ImageSetType[\"sandbox\"] = 5] = \"sandbox\";\n})(ImageSetType || (ImageSetType = {}));\nexport var MarkerScales;\n(function (MarkerScales) {\n    MarkerScales[MarkerScales[\"screen\"] = 0] = \"screen\";\n    MarkerScales[MarkerScales[\"world\"] = 1] = \"world\";\n})(MarkerScales || (MarkerScales = {}));\nexport var PlotTypes;\n(function (PlotTypes) {\n    PlotTypes[PlotTypes[\"gaussian\"] = 0] = \"gaussian\";\n    PlotTypes[PlotTypes[\"point\"] = 1] = \"point\";\n    PlotTypes[PlotTypes[\"circle\"] = 2] = \"circle\";\n    PlotTypes[PlotTypes[\"square\"] = 3] = \"square\";\n    PlotTypes[PlotTypes[\"pushPin\"] = 4] = \"pushPin\";\n    PlotTypes[PlotTypes[\"custom\"] = 5] = \"custom\";\n})(PlotTypes || (PlotTypes = {}));\nexport var PointScaleTypes;\n(function (PointScaleTypes) {\n    PointScaleTypes[PointScaleTypes[\"linear\"] = 0] = \"linear\";\n    PointScaleTypes[PointScaleTypes[\"power\"] = 1] = \"power\";\n    PointScaleTypes[PointScaleTypes[\"log\"] = 2] = \"log\";\n    PointScaleTypes[PointScaleTypes[\"constant\"] = 3] = \"constant\";\n    PointScaleTypes[PointScaleTypes[\"stellarMagnitude\"] = 4] = \"stellarMagnitude\";\n})(PointScaleTypes || (PointScaleTypes = {}));\nexport var ProjectionType;\n(function (ProjectionType) {\n    ProjectionType[ProjectionType[\"mercator\"] = 0] = \"mercator\";\n    ProjectionType[ProjectionType[\"equirectangular\"] = 1] = \"equirectangular\";\n    ProjectionType[ProjectionType[\"tangent\"] = 2] = \"tangent\";\n    ProjectionType[ProjectionType[\"tan\"] = 2] = \"tan\";\n    ProjectionType[ProjectionType[\"toast\"] = 3] = \"toast\";\n    ProjectionType[ProjectionType[\"spherical\"] = 4] = \"spherical\";\n    ProjectionType[ProjectionType[\"skyImage\"] = 5] = \"skyImage\";\n    ProjectionType[ProjectionType[\"plotted\"] = 6] = \"plotted\";\n})(ProjectionType || (ProjectionType = {}));\nexport var RAUnits;\n(function (RAUnits) {\n    RAUnits[RAUnits[\"hours\"] = 0] = \"hours\";\n    RAUnits[RAUnits[\"degrees\"] = 1] = \"degrees\";\n})(RAUnits || (RAUnits = {}));\nexport var ReferenceFrames;\n(function (ReferenceFrames) {\n    ReferenceFrames[ReferenceFrames[\"sky\"] = 0] = \"sky\";\n    ReferenceFrames[ReferenceFrames[\"ecliptic\"] = 1] = \"ecliptic\";\n    ReferenceFrames[ReferenceFrames[\"galactic\"] = 2] = \"galactic\";\n    ReferenceFrames[ReferenceFrames[\"sun\"] = 3] = \"sun\";\n    ReferenceFrames[ReferenceFrames[\"mercury\"] = 4] = \"mercury\";\n    ReferenceFrames[ReferenceFrames[\"venus\"] = 5] = \"venus\";\n    ReferenceFrames[ReferenceFrames[\"earth\"] = 6] = \"earth\";\n    ReferenceFrames[ReferenceFrames[\"mars\"] = 7] = \"mars\";\n    ReferenceFrames[ReferenceFrames[\"jupiter\"] = 8] = \"jupiter\";\n    ReferenceFrames[ReferenceFrames[\"saturn\"] = 9] = \"saturn\";\n    ReferenceFrames[ReferenceFrames[\"uranus\"] = 10] = \"uranus\";\n    ReferenceFrames[ReferenceFrames[\"neptune\"] = 11] = \"neptune\";\n    ReferenceFrames[ReferenceFrames[\"pluto\"] = 12] = \"pluto\";\n    ReferenceFrames[ReferenceFrames[\"moon\"] = 13] = \"moon\";\n    ReferenceFrames[ReferenceFrames[\"io\"] = 14] = \"io\";\n    ReferenceFrames[ReferenceFrames[\"europa\"] = 15] = \"europa\";\n    ReferenceFrames[ReferenceFrames[\"ganymede\"] = 16] = \"ganymede\";\n    ReferenceFrames[ReferenceFrames[\"callisto\"] = 17] = \"callisto\";\n    ReferenceFrames[ReferenceFrames[\"custom\"] = 18] = \"custom\";\n    ReferenceFrames[ReferenceFrames[\"identity\"] = 19] = \"identity\";\n    ReferenceFrames[ReferenceFrames[\"sandbox\"] = 20] = \"sandbox\";\n})(ReferenceFrames || (ReferenceFrames = {}));\nexport var ReferenceFrameTypes;\n(function (ReferenceFrameTypes) {\n    ReferenceFrameTypes[ReferenceFrameTypes[\"fixedSherical\"] = 0] = \"fixedSherical\";\n    ReferenceFrameTypes[ReferenceFrameTypes[\"orbital\"] = 1] = \"orbital\";\n    ReferenceFrameTypes[ReferenceFrameTypes[\"trajectory\"] = 2] = \"trajectory\";\n    ReferenceFrameTypes[ReferenceFrameTypes[\"synodic\"] = 3] = \"synodic\";\n})(ReferenceFrameTypes || (ReferenceFrameTypes = {}));\nexport var ScaleTypes;\n(function (ScaleTypes) {\n    ScaleTypes[ScaleTypes[\"linear\"] = 0] = \"linear\";\n    ScaleTypes[ScaleTypes[\"log\"] = 1] = \"log\";\n    ScaleTypes[ScaleTypes[\"power\"] = 2] = \"power\";\n    ScaleTypes[ScaleTypes[\"squareRoot\"] = 3] = \"squareRoot\";\n    ScaleTypes[ScaleTypes[\"histogramEqualization\"] = 4] = \"histogramEqualization\";\n})(ScaleTypes || (ScaleTypes = {}));\nexport var SolarSystemObjects;\n(function (SolarSystemObjects) {\n    SolarSystemObjects[SolarSystemObjects[\"sun\"] = 0] = \"sun\";\n    SolarSystemObjects[SolarSystemObjects[\"mercury\"] = 1] = \"mercury\";\n    SolarSystemObjects[SolarSystemObjects[\"venus\"] = 2] = \"venus\";\n    SolarSystemObjects[SolarSystemObjects[\"mars\"] = 3] = \"mars\";\n    SolarSystemObjects[SolarSystemObjects[\"jupiter\"] = 4] = \"jupiter\";\n    SolarSystemObjects[SolarSystemObjects[\"saturn\"] = 5] = \"saturn\";\n    SolarSystemObjects[SolarSystemObjects[\"uranus\"] = 6] = \"uranus\";\n    SolarSystemObjects[SolarSystemObjects[\"neptune\"] = 7] = \"neptune\";\n    SolarSystemObjects[SolarSystemObjects[\"pluto\"] = 8] = \"pluto\";\n    SolarSystemObjects[SolarSystemObjects[\"moon\"] = 9] = \"moon\";\n    SolarSystemObjects[SolarSystemObjects[\"io\"] = 10] = \"io\";\n    SolarSystemObjects[SolarSystemObjects[\"europa\"] = 11] = \"europa\";\n    SolarSystemObjects[SolarSystemObjects[\"ganymede\"] = 12] = \"ganymede\";\n    SolarSystemObjects[SolarSystemObjects[\"callisto\"] = 13] = \"callisto\";\n    SolarSystemObjects[SolarSystemObjects[\"ioShadow\"] = 14] = \"ioShadow\";\n    SolarSystemObjects[SolarSystemObjects[\"europaShadow\"] = 15] = \"europaShadow\";\n    SolarSystemObjects[SolarSystemObjects[\"ganymedeShadow\"] = 16] = \"ganymedeShadow\";\n    SolarSystemObjects[SolarSystemObjects[\"callistoShadow\"] = 17] = \"callistoShadow\";\n    SolarSystemObjects[SolarSystemObjects[\"sunEclipsed\"] = 18] = \"sunEclipsed\";\n    SolarSystemObjects[SolarSystemObjects[\"earth\"] = 19] = \"earth\";\n    SolarSystemObjects[SolarSystemObjects[\"custom\"] = 20] = \"custom\";\n    SolarSystemObjects[SolarSystemObjects[\"undefined\"] = 65536] = \"undefined\";\n})(SolarSystemObjects || (SolarSystemObjects = {}));\n// I'm not aware of any smart TypeScripty way to automate the construction of this table :-(\nvar baseEngineSettingTypeInfo = {\n    \"actualPlanetScale/boolean\": true,\n    \"constellations/boolean\": true,\n    \"constellationBoundryColor/string\": true,\n    \"constellationFigureColor/string\": true,\n    \"constellationsEnabled/string\": true,\n    \"constellationSelectionColor/string\": true,\n    \"crosshairsColor/string\": true,\n    \"earthCutawayView/boolean\": true,\n    //\"fovCamera/number\": true,  // skipping because not settable\n    //\"fovEyepiece/number\": true,  // skipping because not settable\n    //\"fovTelescope/number\": true,  // skipping because not settable\n    \"localHorizonMode/boolean\": true,\n    \"galacticMode/boolean\": true,\n    \"locationAltitude/number\": true,\n    \"locationLat/number\": true,\n    \"locationLng/number\": true,\n    \"milkyWayModel/boolean\": true,\n    \"showAltAzGrid/boolean\": true,\n    \"showAltAzGridText/boolean\": true,\n    //\"showClouds/boolean\": true,  // skipping because not settable\n    \"showConstellations/boolean\": true,\n    \"showConstellationBoundries/boolean\": true,\n    \"showConstellationFigures/boolean\": true,\n    \"showConstellationLabels/boolean\": true,\n    \"showConstellationPictures/boolean\": true,\n    \"showConstellationSelection/boolean\": true,\n    \"showCrosshairs/boolean\": true,\n    \"showEarthSky/boolean\": true,\n    \"showEcliptic/boolean\": true,\n    \"showEclipticGrid/boolean\": true,\n    \"showEclipticGridText/boolean\": true,\n    \"showEclipticOverviewText/boolean\": true,\n    \"showElevationModel/boolean\": true,\n    \"showEquatorialGridText/boolean\": true,\n    //\"showFieldOfView/boolean\": true,  // skipping because not settable\n    \"showGalacticGrid/boolean\": true,\n    \"showGalacticGridText/boolean\": true,\n    \"showGrid/boolean\": true,\n    \"showHorizon/boolean\": true,\n    //\"showHorizonPanorama/boolean\": true,  // skipping because not settable\n    \"showISSModel/boolean\": true,\n    //\"showMoonsAsPointSource/boolean\": true,  // skipping because not settable\n    \"showPrecessionChart/boolean\": true,\n    \"showSkyGrids/boolean\": true,\n    \"showSkyNode/boolean\": true,\n    \"showSkyOverlays/boolean\": true,\n    \"showSkyOverlaysIn3d/boolean\": true,\n    \"showSolarSystem/boolean\": true,\n    \"smoothPan/boolean\": true,\n    \"solarSystemCMB/boolean\": true,\n    \"solarSystemCosmos/boolean\": true,\n    \"solarSystemMilkyWay/boolean\": true,\n    \"solarSystemOrbits/boolean\": true,\n    \"solarSystemOverlays/boolean\": true,\n    \"solarSystemLighting/boolean\": true,\n    \"solarSystemMultiRes/boolean\": true,\n    \"solarSystemMinorPlanets/boolean\": true,\n    \"solarSystemMinorOrbits/boolean\": true,\n    \"solarSystemPlanets/boolean\": true,\n    \"solarSystemStars/boolean\": true,\n    \"minorPlanetsFilter/number\": true,\n    \"planetOrbitsFilter/number\": true,\n    \"solarSystemScale/number\": true,\n};\n/** Type guard function for BaseEngineSetting. */\nexport function isBaseEngineSetting(obj) {\n    var key = obj[0] + \"/\" + typeof obj[1];\n    return (key in baseEngineSettingTypeInfo);\n}\nvar baseLayerSettingTypeInfo = {\n    \"astronomical/boolean\": true,\n    \"enabled/boolean\": true,\n    \"fadeSpan/number\": true,\n    \"name/string\": true,\n    \"opacity/number\": true,\n    \"opened/boolean\": true,\n    \"referenceFrame/string\": true,\n    \"version/number\": true,\n};\n/** Type guard function for BaseLayerSetting. */\nexport function isBaseLayerSetting(obj) {\n    var key = obj[0] + \"/\" + typeof obj[1];\n    return key in baseLayerSettingTypeInfo;\n}\nvar baseImageSetLayerSettingTypeInfo = {\n    \"colorMapperName/string\": true,\n    \"overrideDefaultLayer/boolean\": true,\n};\n/** Type guard function for BaseImageSetLayerSetting. */\nexport function isBaseImageSetLayerSetting(obj) {\n    var key = obj[0] + \"/\" + typeof obj[1];\n    return (key in baseImageSetLayerSettingTypeInfo) || isBaseLayerSetting(obj);\n}\n// See implementation below -- we need to handle enums specially\n// to make sure that inputs are in-range.\nvar baseSpreadSheetLayerSettingTypeInfo = {\n    \"altColumn/number\": \"\",\n    \"altType/number\": \"AltTypes\",\n    \"altUnit/number\": \"AltUnits\",\n    \"barChartBitmask/number\": \"\",\n    \"beginRange/Date\": \"\",\n    \"cartesianCustomScale/number\": \"\",\n    \"cartesianScale/number\": \"AltUnits\",\n    \"colorMapColumn/number\": \"\",\n    \"colorMapperName/string\": \"\",\n    \"coordinatesType/number\": \"CoordinatesType\",\n    \"decay/number\": \"\",\n    \"dynamicColor/boolean\": \"\",\n    \"dynamicData/boolean\": \"\",\n    \"endDateColumn/number\": \"\",\n    \"endRange/Date\": \"\",\n    \"geometryColumn/number\": \"\",\n    \"hyperlinkColumn/number\": \"\",\n    \"hyperlinkFormat/string\": \"\",\n    \"latColumn/number\": \"\",\n    \"lngColumn/number\": \"\",\n    \"markerColumn/number\": \"\",\n    \"markerIndex/number\": \"\",\n    \"markerScale/number\": \"\",\n    \"nameColumn/number\": \"\",\n    \"normalizeColorMap/boolean\": \"\",\n    \"normalizeColorMapMax/number\": \"\",\n    \"normalizeColorMapMin/number\": \"\",\n    \"normalizeSize/boolean\": \"\",\n    \"normalizeSizeClip/boolean\": \"\",\n    \"normalizeSizeMax/number\": \"\",\n    \"normalizeSizeMin/number\": \"\",\n    \"plotType/number\": \"PlotTypes\",\n    \"pointScaleType/number\": \"PointScaleTypes\",\n    \"raUnits/number\": \"RAUnits\",\n    \"scaleFactor/number\": \"\",\n    \"showFarSide/boolean\": \"\",\n    \"sizeColumn/number\": \"\",\n    \"startDateColumn/number\": \"\",\n    \"timeSeries/boolean\": \"\",\n    \"xAxisColumn/number\": \"\",\n    \"xAxisReverse/boolean\": \"\",\n    \"yAxisColumn/number\": \"\",\n    \"yAxisReverse/boolean\": \"\",\n    \"zAxisColumn/number\": \"\",\n    \"zAxisReverse/boolean\": \"\",\n};\n/** Type guard function for BaseSpreadSheetLayerSetting. */\nexport function isBaseSpreadSheetLayerSetting(obj) {\n    if (isBaseLayerSetting(obj))\n        return true;\n    // We want to be able to properly recognize Date objects\n    var type = obj[1] instanceof Date ? 'Date' : typeof obj[1];\n    var key = obj[0] + \"/\" + type;\n    var enumType = baseSpreadSheetLayerSettingTypeInfo[key];\n    if (enumType === undefined) {\n        return false;\n    }\n    else if (enumType == \"\") {\n        return true;\n    }\n    else if (enumType == \"AltTypes\") {\n        return obj[1] in AltTypes;\n    }\n    else if (enumType == \"AltUnits\") {\n        return obj[1] in AltUnits;\n    }\n    else if (enumType == \"CoordinatesType\") {\n        return obj[1] in CoordinatesType;\n    }\n    else if (enumType == \"PlotTypes\") {\n        return obj[1] in PlotTypes;\n    }\n    else if (enumType == \"PointScaleTypes\") {\n        return obj[1] in PointScaleTypes;\n    }\n    else if (enumType == \"RAUnits\") {\n        return obj[1] in RAUnits;\n    }\n    else {\n        throw new Error('internal bug isBaseSpreadSheetLayerSetting');\n    }\n}\n// See implementation below -- we need to handle enums specially\n// to make sure that inputs are in-range.\nvar baseVoTableLayerSettingTypeInfo = {\n    \"altColumn/number\": \"\",\n    \"altType/number\": \"AltTypes\",\n    \"altUnit/number\": \"AltUnits\",\n    \"beginRange/Date\": \"\",\n    \"cartesianCustomScale/number\": \"\",\n    \"cartesianScale/number\": \"AltUnits\",\n    \"colorMapColumn/number\": \"\",\n    \"coordinatesType/number\": \"CoordinatesType\",\n    \"dataSourceUrl/string\": \"\",\n    \"decay/number\": \"\",\n    \"dynamicData/boolean\": \"\",\n    \"endDateColumn/number\": \"\",\n    \"endRange/Date\": \"\",\n    \"hyperlinkColumn/number\": \"\",\n    \"hyperlinkFormat/string\": \"\",\n    \"latColumn/number\": \"\",\n    \"lngColumn/number\": \"\",\n    \"markerColumn/number\": \"\",\n    \"markerIndex/number\": \"\",\n    \"markerScale/number\": \"\",\n    \"nameColumn/number\": \"\",\n    \"plotType/number\": \"PlotTypes\",\n    \"pointScaleType/number\": \"PointScaleTypes\",\n    \"raUnits/number\": \"RAUnits\",\n    \"scaleFactor/number\": \"\",\n    \"showFarSide/boolean\": \"\",\n    \"sizeColumn/number\": \"\",\n    \"startDateColumn/number\": \"\",\n    \"timeSeries/boolean\": \"\",\n    \"xAxisColumn/number\": \"\",\n    \"xAxisReverse/boolean\": \"\",\n    \"yAxisColumn/number\": \"\",\n    \"yAxisReverse/boolean\": \"\",\n    \"zAxisColumn/number\": \"\",\n    \"zAxisReverse/boolean\": \"\",\n};\n/** Type guard function for BaseVoTableLayerSetting. */\nexport function isBaseVoTableLayerSetting(obj) {\n    if (isBaseLayerSetting(obj))\n        return true;\n    var key = obj[0] + \"/\" + typeof obj[1];\n    var enumType = baseVoTableLayerSettingTypeInfo[key];\n    if (enumType === undefined) {\n        return false;\n    }\n    else if (enumType == \"\") {\n        return true;\n    }\n    else if (enumType == \"AltTypes\") {\n        return obj[1] in AltTypes;\n    }\n    else if (enumType == \"AltUnits\") {\n        return obj[1] in AltUnits;\n    }\n    else if (enumType == \"CoordinatesType\") {\n        return obj[1] in CoordinatesType;\n    }\n    else if (enumType == \"PlotTypes\") {\n        return obj[1] in PlotTypes;\n    }\n    else if (enumType == \"PointScaleTypes\") {\n        return obj[1] in PointScaleTypes;\n    }\n    else if (enumType == \"RAUnits\") {\n        return obj[1] in RAUnits;\n    }\n    else {\n        throw new Error('internal bug isBaseVoTableLayerSetting');\n    }\n}\nfunction keysOf(o) { return Object.keys(o); } // eslint-disable-line @typescript-eslint/explicit-function-return-type, @typescript-eslint/no-explicit-any\nexport function enumLookup(stringEnum, s) {\n    var e_1, _a;\n    try {\n        for (var _b = __values(keysOf(stringEnum)), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var enumKey = _c.value;\n            if (stringEnum[enumKey] === s) {\n                return stringEnum[enumKey];\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return undefined;\n}\n//# sourceMappingURL=index.js.map","// Copyright 2020-2021 the .NET Foundation\n// Licensed under the MIT License\nimport { __values } from \"tslib\";\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/** Helpers for handling generic layers settings. */\nimport { isBaseLayerSetting, } from \"@wwtelescope/engine-types\";\nimport { Color, } from \"@wwtelescope/engine\";\n/** A list of the names of the available settings for generic layers. */\nexport var layerSettingNames = [\n    \"astronomical\",\n    \"color\",\n    \"enabled\",\n    \"fadeSpan\",\n    \"name\",\n    \"opacity\",\n    \"opened\",\n    \"referenceFrame\",\n    \"version\",\n];\nvar layerSettingTypeInfo = {\n    \"color/Color\": true,\n};\n/** Type guard function for `LayerSetting`. */\nexport function isLayerSetting(obj) {\n    var typekey = typeof obj[1];\n    if (obj[1] instanceof Color) {\n        typekey = \"Color\";\n    }\n    var key = obj[0] + \"/\" + typekey;\n    return (key in layerSettingTypeInfo) || isBaseLayerSetting(obj);\n}\n/** Apply a setting to a generic `Layer` or equivalent. */\nexport function applyLayerSetting(layer, setting) {\n    var funcName = \"set_\" + setting[0];\n    var value = setting[1];\n    layer[funcName](value);\n}\n/** Extract all of the current settings of a `Layer` or equivalent. */\nexport function extractLayerSettings(layer) {\n    var e_1, _a;\n    var s = [];\n    try {\n        for (var layerSettingNames_1 = __values(layerSettingNames), layerSettingNames_1_1 = layerSettingNames_1.next(); !layerSettingNames_1_1.done; layerSettingNames_1_1 = layerSettingNames_1.next()) {\n            var n = layerSettingNames_1_1.value;\n            s.push([n, layer[\"get_\" + n]()]);\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (layerSettingNames_1_1 && !layerSettingNames_1_1.done && (_a = layerSettingNames_1.return)) _a.call(layerSettingNames_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return s;\n}\n/** Copy settings from one `Layer`, or equivalent, to another. */\nexport function copyLayerSettings(source, dest) {\n    var e_2, _a;\n    try {\n        for (var layerSettingNames_2 = __values(layerSettingNames), layerSettingNames_2_1 = layerSettingNames_2.next(); !layerSettingNames_2_1.done; layerSettingNames_2_1 = layerSettingNames_2.next()) {\n            var n = layerSettingNames_2_1.value;\n            dest[\"set_\" + n](source[\"get_\" + n]());\n        }\n    }\n    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n    finally {\n        try {\n            if (layerSettingNames_2_1 && !layerSettingNames_2_1.done && (_a = layerSettingNames_2.return)) _a.call(layerSettingNames_2);\n        }\n        finally { if (e_2) throw e_2.error; }\n    }\n}\n/** A plain-old-data class implementing `LayerSettingsInterface`. */\nvar LayerState = /** @class */ (function () {\n    // Maybe possible to use remapped keys to create this type?:\n    // https://www.typescriptlang.org/docs/handbook/2/mapped-types.html#key-remapping-via-as\n    // Don't think we can implement functions, though, and we're currently (Aug\n    // 2021) on TypeScript 3.9, while the above requires 4.1.\n    function LayerState(source) {\n        copyLayerSettings(source, this);\n    }\n    LayerState.prototype.get_astronomical = function () {\n        return this.astronomical;\n    };\n    LayerState.prototype.set_astronomical = function (v) {\n        this.astronomical = v;\n        return v;\n    };\n    LayerState.prototype.get_color = function () {\n        return this.color;\n    };\n    LayerState.prototype.set_color = function (v) {\n        this.color = v;\n        return v;\n    };\n    LayerState.prototype.get_enabled = function () {\n        return this.enabled;\n    };\n    LayerState.prototype.set_enabled = function (v) {\n        this.enabled = v;\n        return v;\n    };\n    LayerState.prototype.get_endTime = function () {\n        return this.endTime;\n    };\n    LayerState.prototype.set_endTime = function (v) {\n        this.endTime = v;\n        return v;\n    };\n    LayerState.prototype.get_fadeSpan = function () {\n        return this.fadeSpan;\n    };\n    LayerState.prototype.set_fadeSpan = function (v) {\n        this.fadeSpan = v;\n        return v;\n    };\n    LayerState.prototype.get_fadeType = function () {\n        return this.fadeType;\n    };\n    LayerState.prototype.set_fadeType = function (v) {\n        this.fadeType = v;\n        return v;\n    };\n    LayerState.prototype.get_name = function () {\n        return this.name;\n    };\n    LayerState.prototype.set_name = function (v) {\n        this.name = v;\n        return v;\n    };\n    LayerState.prototype.get_opacity = function () {\n        return this.opacity;\n    };\n    LayerState.prototype.set_opacity = function (v) {\n        this.opacity = v;\n        return v;\n    };\n    LayerState.prototype.get_opened = function () {\n        return this.opened;\n    };\n    LayerState.prototype.set_opened = function (v) {\n        this.opened = v;\n        return v;\n    };\n    LayerState.prototype.get_referenceFrame = function () {\n        return this.referenceFrame;\n    };\n    LayerState.prototype.set_referenceFrame = function (v) {\n        this.referenceFrame = v;\n        return v;\n    };\n    LayerState.prototype.get_startTime = function () {\n        return this.startTime;\n    };\n    LayerState.prototype.set_startTime = function (v) {\n        this.startTime = v;\n        return v;\n    };\n    LayerState.prototype.get_version = function () {\n        return this.version;\n    };\n    LayerState.prototype.set_version = function (v) {\n        this.version = v;\n        return v;\n    };\n    return LayerState;\n}());\nexport { LayerState };\n//# sourceMappingURL=layer.js.map","// Copyright 2020-2021 the .NET Foundation\n// Licensed under the MIT License\nimport { __extends, __values } from \"tslib\";\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/** Helpers for handling imageset layer settings. */\nimport { isBaseImageSetLayerSetting, } from \"@wwtelescope/engine-types\";\nimport { copyLayerSettings, extractLayerSettings, isLayerSetting, layerSettingNames, LayerState, } from \"./layer\";\nvar justImageSetLayerSettingNames = [\n    \"colorMapperName\",\n    \"overrideDefaultLayer\",\n];\n/** A list of the names of the available settings for `ImageSetLayer`\n * instances and their equivalents (things implementing\n * [[ImageSetLayerSettingsInterface]]).\n *\n * This is a superset of the names available for generic layers.\n*/\nexport var imageSetLayerSettingNames = layerSettingNames.concat(justImageSetLayerSettingNames);\n/** Type guard function for `ImageSetLayerSetting`. */\nexport function isImageSetLayerSetting(obj) {\n    // No special settings specific to non-base ImageSetLayerSetting.\n    return isLayerSetting(obj) || isBaseImageSetLayerSetting(obj);\n}\n/** Apply a setting to a `ImageSetLayer` or equivalent. */\nexport function applyImageSetLayerSetting(layer, setting) {\n    var funcName = \"set_\" + setting[0];\n    var value = setting[1];\n    layer[funcName](value);\n}\n/** Extract all of the current settings of a `ImageSetLayer` or equivalent. */\nexport function extractImageSetLayerSettings(layer) {\n    var e_1, _a;\n    var s = extractLayerSettings(layer);\n    try {\n        for (var justImageSetLayerSettingNames_1 = __values(justImageSetLayerSettingNames), justImageSetLayerSettingNames_1_1 = justImageSetLayerSettingNames_1.next(); !justImageSetLayerSettingNames_1_1.done; justImageSetLayerSettingNames_1_1 = justImageSetLayerSettingNames_1.next()) {\n            var n = justImageSetLayerSettingNames_1_1.value;\n            s.push([n, layer[\"get_\" + n]()]);\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (justImageSetLayerSettingNames_1_1 && !justImageSetLayerSettingNames_1_1.done && (_a = justImageSetLayerSettingNames_1.return)) _a.call(justImageSetLayerSettingNames_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return s;\n}\n/** Copy settings from one `ImageSetLayer`, or equivalent, to another. */\nexport function copyImageSetLayerSettings(source, dest) {\n    var e_2, _a;\n    copyLayerSettings(source, dest);\n    try {\n        for (var justImageSetLayerSettingNames_2 = __values(justImageSetLayerSettingNames), justImageSetLayerSettingNames_2_1 = justImageSetLayerSettingNames_2.next(); !justImageSetLayerSettingNames_2_1.done; justImageSetLayerSettingNames_2_1 = justImageSetLayerSettingNames_2.next()) {\n            var n = justImageSetLayerSettingNames_2_1.value;\n            dest[\"set_\" + n](source[\"get_\" + n]());\n        }\n    }\n    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n    finally {\n        try {\n            if (justImageSetLayerSettingNames_2_1 && !justImageSetLayerSettingNames_2_1.done && (_a = justImageSetLayerSettingNames_2.return)) _a.call(justImageSetLayerSettingNames_2);\n        }\n        finally { if (e_2) throw e_2.error; }\n    }\n}\n/** A plain-old-data class implementing `ImageSetLayerSettingsInterface`. */\nvar ImageSetLayerState = /** @class */ (function (_super) {\n    __extends(ImageSetLayerState, _super);\n    function ImageSetLayerState(source) {\n        var _this = \n        // Here we redundantly copy the generic Layer settings, but TypeScript\n        // requires the super() call. Oh well.\n        _super.call(this, source) || this;\n        copyImageSetLayerSettings(source, _this);\n        return _this;\n    }\n    ImageSetLayerState.prototype.get_colorMapperName = function () {\n        return this.colorMapperName;\n    };\n    ImageSetLayerState.prototype.set_colorMapperName = function (v) {\n        this.colorMapperName = v;\n        return v;\n    };\n    ImageSetLayerState.prototype.get_overrideDefaultLayer = function () {\n        return this.overrideDefaultLayer;\n    };\n    ImageSetLayerState.prototype.set_overrideDefaultLayer = function (v) {\n        this.overrideDefaultLayer = v;\n        return v;\n    };\n    return ImageSetLayerState;\n}(LayerState));\nexport { ImageSetLayerState };\n//# sourceMappingURL=imagesetlayer.js.map","// Copyright 2020-2021 the .NET Foundation\n// Licensed under the MIT License\nimport { __extends, __values } from \"tslib\";\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/** Helpers for handling \"spreadsheet\" layer settings. */\nimport { isBaseSpreadSheetLayerSetting, } from \"@wwtelescope/engine-types\";\nimport { copyLayerSettings, extractLayerSettings, isLayerSetting, layerSettingNames, LayerState, } from \"./layer\";\nvar justSpreadSheetLayerSettingNames = [\n    \"altColumn\",\n    \"altType\",\n    \"altUnit\",\n    \"barChartBitmask\",\n    \"beginRange\",\n    \"cartesianCustomScale\",\n    \"cartesianScale\",\n    \"colorMapColumn\",\n    \"colorMapperName\",\n    \"coordinatesType\",\n    \"decay\",\n    \"dynamicColor\",\n    \"dynamicData\",\n    \"endDateColumn\",\n    \"endRange\",\n    \"geometryColumn\",\n    \"hyperlinkColumn\",\n    \"hyperlinkFormat\",\n    \"latColumn\",\n    \"lngColumn\",\n    \"markerColumn\",\n    \"markerIndex\",\n    \"markerScale\",\n    \"nameColumn\",\n    \"normalizeColorMap\",\n    \"normalizeColorMapMax\",\n    \"normalizeColorMapMin\",\n    \"normalizeSize\",\n    \"normalizeSizeClip\",\n    \"normalizeSizeMax\",\n    \"normalizeSizeMin\",\n    \"plotType\",\n    \"pointScaleType\",\n    \"raUnits\",\n    \"scaleFactor\",\n    \"showFarSide\",\n    \"sizeColumn\",\n    \"startDateColumn\",\n    \"timeSeries\",\n    \"xAxisColumn\",\n    \"xAxisReverse\",\n    \"yAxisColumn\",\n    \"yAxisReverse\",\n    \"zAxisColumn\",\n    \"zAxisReverse\",\n];\n/** A list of the names of the available settings for `SpreadSheetLayer`\n * instances and their equivalents (things implementing\n * [[SpreadSheetLayerSettingsInterface]]).\n *\n * This is a superset of the names available for generic layers.\n*/\nexport var spreadSheetLayerSettingNames = layerSettingNames.concat(justSpreadSheetLayerSettingNames);\n/** Type guard function for `SpreadSheetLayerSetting`. */\nexport function isSpreadSheetLayerSetting(obj) {\n    // No special settings specific to non-base SpreadSheetLayerSetting.\n    return isLayerSetting(obj) || isBaseSpreadSheetLayerSetting(obj);\n}\n/** Apply a setting to a `SpreadSheetLayer` or equivalent. */\nexport function applySpreadSheetLayerSetting(layer, setting) {\n    var funcName = \"set_\" + setting[0];\n    var value = setting[1]; // eslint-disable-line @typescript-eslint/no-explicit-any\n    layer[funcName](value); // eslint-disable-line @typescript-eslint/no-explicit-any\n}\n/** Extract all of the current settings of a `SpreadSheetLayer` or equivalent. */\nexport function extractSpreadSheetLayerSettings(layer) {\n    var e_1, _a;\n    var s = extractLayerSettings(layer);\n    try {\n        for (var justSpreadSheetLayerSettingNames_1 = __values(justSpreadSheetLayerSettingNames), justSpreadSheetLayerSettingNames_1_1 = justSpreadSheetLayerSettingNames_1.next(); !justSpreadSheetLayerSettingNames_1_1.done; justSpreadSheetLayerSettingNames_1_1 = justSpreadSheetLayerSettingNames_1.next()) {\n            var n = justSpreadSheetLayerSettingNames_1_1.value;\n            s.push([n, layer[\"get_\" + n]()]);\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (justSpreadSheetLayerSettingNames_1_1 && !justSpreadSheetLayerSettingNames_1_1.done && (_a = justSpreadSheetLayerSettingNames_1.return)) _a.call(justSpreadSheetLayerSettingNames_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return s;\n}\n/** Copy settings from one `SpreadSheetLayer`, or equivalent, to another. */\nexport function copySpreadSheetLayerSettings(source, dest) {\n    var e_2, _a;\n    copyLayerSettings(source, dest);\n    try {\n        for (var justSpreadSheetLayerSettingNames_2 = __values(justSpreadSheetLayerSettingNames), justSpreadSheetLayerSettingNames_2_1 = justSpreadSheetLayerSettingNames_2.next(); !justSpreadSheetLayerSettingNames_2_1.done; justSpreadSheetLayerSettingNames_2_1 = justSpreadSheetLayerSettingNames_2.next()) {\n            var n = justSpreadSheetLayerSettingNames_2_1.value;\n            dest[\"set_\" + n](source[\"get_\" + n]());\n        }\n    }\n    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n    finally {\n        try {\n            if (justSpreadSheetLayerSettingNames_2_1 && !justSpreadSheetLayerSettingNames_2_1.done && (_a = justSpreadSheetLayerSettingNames_2.return)) _a.call(justSpreadSheetLayerSettingNames_2);\n        }\n        finally { if (e_2) throw e_2.error; }\n    }\n}\n/** A plain-old-data class implementing `SpreadSheetLayerSettingsInterface`. */\nvar SpreadSheetLayerState = /** @class */ (function (_super) {\n    __extends(SpreadSheetLayerState, _super);\n    function SpreadSheetLayerState(source) {\n        var _this = \n        // Here we redundantly copy the generic Layer settings, but TypeScript\n        // requires the super() call. Oh well.\n        _super.call(this, source) || this;\n        copySpreadSheetLayerSettings(source, _this);\n        return _this;\n    }\n    SpreadSheetLayerState.prototype.get_altColumn = function () {\n        return this.altColumn;\n    };\n    SpreadSheetLayerState.prototype.set_altColumn = function (v) {\n        this.altColumn = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_altType = function () {\n        return this.altType;\n    };\n    SpreadSheetLayerState.prototype.set_altType = function (v) {\n        this.altType = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_altUnit = function () {\n        return this.altUnit;\n    };\n    SpreadSheetLayerState.prototype.set_altUnit = function (v) {\n        this.altUnit = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_barChartBitmask = function () {\n        return this.barChartBitmask;\n    };\n    SpreadSheetLayerState.prototype.set_barChartBitmask = function (v) {\n        this.barChartBitmask = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_beginRange = function () {\n        return this.beginRange;\n    };\n    SpreadSheetLayerState.prototype.set_beginRange = function (v) {\n        this.beginRange = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_cartesianCustomScale = function () {\n        return this.cartesianCustomScale;\n    };\n    SpreadSheetLayerState.prototype.set_cartesianCustomScale = function (v) {\n        this.cartesianCustomScale = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_cartesianScale = function () {\n        return this.cartesianScale;\n    };\n    SpreadSheetLayerState.prototype.set_cartesianScale = function (v) {\n        this.cartesianScale = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_colorMapColumn = function () {\n        return this.colorMapColumn;\n    };\n    SpreadSheetLayerState.prototype.set_colorMapColumn = function (v) {\n        this.colorMapColumn = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_colorMapperName = function () {\n        return this.colorMapperName;\n    };\n    SpreadSheetLayerState.prototype.set_colorMapperName = function (v) {\n        this.colorMapperName = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_coordinatesType = function () {\n        return this.coordinatesType;\n    };\n    SpreadSheetLayerState.prototype.set_coordinatesType = function (v) {\n        this.coordinatesType = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_decay = function () {\n        return this.decay;\n    };\n    SpreadSheetLayerState.prototype.set_decay = function (v) {\n        this.decay = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_dynamicColor = function () {\n        return this.dynamicColor;\n    };\n    SpreadSheetLayerState.prototype.set_dynamicColor = function (v) {\n        this.dynamicColor = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_dynamicData = function () {\n        return this.dynamicData;\n    };\n    SpreadSheetLayerState.prototype.set_dynamicData = function (v) {\n        this.dynamicData = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_endDateColumn = function () {\n        return this.endDateColumn;\n    };\n    SpreadSheetLayerState.prototype.set_endDateColumn = function (v) {\n        this.endDateColumn = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_endRange = function () {\n        return this.endRange;\n    };\n    SpreadSheetLayerState.prototype.set_endRange = function (v) {\n        this.endRange = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_geometryColumn = function () {\n        return this.geometryColumn;\n    };\n    SpreadSheetLayerState.prototype.set_geometryColumn = function (v) {\n        this.geometryColumn = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_hyperlinkColumn = function () {\n        return this.hyperlinkColumn;\n    };\n    SpreadSheetLayerState.prototype.set_hyperlinkColumn = function (v) {\n        this.hyperlinkColumn = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_hyperlinkFormat = function () {\n        return this.hyperlinkFormat;\n    };\n    SpreadSheetLayerState.prototype.set_hyperlinkFormat = function (v) {\n        this.hyperlinkFormat = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_latColumn = function () {\n        return this.latColumn;\n    };\n    SpreadSheetLayerState.prototype.set_latColumn = function (v) {\n        this.latColumn = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_lngColumn = function () {\n        return this.lngColumn;\n    };\n    SpreadSheetLayerState.prototype.set_lngColumn = function (v) {\n        this.lngColumn = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_markerColumn = function () {\n        return this.markerColumn;\n    };\n    SpreadSheetLayerState.prototype.set_markerColumn = function (v) {\n        this.markerColumn = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_markerIndex = function () {\n        return this.markerIndex;\n    };\n    SpreadSheetLayerState.prototype.set_markerIndex = function (v) {\n        this.markerIndex = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_markerScale = function () {\n        return this.markerScale;\n    };\n    SpreadSheetLayerState.prototype.set_markerScale = function (v) {\n        this.markerScale = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_nameColumn = function () {\n        return this.nameColumn;\n    };\n    SpreadSheetLayerState.prototype.set_nameColumn = function (v) {\n        this.nameColumn = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_normalizeColorMap = function () {\n        return this.normalizeColorMap;\n    };\n    SpreadSheetLayerState.prototype.set_normalizeColorMap = function (v) {\n        this.normalizeColorMap = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_normalizeColorMapMax = function () {\n        return this.normalizeColorMapMax;\n    };\n    SpreadSheetLayerState.prototype.set_normalizeColorMapMax = function (v) {\n        this.normalizeColorMapMax = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_normalizeColorMapMin = function () {\n        return this.normalizeColorMapMin;\n    };\n    SpreadSheetLayerState.prototype.set_normalizeColorMapMin = function (v) {\n        this.normalizeColorMapMin = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_normalizeSize = function () {\n        return this.normalizeSize;\n    };\n    SpreadSheetLayerState.prototype.set_normalizeSize = function (v) {\n        this.normalizeSize = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_normalizeSizeClip = function () {\n        return this.normalizeSizeClip;\n    };\n    SpreadSheetLayerState.prototype.set_normalizeSizeClip = function (v) {\n        this.normalizeSizeClip = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_normalizeSizeMax = function () {\n        return this.normalizeSizeMax;\n    };\n    SpreadSheetLayerState.prototype.set_normalizeSizeMax = function (v) {\n        this.normalizeSizeMax = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_normalizeSizeMin = function () {\n        return this.normalizeSizeMin;\n    };\n    SpreadSheetLayerState.prototype.set_normalizeSizeMin = function (v) {\n        this.normalizeSizeMin = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_plotType = function () {\n        return this.plotType;\n    };\n    SpreadSheetLayerState.prototype.set_plotType = function (v) {\n        this.plotType = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_pointScaleType = function () {\n        return this.pointScaleType;\n    };\n    SpreadSheetLayerState.prototype.set_pointScaleType = function (v) {\n        this.pointScaleType = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_raUnits = function () {\n        return this.raUnits;\n    };\n    SpreadSheetLayerState.prototype.set_raUnits = function (v) {\n        this.raUnits = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_scaleFactor = function () {\n        return this.scaleFactor;\n    };\n    SpreadSheetLayerState.prototype.set_scaleFactor = function (v) {\n        this.scaleFactor = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_showFarSide = function () {\n        return this.showFarSide;\n    };\n    SpreadSheetLayerState.prototype.set_showFarSide = function (v) {\n        this.showFarSide = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_sizeColumn = function () {\n        return this.sizeColumn;\n    };\n    SpreadSheetLayerState.prototype.set_sizeColumn = function (v) {\n        this.sizeColumn = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_startDateColumn = function () {\n        return this.startDateColumn;\n    };\n    SpreadSheetLayerState.prototype.set_startDateColumn = function (v) {\n        this.startDateColumn = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_timeSeries = function () {\n        return this.timeSeries;\n    };\n    SpreadSheetLayerState.prototype.set_timeSeries = function (v) {\n        this.timeSeries = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_xAxisColumn = function () {\n        return this.xAxisColumn;\n    };\n    SpreadSheetLayerState.prototype.set_xAxisColumn = function (v) {\n        this.xAxisColumn = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_xAxisReverse = function () {\n        return this.xAxisReverse;\n    };\n    SpreadSheetLayerState.prototype.set_xAxisReverse = function (v) {\n        this.xAxisReverse = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_yAxisColumn = function () {\n        return this.yAxisColumn;\n    };\n    SpreadSheetLayerState.prototype.set_yAxisColumn = function (v) {\n        this.yAxisColumn = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_yAxisReverse = function () {\n        return this.yAxisReverse;\n    };\n    SpreadSheetLayerState.prototype.set_yAxisReverse = function (v) {\n        this.yAxisReverse = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_zAxisColumn = function () {\n        return this.zAxisColumn;\n    };\n    SpreadSheetLayerState.prototype.set_zAxisColumn = function (v) {\n        this.zAxisColumn = v;\n        return v;\n    };\n    SpreadSheetLayerState.prototype.get_zAxisReverse = function () {\n        return this.zAxisReverse;\n    };\n    SpreadSheetLayerState.prototype.set_zAxisReverse = function (v) {\n        this.zAxisReverse = v;\n        return v;\n    };\n    return SpreadSheetLayerState;\n}(LayerState));\nexport { SpreadSheetLayerState };\n//# sourceMappingURL=spreadsheetlayer.js.map","// Copyright 2020-2021 the .NET Foundation\n// Licensed under the MIT License\nimport { __values } from \"tslib\";\n/** A list of the names of the available settings for annotations. */\nexport var annotationSettingNames = [\n    \"id\",\n    \"label\",\n    \"opacity\",\n    \"showHoverLabel\",\n    \"tag\",\n];\nvar annotationSettingTypeInfo = {\n    \"id/string\": true,\n    \"label/string\": true,\n    \"opacity/number\": true,\n    \"showHoverLabel/boolean\": true,\n    \"tag/string\": true,\n};\n/** Type guard function for `AnnotationSetting`. */\nexport function isAnnotationSetting(obj) {\n    var key = obj[0] + \"/\" + typeof obj[1];\n    return key in annotationSettingTypeInfo;\n}\n/** Apply a setting to a generic `Annotation` or equivalent. */\nexport function applyAnnotationSetting(annotation, setting) {\n    var funcName = \"set_\" + setting[0];\n    var value = setting[1];\n    annotation[funcName](value);\n}\n/** Extract all of the current settings of a `Annotation` or equivalent. */\nexport function extractAnnotationSettings(annotation) {\n    var e_1, _a;\n    var s = [];\n    try {\n        for (var annotationSettingNames_1 = __values(annotationSettingNames), annotationSettingNames_1_1 = annotationSettingNames_1.next(); !annotationSettingNames_1_1.done; annotationSettingNames_1_1 = annotationSettingNames_1.next()) {\n            var n = annotationSettingNames_1_1.value;\n            s.push([n, annotation[\"get_\" + n]()]);\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (annotationSettingNames_1_1 && !annotationSettingNames_1_1.done && (_a = annotationSettingNames_1.return)) _a.call(annotationSettingNames_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return s;\n}\n/** Copy settings from one `Annotation`, or equivalent, to another. */\nexport function copyAnnotationSettings(source, dest) {\n    var e_2, _a;\n    try {\n        for (var annotationSettingNames_2 = __values(annotationSettingNames), annotationSettingNames_2_1 = annotationSettingNames_2.next(); !annotationSettingNames_2_1.done; annotationSettingNames_2_1 = annotationSettingNames_2.next()) {\n            var n = annotationSettingNames_2_1.value;\n            dest[\"set_\" + n](source[\"get_\" + n]());\n        }\n    }\n    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n    finally {\n        try {\n            if (annotationSettingNames_2_1 && !annotationSettingNames_2_1.done && (_a = annotationSettingNames_2.return)) _a.call(annotationSettingNames_2);\n        }\n        finally { if (e_2) throw e_2.error; }\n    }\n}\n/** A plain-old-data class implementing `AnnotationSettingsInterface`. */\nvar AnnotationState = /** @class */ (function () {\n    function AnnotationState(source) {\n        copyAnnotationSettings(source, this);\n    }\n    AnnotationState.prototype.get_id = function () {\n        return this.id;\n    };\n    AnnotationState.prototype.set_id = function (v) {\n        this.id = v;\n        return v;\n    };\n    AnnotationState.prototype.get_label = function () {\n        return this.label;\n    };\n    AnnotationState.prototype.set_label = function (v) {\n        this.label = v;\n        return v;\n    };\n    AnnotationState.prototype.get_opacity = function () {\n        return this.opacity;\n    };\n    AnnotationState.prototype.set_opacity = function (v) {\n        this.opacity = v;\n        return v;\n    };\n    AnnotationState.prototype.get_showHoverLabel = function () {\n        return this.showHoverLabel;\n    };\n    AnnotationState.prototype.set_showHoverLabel = function (v) {\n        this.showHoverLabel = v;\n        return v;\n    };\n    AnnotationState.prototype.get_tag = function () {\n        return this.tag;\n    };\n    AnnotationState.prototype.set_tag = function (v) {\n        this.tag = v;\n        return v;\n    };\n    return AnnotationState;\n}());\nexport { AnnotationState };\n//# sourceMappingURL=annotation.js.map","// Copyright 2020-2021 the .NET Foundation\n// Licensed under the MIT License\nimport { __extends, __values } from \"tslib\";\nimport { annotationSettingNames, AnnotationState, copyAnnotationSettings, extractAnnotationSettings, isAnnotationSetting, } from './annotation';\nvar justCircleAnnotationSettingNames = [\n    \"fill\",\n    \"fillColor\",\n    \"lineColor\",\n    \"lineWidth\",\n    \"radius\",\n    \"skyRelative\",\n];\n/** A list of the names of the available settings for `CircleAnnotation`\n * instances and their equivalents (things implementing\n * [[CircleAnnotationSettingsInterface]]).\n *\n * This is a superset of the names available for generic annotations.\n*/\nexport var circleAnnotationSettingNames = annotationSettingNames.concat(justCircleAnnotationSettingNames);\nvar circleAnnotationSettingTypeInfo = {\n    \"fill/boolean\": true,\n    \"fillColor/string\": true,\n    \"lineColor/string\": true,\n    \"lineWidth/number\": true,\n    \"radius/number\": true,\n    \"skyRelative/boolean\": true,\n};\n/** Type guard function for `CircleAnnotationSetting`. */\nexport function isCircleAnnotationSetting(obj) {\n    var key = obj[0] + \"/\" + typeof obj[1];\n    return (key in circleAnnotationSettingTypeInfo) || isAnnotationSetting(obj);\n}\n/** Apply a setting to a generic `CircleAnnotation` or equivalent. */\nexport function applyCircleAnnotationSetting(circle, setting) {\n    var funcName = \"set_\" + setting[0];\n    var value = setting[1];\n    circle[funcName](value);\n}\n/** Extract all of the current settings of a `CircleAnnotation` or equivalent. */\nexport function extractCircleAnnotationSettings(circle) {\n    var e_1, _a;\n    var s = extractAnnotationSettings(circle);\n    try {\n        for (var justCircleAnnotationSettingNames_1 = __values(justCircleAnnotationSettingNames), justCircleAnnotationSettingNames_1_1 = justCircleAnnotationSettingNames_1.next(); !justCircleAnnotationSettingNames_1_1.done; justCircleAnnotationSettingNames_1_1 = justCircleAnnotationSettingNames_1.next()) {\n            var n = justCircleAnnotationSettingNames_1_1.value;\n            s.push([n, circle[\"get_\" + n]()]);\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (justCircleAnnotationSettingNames_1_1 && !justCircleAnnotationSettingNames_1_1.done && (_a = justCircleAnnotationSettingNames_1.return)) _a.call(justCircleAnnotationSettingNames_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return s;\n}\n/** Copy settings from one `CircleAnnotation`, or equivalent, to another. */\nexport function copyCircleAnnotationSettings(source, dest) {\n    var e_2, _a;\n    copyAnnotationSettings(source, dest);\n    try {\n        for (var justCircleAnnotationSettingNames_2 = __values(justCircleAnnotationSettingNames), justCircleAnnotationSettingNames_2_1 = justCircleAnnotationSettingNames_2.next(); !justCircleAnnotationSettingNames_2_1.done; justCircleAnnotationSettingNames_2_1 = justCircleAnnotationSettingNames_2.next()) {\n            var n = justCircleAnnotationSettingNames_2_1.value;\n            dest[\"set_\" + n](source[\"get_\" + n]());\n        }\n    }\n    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n    finally {\n        try {\n            if (justCircleAnnotationSettingNames_2_1 && !justCircleAnnotationSettingNames_2_1.done && (_a = justCircleAnnotationSettingNames_2.return)) _a.call(justCircleAnnotationSettingNames_2);\n        }\n        finally { if (e_2) throw e_2.error; }\n    }\n}\n/** A plain-old-data class implementing `CircleAnnotationSettingsInterface`. */\nvar CircleAnnotationState = /** @class */ (function (_super) {\n    __extends(CircleAnnotationState, _super);\n    function CircleAnnotationState(source) {\n        var _this = _super.call(this, source) || this;\n        copyCircleAnnotationSettings(source, _this);\n        return _this;\n    }\n    CircleAnnotationState.prototype.get_fill = function () {\n        return this.fill;\n    };\n    CircleAnnotationState.prototype.set_fill = function (v) {\n        this.fill = v;\n        return v;\n    };\n    CircleAnnotationState.prototype.get_fillColor = function () {\n        return this.fillColor;\n    };\n    CircleAnnotationState.prototype.set_fillColor = function (v) {\n        this.fillColor = v;\n        return v;\n    };\n    CircleAnnotationState.prototype.get_lineColor = function () {\n        return this.lineColor;\n    };\n    CircleAnnotationState.prototype.set_lineColor = function (v) {\n        this.lineColor = v;\n        return v;\n    };\n    CircleAnnotationState.prototype.get_lineWidth = function () {\n        return this.lineWidth;\n    };\n    CircleAnnotationState.prototype.set_lineWidth = function (v) {\n        this.lineWidth = v;\n        return v;\n    };\n    CircleAnnotationState.prototype.get_radius = function () {\n        return this.radius;\n    };\n    CircleAnnotationState.prototype.set_radius = function (v) {\n        this.radius = v;\n        return v;\n    };\n    CircleAnnotationState.prototype.get_skyRelative = function () {\n        return this.skyRelative;\n    };\n    CircleAnnotationState.prototype.set_skyRelative = function (v) {\n        this.skyRelative = v;\n        return v;\n    };\n    return CircleAnnotationState;\n}(AnnotationState));\nexport { CircleAnnotationState };\n//# sourceMappingURL=circleannotation.js.map","// Copyright 2020-2021 the .NET Foundation\n// Licensed under the MIT License\nimport { __values } from \"tslib\";\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/** Helpers for handling core engine settings. */\nimport { isBaseEngineSetting, } from '@wwtelescope/engine-types';\nimport { Color, ConstellationFilter, } from \"@wwtelescope/engine\";\n/** A list of the names of the core engine settings. */\nexport var engineSettingNames = [\n    \"actualPlanetScale\",\n    \"altAzGridColor\",\n    \"constellationArtFilter\",\n    \"constellationBoundariesFilter\",\n    \"constellationFigureColor\",\n    \"constellationFiguresFilter\",\n    \"constellationBoundryColor\",\n    \"constellationNamesFilter\",\n    \"constellationLabelsHeight\",\n    \"constellations\",\n    \"constellationSelectionColor\",\n    \"constellationsEnabled\",\n    \"crosshairsColor\",\n    \"earthCutawayView\",\n    \"eclipticColor\",\n    \"eclipticGridColor\",\n    \"equatorialGridColor\",\n    \"galacticGridColor\",\n    \"galacticMode\",\n    \"localHorizonMode\",\n    \"locationAltitude\",\n    \"locationLat\",\n    \"locationLng\",\n    \"milkyWayModel\",\n    \"minorPlanetsFilter\",\n    \"planetOrbitsFilter\",\n    \"precessionChartColor\",\n    \"showAltAzGrid\",\n    \"showAltAzGridText\",\n    \"showConstellationBoundries\",\n    \"showConstellationFigures\",\n    \"showConstellationLabels\",\n    \"showConstellationPictures\",\n    \"showConstellations\",\n    \"showConstellationSelection\",\n    \"showCrosshairs\",\n    \"showEarthSky\",\n    \"showEcliptic\",\n    \"showEclipticGrid\",\n    \"showEclipticGridText\",\n    \"showEclipticOverviewText\",\n    \"showElevationModel\",\n    \"showEquatorialGridText\",\n    \"showGalacticGrid\",\n    \"showGalacticGridText\",\n    \"showGrid\",\n    \"showHorizon\",\n    \"showISSModel\",\n    \"showPrecessionChart\",\n    \"showSkyGrids\",\n    \"showSkyOverlays\",\n    \"showSkyOverlaysIn3d\",\n    \"showSkyNode\",\n    \"showSolarSystem\",\n    \"smoothPan\",\n    \"solarSystemCMB\",\n    \"solarSystemCosmos\",\n    \"solarSystemLighting\",\n    \"solarSystemMilkyWay\",\n    \"solarSystemMinorPlanets\",\n    \"solarSystemMultiRes\",\n    \"solarSystemOrbits\",\n    \"solarSystemOverlays\",\n    \"solarSystemPlanets\",\n    \"solarSystemScale\",\n    \"solarSystemStars\",\n    \"solarSystemMinorOrbits\",\n];\nvar engineSettingTypeInfo = {\n    \"altAzGridColor/Color\": true,\n    \"constellationArtFilter/ConstellationFilter\": true,\n    \"constellationBoundariesFilter/ConstellationFilter\": true,\n    \"constellationBoundryColor/Color\": true,\n    \"constellationFigureColor/Color\": true,\n    \"constellationFiguresFilter/ConstellationFilter\": true,\n    \"constellationNamesFilter/ConstellationFilter\": true,\n    \"constellationSelectionColor/Color\": true,\n    \"crosshairsColor/Color\": true,\n    \"eclipticColor/Color\": true,\n    \"eclipticGridColor/Color\": true,\n    \"equatorialGridColor/Color\": true,\n    \"galacticGridColor/Color\": true,\n    \"precessionChartColor/Color\": true,\n};\n/** Type guard function for `EngineSetting`. */\nexport function isEngineSetting(obj) {\n    var typekey = typeof obj[1];\n    if (obj[1] instanceof Color) {\n        typekey = \"Color\";\n    }\n    else if (obj[1] instanceof ConstellationFilter) {\n        typekey = \"ConstellationFilter\";\n    }\n    var key = obj[0] + \"/\" + typekey;\n    return isBaseEngineSetting(obj) || (key in engineSettingTypeInfo);\n}\n/** Apply a setting to the engine or an equivalent. */\nexport function applyEngineSetting(engine, setting) {\n    var funcName = \"set_\" + setting[0];\n    var value = setting[1];\n    engine[funcName](value);\n}\n/** Extract all of the current settings of the engine or an equivalent. */\nexport function extractEngineSettings(engine) {\n    var e_1, _a;\n    var s = [];\n    try {\n        for (var engineSettingNames_1 = __values(engineSettingNames), engineSettingNames_1_1 = engineSettingNames_1.next(); !engineSettingNames_1_1.done; engineSettingNames_1_1 = engineSettingNames_1.next()) {\n            var n = engineSettingNames_1_1.value;\n            s.push([n, engine[\"get_\" + n]()]);\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (engineSettingNames_1_1 && !engineSettingNames_1_1.done && (_a = engineSettingNames_1.return)) _a.call(engineSettingNames_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return s;\n}\n/** Copy settings from the engine, or an equivalent, to another. */\nexport function copyEngineSettings(source, dest) {\n    var e_2, _a;\n    try {\n        for (var engineSettingNames_2 = __values(engineSettingNames), engineSettingNames_2_1 = engineSettingNames_2.next(); !engineSettingNames_2_1.done; engineSettingNames_2_1 = engineSettingNames_2.next()) {\n            var n = engineSettingNames_2_1.value;\n            dest[\"set_\" + n](source[\"get_\" + n]());\n        }\n    }\n    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n    finally {\n        try {\n            if (engineSettingNames_2_1 && !engineSettingNames_2_1.done && (_a = engineSettingNames_2.return)) _a.call(engineSettingNames_2);\n        }\n        finally { if (e_2) throw e_2.error; }\n    }\n}\n/** A plain-old-data class implementing `EngineSettingsInterface`. */\nvar EngineState = /** @class */ (function () {\n    function EngineState(source) {\n        copyEngineSettings(source, this);\n    }\n    EngineState.prototype.get_actualPlanetScale = function () {\n        return this.actualPlanetScale;\n    };\n    EngineState.prototype.set_actualPlanetScale = function (v) {\n        this.actualPlanetScale = v;\n        return v;\n    };\n    EngineState.prototype.get_constellationArtFilter = function () {\n        return this.constellationArtFilter;\n    };\n    EngineState.prototype.set_constellationArtFilter = function (v) {\n        this.constellationArtFilter = v;\n        return v;\n    };\n    EngineState.prototype.get_constellationBoundariesFilter = function () {\n        return this.constellationBoundariesFilter;\n    };\n    EngineState.prototype.set_constellationBoundariesFilter = function (v) {\n        this.constellationBoundariesFilter = v;\n        return v;\n    };\n    EngineState.prototype.get_constellationFigureColor = function () {\n        return this.constellationFigureColor;\n    };\n    EngineState.prototype.set_constellationFigureColor = function (v) {\n        this.constellationFigureColor = v;\n        return v;\n    };\n    EngineState.prototype.get_constellationFiguresFilter = function () {\n        return this.constellationFiguresFilter;\n    };\n    EngineState.prototype.set_constellationFiguresFilter = function (v) {\n        this.constellationFiguresFilter = v;\n        return v;\n    };\n    EngineState.prototype.get_constellationBoundryColor = function () {\n        return this.constellationBoundryColor;\n    };\n    EngineState.prototype.set_constellationBoundryColor = function (v) {\n        this.constellationBoundryColor = v;\n        return v;\n    };\n    EngineState.prototype.get_constellationNamesFilter = function () {\n        return this.constellationNamesFilter;\n    };\n    EngineState.prototype.set_constellationNamesFilter = function (v) {\n        this.constellationNamesFilter = v;\n        return v;\n    };\n    EngineState.prototype.get_constellations = function () {\n        return this.constellations;\n    };\n    EngineState.prototype.set_constellations = function (v) {\n        this.constellations = v;\n        return v;\n    };\n    EngineState.prototype.get_constellationSelectionColor = function () {\n        return this.constellationSelectionColor;\n    };\n    EngineState.prototype.set_constellationSelectionColor = function (v) {\n        this.constellationSelectionColor = v;\n        return v;\n    };\n    EngineState.prototype.get_constellationsEnabled = function () {\n        return this.constellationsEnabled;\n    };\n    EngineState.prototype.set_constellationsEnabled = function (v) {\n        this.constellationsEnabled = v;\n        return v;\n    };\n    EngineState.prototype.get_crosshairsColor = function () {\n        return this.crosshairsColor;\n    };\n    EngineState.prototype.set_crosshairsColor = function (v) {\n        this.crosshairsColor = v;\n        return v;\n    };\n    EngineState.prototype.get_earthCutawayView = function () {\n        return this.earthCutawayView;\n    };\n    EngineState.prototype.set_earthCutawayView = function (v) {\n        this.earthCutawayView = v;\n        return v;\n    };\n    EngineState.prototype.get_galacticMode = function () {\n        return this.galacticMode;\n    };\n    EngineState.prototype.set_galacticMode = function (v) {\n        this.galacticMode = v;\n        return v;\n    };\n    EngineState.prototype.get_localHorizonMode = function () {\n        return this.localHorizonMode;\n    };\n    EngineState.prototype.set_localHorizonMode = function (v) {\n        this.localHorizonMode = v;\n        return v;\n    };\n    EngineState.prototype.get_locationAltitude = function () {\n        return this.locationAltitude;\n    };\n    EngineState.prototype.set_locationAltitude = function (v) {\n        this.locationAltitude = v;\n        return v;\n    };\n    EngineState.prototype.get_locationLat = function () {\n        return this.locationLat;\n    };\n    EngineState.prototype.set_locationLat = function (v) {\n        this.locationLat = v;\n        return v;\n    };\n    EngineState.prototype.get_locationLng = function () {\n        return this.locationLng;\n    };\n    EngineState.prototype.set_locationLng = function (v) {\n        this.locationLng = v;\n        return v;\n    };\n    EngineState.prototype.get_milkyWayModel = function () {\n        return this.milkyWayModel;\n    };\n    EngineState.prototype.set_milkyWayModel = function (v) {\n        this.milkyWayModel = v;\n        return v;\n    };\n    EngineState.prototype.get_minorPlanetsFilter = function () {\n        return this.minorPlanetsFilter;\n    };\n    EngineState.prototype.set_minorPlanetsFilter = function (v) {\n        this.minorPlanetsFilter = v;\n        return v;\n    };\n    EngineState.prototype.get_planetOrbitsFilter = function () {\n        return this.planetOrbitsFilter;\n    };\n    EngineState.prototype.set_planetOrbitsFilter = function (v) {\n        this.planetOrbitsFilter = v;\n        return v;\n    };\n    EngineState.prototype.get_showAltAzGrid = function () {\n        return this.showAltAzGrid;\n    };\n    EngineState.prototype.set_showAltAzGrid = function (v) {\n        this.showAltAzGrid = v;\n        return v;\n    };\n    EngineState.prototype.get_showAltAzGridText = function () {\n        return this.showAltAzGridText;\n    };\n    EngineState.prototype.set_showAltAzGridText = function (v) {\n        this.showAltAzGridText = v;\n        return v;\n    };\n    EngineState.prototype.get_showConstellationBoundries = function () {\n        return this.showConstellationBoundries;\n    };\n    EngineState.prototype.set_showConstellationBoundries = function (v) {\n        this.showConstellationBoundries = v;\n        return v;\n    };\n    EngineState.prototype.get_showConstellationFigures = function () {\n        return this.showConstellationFigures;\n    };\n    EngineState.prototype.set_showConstellationFigures = function (v) {\n        this.showConstellationFigures = v;\n        return v;\n    };\n    EngineState.prototype.get_showConstellationLabels = function () {\n        return this.showConstellationLabels;\n    };\n    EngineState.prototype.set_showConstellationLabels = function (v) {\n        this.showConstellationLabels = v;\n        return v;\n    };\n    EngineState.prototype.get_showConstellationPictures = function () {\n        return this.showConstellationPictures;\n    };\n    EngineState.prototype.set_showConstellationPictures = function (v) {\n        this.showConstellationPictures = v;\n        return v;\n    };\n    EngineState.prototype.get_showConstellations = function () {\n        return this.showConstellations;\n    };\n    EngineState.prototype.set_showConstellations = function (v) {\n        this.showConstellations = v;\n        return v;\n    };\n    EngineState.prototype.get_showConstellationSelection = function () {\n        return this.showConstellationSelection;\n    };\n    EngineState.prototype.set_showConstellationSelection = function (v) {\n        this.showConstellationSelection = v;\n        return v;\n    };\n    EngineState.prototype.get_showCrosshairs = function () {\n        return this.showCrosshairs;\n    };\n    EngineState.prototype.set_showCrosshairs = function (v) {\n        this.showCrosshairs = v;\n        return v;\n    };\n    EngineState.prototype.get_showEarthSky = function () {\n        return this.showEarthSky;\n    };\n    EngineState.prototype.set_showEarthSky = function (v) {\n        this.showEarthSky = v;\n        return v;\n    };\n    EngineState.prototype.get_showEcliptic = function () {\n        return this.showEcliptic;\n    };\n    EngineState.prototype.set_showEcliptic = function (v) {\n        this.showEcliptic = v;\n        return v;\n    };\n    EngineState.prototype.get_showEclipticGrid = function () {\n        return this.showEclipticGrid;\n    };\n    EngineState.prototype.set_showEclipticGrid = function (v) {\n        this.showEclipticGrid = v;\n        return v;\n    };\n    EngineState.prototype.get_showEclipticGridText = function () {\n        return this.showEclipticGridText;\n    };\n    EngineState.prototype.set_showEclipticGridText = function (v) {\n        this.showEclipticGridText = v;\n        return v;\n    };\n    EngineState.prototype.get_showEclipticOverviewText = function () {\n        return this.showEclipticOverviewText;\n    };\n    EngineState.prototype.set_showEclipticOverviewText = function (v) {\n        this.showEclipticOverviewText = v;\n        return v;\n    };\n    EngineState.prototype.get_showElevationModel = function () {\n        return this.showElevationModel;\n    };\n    EngineState.prototype.set_showElevationModel = function (v) {\n        this.showElevationModel = v;\n        return v;\n    };\n    EngineState.prototype.get_showEquatorialGridText = function () {\n        return this.showEquatorialGridText;\n    };\n    EngineState.prototype.set_showEquatorialGridText = function (v) {\n        this.showEquatorialGridText = v;\n        return v;\n    };\n    EngineState.prototype.get_showGalacticGrid = function () {\n        return this.showGalacticGrid;\n    };\n    EngineState.prototype.set_showGalacticGrid = function (v) {\n        this.showGalacticGrid = v;\n        return v;\n    };\n    EngineState.prototype.get_showGalacticGridText = function () {\n        return this.showGalacticGridText;\n    };\n    EngineState.prototype.set_showGalacticGridText = function (v) {\n        this.showGalacticGridText = v;\n        return v;\n    };\n    EngineState.prototype.get_showGrid = function () {\n        return this.showGrid;\n    };\n    EngineState.prototype.set_showGrid = function (v) {\n        this.showGrid = v;\n        return v;\n    };\n    EngineState.prototype.get_showHorizon = function () {\n        return this.showHorizon;\n    };\n    EngineState.prototype.set_showHorizon = function (v) {\n        this.showHorizon = v;\n        return v;\n    };\n    EngineState.prototype.get_showISSModel = function () {\n        return this.showISSModel;\n    };\n    EngineState.prototype.set_showISSModel = function (v) {\n        this.showISSModel = v;\n        return v;\n    };\n    EngineState.prototype.get_showPrecessionChart = function () {\n        return this.showPrecessionChart;\n    };\n    EngineState.prototype.set_showPrecessionChart = function (v) {\n        this.showPrecessionChart = v;\n        return v;\n    };\n    EngineState.prototype.get_showSkyGrids = function () {\n        return this.showSkyGrids;\n    };\n    EngineState.prototype.set_showSkyGrids = function (v) {\n        this.showSkyGrids = v;\n        return v;\n    };\n    EngineState.prototype.get_showSkyOverlays = function () {\n        return this.showSkyOverlays;\n    };\n    EngineState.prototype.set_showSkyOverlays = function (v) {\n        this.showSkyOverlays = v;\n        return v;\n    };\n    EngineState.prototype.get_showSkyOverlaysIn3d = function () {\n        return this.showSkyOverlaysIn3d;\n    };\n    EngineState.prototype.set_showSkyOverlaysIn3d = function (v) {\n        this.showSkyOverlaysIn3d = v;\n        return v;\n    };\n    EngineState.prototype.get_showSkyNode = function () {\n        return this.showSkyNode;\n    };\n    EngineState.prototype.set_showSkyNode = function (v) {\n        this.showSkyNode = v;\n        return v;\n    };\n    EngineState.prototype.get_showSolarSystem = function () {\n        return this.showSolarSystem;\n    };\n    EngineState.prototype.set_showSolarSystem = function (v) {\n        this.showSolarSystem = v;\n        return v;\n    };\n    EngineState.prototype.get_smoothPan = function () {\n        return this.smoothPan;\n    };\n    EngineState.prototype.set_smoothPan = function (v) {\n        this.smoothPan = v;\n        return v;\n    };\n    EngineState.prototype.get_solarSystemCMB = function () {\n        return this.solarSystemCMB;\n    };\n    EngineState.prototype.set_solarSystemCMB = function (v) {\n        this.solarSystemCMB = v;\n        return v;\n    };\n    EngineState.prototype.get_solarSystemCosmos = function () {\n        return this.solarSystemCosmos;\n    };\n    EngineState.prototype.set_solarSystemCosmos = function (v) {\n        this.solarSystemCosmos = v;\n        return v;\n    };\n    EngineState.prototype.get_solarSystemLighting = function () {\n        return this.solarSystemLighting;\n    };\n    EngineState.prototype.set_solarSystemLighting = function (v) {\n        this.solarSystemLighting = v;\n        return v;\n    };\n    EngineState.prototype.get_solarSystemMilkyWay = function () {\n        return this.solarSystemMilkyWay;\n    };\n    EngineState.prototype.set_solarSystemMilkyWay = function (v) {\n        this.solarSystemMilkyWay = v;\n        return v;\n    };\n    EngineState.prototype.get_solarSystemMinorPlanets = function () {\n        return this.solarSystemMinorPlanets;\n    };\n    EngineState.prototype.set_solarSystemMinorPlanets = function (v) {\n        this.solarSystemMinorPlanets = v;\n        return v;\n    };\n    EngineState.prototype.get_solarSystemMultiRes = function () {\n        return this.solarSystemMultiRes;\n    };\n    EngineState.prototype.set_solarSystemMultiRes = function (v) {\n        this.solarSystemMultiRes = v;\n        return v;\n    };\n    EngineState.prototype.get_solarSystemOrbits = function () {\n        return this.solarSystemOrbits;\n    };\n    EngineState.prototype.set_solarSystemOrbits = function (v) {\n        this.solarSystemOrbits = v;\n        return v;\n    };\n    EngineState.prototype.get_solarSystemOverlays = function () {\n        return this.solarSystemOverlays;\n    };\n    EngineState.prototype.set_solarSystemOverlays = function (v) {\n        this.solarSystemOverlays = v;\n        return v;\n    };\n    EngineState.prototype.get_solarSystemPlanets = function () {\n        return this.solarSystemPlanets;\n    };\n    EngineState.prototype.set_solarSystemPlanets = function (v) {\n        this.solarSystemPlanets = v;\n        return v;\n    };\n    EngineState.prototype.get_solarSystemScale = function () {\n        return this.solarSystemScale;\n    };\n    EngineState.prototype.set_solarSystemScale = function (v) {\n        this.solarSystemScale = v;\n        return v;\n    };\n    EngineState.prototype.get_solarSystemStars = function () {\n        return this.solarSystemStars;\n    };\n    EngineState.prototype.set_solarSystemStars = function (v) {\n        this.solarSystemStars = v;\n        return v;\n    };\n    EngineState.prototype.get_solarSystemMinorOrbits = function () {\n        return this.solarSystemMinorOrbits;\n    };\n    EngineState.prototype.set_solarSystemMinorOrbits = function (v) {\n        this.solarSystemMinorOrbits = v;\n        return v;\n    };\n    return EngineState;\n}());\nexport { EngineState };\n//# sourceMappingURL=engine.js.map","// Copyright 2020-2021 the .NET Foundation\n// Licensed under the MIT License\nimport { __extends, __values } from \"tslib\";\nimport { annotationSettingNames, AnnotationState, copyAnnotationSettings, extractAnnotationSettings, isAnnotationSetting, } from './annotation';\nvar justPolyAnnotationSettingNames = [\n    \"fill\",\n    \"fillColor\",\n    \"lineColor\",\n    \"lineWidth\",\n];\n/** A list of the names of the available settings for `PolyAnnotation`\n * instances and their equivalents (things implementing\n * [[PolyAnnotationSettingsInterface]]).\n *\n * This is a superset of the names available for generic annotations.\n*/\nexport var polyAnnotationSettingNames = annotationSettingNames.concat(justPolyAnnotationSettingNames);\nvar polyAnnotationSettingTypeInfo = {\n    \"fill/boolean\": true,\n    \"fillColor/string\": true,\n    \"lineColor/string\": true,\n    \"lineWidth/number\": true,\n};\n/** Type guard function for `PolyAnnotationSetting`. */\nexport function isPolyAnnotationSetting(obj) {\n    var key = obj[0] + \"/\" + typeof obj[1];\n    return (key in polyAnnotationSettingTypeInfo) || isAnnotationSetting(obj);\n}\n/** Apply a setting to a generic `PolyAnnotation` or equivalent. */\nexport function applyPolyAnnotationSetting(poly, setting) {\n    var funcName = \"set_\" + setting[0];\n    var value = setting[1];\n    poly[funcName](value);\n}\n/** Extract all of the current settings of a `PolyAnnotation` or equivalent. */\nexport function extractPolyAnnotationSettings(poly) {\n    var e_1, _a;\n    var s = extractAnnotationSettings(poly);\n    try {\n        for (var justPolyAnnotationSettingNames_1 = __values(justPolyAnnotationSettingNames), justPolyAnnotationSettingNames_1_1 = justPolyAnnotationSettingNames_1.next(); !justPolyAnnotationSettingNames_1_1.done; justPolyAnnotationSettingNames_1_1 = justPolyAnnotationSettingNames_1.next()) {\n            var n = justPolyAnnotationSettingNames_1_1.value;\n            s.push([n, poly[\"get_\" + n]()]);\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (justPolyAnnotationSettingNames_1_1 && !justPolyAnnotationSettingNames_1_1.done && (_a = justPolyAnnotationSettingNames_1.return)) _a.call(justPolyAnnotationSettingNames_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return s;\n}\n/** Copy settings from one `PolyAnnotation`, or equivalent, to another. */\nexport function copyPolyAnnotationSettings(source, dest) {\n    var e_2, _a;\n    copyAnnotationSettings(source, dest);\n    try {\n        for (var justPolyAnnotationSettingNames_2 = __values(justPolyAnnotationSettingNames), justPolyAnnotationSettingNames_2_1 = justPolyAnnotationSettingNames_2.next(); !justPolyAnnotationSettingNames_2_1.done; justPolyAnnotationSettingNames_2_1 = justPolyAnnotationSettingNames_2.next()) {\n            var n = justPolyAnnotationSettingNames_2_1.value;\n            dest[\"set_\" + n](source[\"get_\" + n]());\n        }\n    }\n    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n    finally {\n        try {\n            if (justPolyAnnotationSettingNames_2_1 && !justPolyAnnotationSettingNames_2_1.done && (_a = justPolyAnnotationSettingNames_2.return)) _a.call(justPolyAnnotationSettingNames_2);\n        }\n        finally { if (e_2) throw e_2.error; }\n    }\n}\n/** A plain-old-data class implementing `PolyAnnotationSettingsInterface`. */\nvar PolyAnnotationState = /** @class */ (function (_super) {\n    __extends(PolyAnnotationState, _super);\n    function PolyAnnotationState(source) {\n        var _this = _super.call(this, source) || this;\n        copyPolyAnnotationSettings(source, _this);\n        return _this;\n    }\n    PolyAnnotationState.prototype.get_fill = function () {\n        return this.fill;\n    };\n    PolyAnnotationState.prototype.set_fill = function (v) {\n        this.fill = v;\n        return v;\n    };\n    PolyAnnotationState.prototype.get_fillColor = function () {\n        return this.fillColor;\n    };\n    PolyAnnotationState.prototype.set_fillColor = function (v) {\n        this.fillColor = v;\n        return v;\n    };\n    PolyAnnotationState.prototype.get_lineColor = function () {\n        return this.lineColor;\n    };\n    PolyAnnotationState.prototype.set_lineColor = function (v) {\n        this.lineColor = v;\n        return v;\n    };\n    PolyAnnotationState.prototype.get_lineWidth = function () {\n        return this.lineWidth;\n    };\n    PolyAnnotationState.prototype.set_lineWidth = function (v) {\n        this.lineWidth = v;\n        return v;\n    };\n    return PolyAnnotationState;\n}(AnnotationState));\nexport { PolyAnnotationState };\n//# sourceMappingURL=polyannotation.js.map","// Copyright 2020-2021 the .NET Foundation\n// Licensed under the MIT License\nimport { __extends, __values } from \"tslib\";\nimport { annotationSettingNames, AnnotationState, copyAnnotationSettings, extractAnnotationSettings, isAnnotationSetting, } from './annotation';\nvar justPolyLineAnnotationSettingNames = [\n    \"lineColor\",\n    \"lineWidth\",\n];\n/** A list of the names of the available settings for `PolyLineAnnotation`\n * instances and their equivalents (things implementing\n * [[PolyLineAnnotationSettingsInterface]]).\n *\n * This is a superset of the names available for generic annotations.\n*/\nexport var polyLineAnnotationSettingNames = annotationSettingNames.concat(justPolyLineAnnotationSettingNames);\nvar polyLineAnnotationSettingTypeInfo = {\n    \"lineColor/string\": true,\n    \"lineWidth/number\": true,\n};\n/** Type guard function for `PolyLineAnnotationSetting`. */\nexport function isPolyLineAnnotationSetting(obj) {\n    var key = obj[0] + \"/\" + typeof obj[1];\n    return (key in polyLineAnnotationSettingTypeInfo) || isAnnotationSetting(obj);\n}\n/** Apply a setting to a generic `PolyLineAnnotation` or equivalent. */\nexport function applyPolyLineAnnotationSetting(poly, setting) {\n    var funcName = \"set_\" + setting[0];\n    var value = setting[1];\n    poly[funcName](value);\n}\n/** Extract all of the current settings of a `PolyLineAnnotation` or equivalent. */\nexport function extractPolyLineAnnotationSettings(poly) {\n    var e_1, _a;\n    var s = extractAnnotationSettings(poly);\n    try {\n        for (var justPolyLineAnnotationSettingNames_1 = __values(justPolyLineAnnotationSettingNames), justPolyLineAnnotationSettingNames_1_1 = justPolyLineAnnotationSettingNames_1.next(); !justPolyLineAnnotationSettingNames_1_1.done; justPolyLineAnnotationSettingNames_1_1 = justPolyLineAnnotationSettingNames_1.next()) {\n            var n = justPolyLineAnnotationSettingNames_1_1.value;\n            s.push([n, poly[\"get_\" + n]()]);\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (justPolyLineAnnotationSettingNames_1_1 && !justPolyLineAnnotationSettingNames_1_1.done && (_a = justPolyLineAnnotationSettingNames_1.return)) _a.call(justPolyLineAnnotationSettingNames_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return s;\n}\n/** Copy settings from one `PolyLineAnnotation`, or equivalent, to another. */\nexport function copyPolyLineAnnotationSettings(source, dest) {\n    var e_2, _a;\n    copyAnnotationSettings(source, dest);\n    try {\n        for (var justPolyLineAnnotationSettingNames_2 = __values(justPolyLineAnnotationSettingNames), justPolyLineAnnotationSettingNames_2_1 = justPolyLineAnnotationSettingNames_2.next(); !justPolyLineAnnotationSettingNames_2_1.done; justPolyLineAnnotationSettingNames_2_1 = justPolyLineAnnotationSettingNames_2.next()) {\n            var n = justPolyLineAnnotationSettingNames_2_1.value;\n            dest[\"set_\" + n](source[\"get_\" + n]());\n        }\n    }\n    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n    finally {\n        try {\n            if (justPolyLineAnnotationSettingNames_2_1 && !justPolyLineAnnotationSettingNames_2_1.done && (_a = justPolyLineAnnotationSettingNames_2.return)) _a.call(justPolyLineAnnotationSettingNames_2);\n        }\n        finally { if (e_2) throw e_2.error; }\n    }\n}\n/** A plain-old-data class implementing `PolyLineAnnotationSettingsInterface`. */\nvar PolyLineAnnotationState = /** @class */ (function (_super) {\n    __extends(PolyLineAnnotationState, _super);\n    function PolyLineAnnotationState(source) {\n        var _this = _super.call(this, source) || this;\n        copyPolyLineAnnotationSettings(source, _this);\n        return _this;\n    }\n    PolyLineAnnotationState.prototype.get_lineColor = function () {\n        return this.lineColor;\n    };\n    PolyLineAnnotationState.prototype.set_lineColor = function (v) {\n        this.lineColor = v;\n        return v;\n    };\n    PolyLineAnnotationState.prototype.get_lineWidth = function () {\n        return this.lineWidth;\n    };\n    PolyLineAnnotationState.prototype.set_lineWidth = function (v) {\n        this.lineWidth = v;\n        return v;\n    };\n    return PolyLineAnnotationState;\n}(AnnotationState));\nexport { PolyLineAnnotationState };\n//# sourceMappingURL=polylineannotation.js.map","// Copyright 2020-2021 the .NET Foundation\n// Licensed under the MIT License\nimport { __extends, __values } from \"tslib\";\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/** Helpers for handling \"spreadsheet\" layer settings. */\nimport { isBaseVoTableLayerSetting, } from \"@wwtelescope/engine-types\";\nimport { copyLayerSettings, extractLayerSettings, isLayerSetting, layerSettingNames, LayerState, } from \"./layer\";\nvar justVoTableLayerSettingNames = [\n    \"altColumn\",\n    \"altType\",\n    \"altUnit\",\n    \"autoUpdate\",\n    \"beginRange\",\n    \"cartesianCustomScale\",\n    \"cartesianScale\",\n    \"colorMapColumn\",\n    \"coordinatesType\",\n    \"dataSourceUrl\",\n    \"decay\",\n    \"dynamicData\",\n    \"endDateColumn\",\n    \"endRange\",\n    \"hyperlinkColumn\",\n    \"hyperlinkFormat\",\n    \"latColumn\",\n    \"lngColumn\",\n    \"markerColumn\",\n    \"markerIndex\",\n    \"markerScale\",\n    \"nameColumn\",\n    \"plotType\",\n    \"pointScaleType\",\n    \"raUnits\",\n    \"scaleFactor\",\n    \"showFarSide\",\n    \"sizeColumn\",\n    \"startDateColumn\",\n    \"timeSeries\",\n    \"xAxisColumn\",\n    \"xAxisReverse\",\n    \"yAxisColumn\",\n    \"yAxisReverse\",\n    \"zAxisColumn\",\n    \"zAxisReverse\",\n];\n/** A list of the names of the available settings for `VoTableLayer`\n * instances and their equivalents (things implementing\n * [[VoTableLayerSettingsInterface]]).\n *\n * This is a superset of the names available for generic layers.\n*/\nexport var voTableLayerSettingNames = layerSettingNames.concat(justVoTableLayerSettingNames);\n/** Type guard function for `VoTableLayerSetting`. */\nexport function isVoTableLayerSetting(obj) {\n    // No special settings specific to non-base VoTableLayerSetting.\n    return isLayerSetting(obj) || isBaseVoTableLayerSetting(obj);\n}\n/** Apply a setting to a `VoTableLayer` or equivalent. */\nexport function applyVoTableLayerSetting(layer, setting) {\n    var funcName = \"set_\" + setting[0];\n    var value = setting[1]; // eslint-disable-line @typescript-eslint/no-explicit-any\n    layer[funcName](value); // eslint-disable-line @typescript-eslint/no-explicit-any\n}\n/** Extract all of the current settings of a `VoTableLayer` or equivalent. */\nexport function extractVoTableLayerSettings(layer) {\n    var e_1, _a;\n    var s = extractLayerSettings(layer);\n    try {\n        for (var justVoTableLayerSettingNames_1 = __values(justVoTableLayerSettingNames), justVoTableLayerSettingNames_1_1 = justVoTableLayerSettingNames_1.next(); !justVoTableLayerSettingNames_1_1.done; justVoTableLayerSettingNames_1_1 = justVoTableLayerSettingNames_1.next()) {\n            var n = justVoTableLayerSettingNames_1_1.value;\n            s.push([n, layer[\"get_\" + n]()]);\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (justVoTableLayerSettingNames_1_1 && !justVoTableLayerSettingNames_1_1.done && (_a = justVoTableLayerSettingNames_1.return)) _a.call(justVoTableLayerSettingNames_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return s;\n}\n/** Copy settings from one `VoTableLayer`, or equivalent, to another. */\nexport function copyVoTableLayerSettings(source, dest) {\n    var e_2, _a;\n    copyLayerSettings(source, dest);\n    try {\n        for (var justVoTableLayerSettingNames_2 = __values(justVoTableLayerSettingNames), justVoTableLayerSettingNames_2_1 = justVoTableLayerSettingNames_2.next(); !justVoTableLayerSettingNames_2_1.done; justVoTableLayerSettingNames_2_1 = justVoTableLayerSettingNames_2.next()) {\n            var n = justVoTableLayerSettingNames_2_1.value;\n            dest[\"set_\" + n](source[\"get_\" + n]());\n        }\n    }\n    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n    finally {\n        try {\n            if (justVoTableLayerSettingNames_2_1 && !justVoTableLayerSettingNames_2_1.done && (_a = justVoTableLayerSettingNames_2.return)) _a.call(justVoTableLayerSettingNames_2);\n        }\n        finally { if (e_2) throw e_2.error; }\n    }\n}\n/** A plain-old-data class implementing `VoTableLayerSettingsInterface`. */\nvar VoTableLayerState = /** @class */ (function (_super) {\n    __extends(VoTableLayerState, _super);\n    function VoTableLayerState(source) {\n        var _this = \n        // Here we redundantly copy the generic Layer settings, but TypeScript\n        // requires the super() call. Oh well.\n        _super.call(this, source) || this;\n        copyVoTableLayerSettings(source, _this);\n        return _this;\n    }\n    VoTableLayerState.prototype.get_altColumn = function () {\n        return this.altColumn;\n    };\n    VoTableLayerState.prototype.set_altColumn = function (v) {\n        this.altColumn = v;\n        return v;\n    };\n    VoTableLayerState.prototype.get_altType = function () {\n        return this.altType;\n    };\n    VoTableLayerState.prototype.set_altType = function (v) {\n        this.altType = v;\n        return v;\n    };\n    VoTableLayerState.prototype.get_altUnit = function () {\n        return this.altUnit;\n    };\n    VoTableLayerState.prototype.set_altUnit = function (v) {\n        this.altUnit = v;\n        return v;\n    };\n    VoTableLayerState.prototype.get_autoUpdate = function () {\n        return this.autoUpdate;\n    };\n    VoTableLayerState.prototype.set_autoUpdate = function (v) {\n        this.autoUpdate = v;\n        return v;\n    };\n    VoTableLayerState.prototype.get_beginRange = function () {\n        return this.beginRange;\n    };\n    VoTableLayerState.prototype.set_beginRange = function (v) {\n        this.beginRange = v;\n        return v;\n    };\n    VoTableLayerState.prototype.get_cartesianCustomScale = function () {\n        return this.cartesianCustomScale;\n    };\n    VoTableLayerState.prototype.set_cartesianCustomScale = function (v) {\n        this.cartesianCustomScale = v;\n        return v;\n    };\n    VoTableLayerState.prototype.get_cartesianScale = function () {\n        return this.cartesianScale;\n    };\n    VoTableLayerState.prototype.set_cartesianScale = function (v) {\n        this.cartesianScale = v;\n        return v;\n    };\n    VoTableLayerState.prototype.get_colorMapColumn = function () {\n        return this.colorMapColumn;\n    };\n    VoTableLayerState.prototype.set_colorMapColumn = function (v) {\n        this.colorMapColumn = v;\n        return v;\n    };\n    VoTableLayerState.prototype.get_coordinatesType = function () {\n        return this.coordinatesType;\n    };\n    VoTableLayerState.prototype.set_coordinatesType = function (v) {\n        this.coordinatesType = v;\n        return v;\n    };\n    VoTableLayerState.prototype.get_dataSourceUrl = function () {\n        return this.dataSourceUrl;\n    };\n    VoTableLayerState.prototype.set_dataSourceUrl = function (v) {\n        this.dataSourceUrl = v;\n        return v;\n    };\n    VoTableLayerState.prototype.get_decay = function () {\n        return this.decay;\n    };\n    VoTableLayerState.prototype.set_decay = function (v) {\n        this.decay = v;\n        return v;\n    };\n    VoTableLayerState.prototype.get_dynamicData = function () {\n        return this.dynamicData;\n    };\n    VoTableLayerState.prototype.set_dynamicData = function (v) {\n        this.dynamicData = v;\n        return v;\n    };\n    VoTableLayerState.prototype.get_endDateColumn = function () {\n        return this.endDateColumn;\n    };\n    VoTableLayerState.prototype.set_endDateColumn = function (v) {\n        this.endDateColumn = v;\n        return v;\n    };\n    VoTableLayerState.prototype.get_endRange = function () {\n        return this.endRange;\n    };\n    VoTableLayerState.prototype.set_endRange = function (v) {\n        this.endRange = v;\n        return v;\n    };\n    VoTableLayerState.prototype.get_hyperlinkColumn = function () {\n        return this.hyperlinkColumn;\n    };\n    VoTableLayerState.prototype.set_hyperlinkColumn = function (v) {\n        this.hyperlinkColumn = v;\n        return v;\n    };\n    VoTableLayerState.prototype.get_hyperlinkFormat = function () {\n        return this.hyperlinkFormat;\n    };\n    VoTableLayerState.prototype.set_hyperlinkFormat = function (v) {\n        this.hyperlinkFormat = v;\n        return v;\n    };\n    VoTableLayerState.prototype.get_latColumn = function () {\n        return this.latColumn;\n    };\n    VoTableLayerState.prototype.set_latColumn = function (v) {\n        this.latColumn = v;\n        return v;\n    };\n    VoTableLayerState.prototype.get_lngColumn = function () {\n        return this.lngColumn;\n    };\n    VoTableLayerState.prototype.set_lngColumn = function (v) {\n        this.lngColumn = v;\n        return v;\n    };\n    VoTableLayerState.prototype.get_markerColumn = function () {\n        return this.markerColumn;\n    };\n    VoTableLayerState.prototype.set_markerColumn = function (v) {\n        this.markerColumn = v;\n        return v;\n    };\n    VoTableLayerState.prototype.get_markerIndex = function () {\n        return this.markerIndex;\n    };\n    VoTableLayerState.prototype.set_markerIndex = function (v) {\n        this.markerIndex = v;\n        return v;\n    };\n    VoTableLayerState.prototype.get_markerScale = function () {\n        return this.markerScale;\n    };\n    VoTableLayerState.prototype.set_markerScale = function (v) {\n        this.markerScale = v;\n        return v;\n    };\n    VoTableLayerState.prototype.get_nameColumn = function () {\n        return this.nameColumn;\n    };\n    VoTableLayerState.prototype.set_nameColumn = function (v) {\n        this.nameColumn = v;\n        return v;\n    };\n    VoTableLayerState.prototype.get_plotType = function () {\n        return this.plotType;\n    };\n    VoTableLayerState.prototype.set_plotType = function (v) {\n        this.plotType = v;\n        return v;\n    };\n    VoTableLayerState.prototype.get_pointScaleType = function () {\n        return this.pointScaleType;\n    };\n    VoTableLayerState.prototype.set_pointScaleType = function (v) {\n        this.pointScaleType = v;\n        return v;\n    };\n    VoTableLayerState.prototype.get_raUnits = function () {\n        return this.raUnits;\n    };\n    VoTableLayerState.prototype.set_raUnits = function (v) {\n        this.raUnits = v;\n        return v;\n    };\n    VoTableLayerState.prototype.get_scaleFactor = function () {\n        return this.scaleFactor;\n    };\n    VoTableLayerState.prototype.set_scaleFactor = function (v) {\n        this.scaleFactor = v;\n        return v;\n    };\n    VoTableLayerState.prototype.get_showFarSide = function () {\n        return this.showFarSide;\n    };\n    VoTableLayerState.prototype.set_showFarSide = function (v) {\n        this.showFarSide = v;\n        return v;\n    };\n    VoTableLayerState.prototype.get_sizeColumn = function () {\n        return this.sizeColumn;\n    };\n    VoTableLayerState.prototype.set_sizeColumn = function (v) {\n        this.sizeColumn = v;\n        return v;\n    };\n    VoTableLayerState.prototype.get_startDateColumn = function () {\n        return this.startDateColumn;\n    };\n    VoTableLayerState.prototype.set_startDateColumn = function (v) {\n        this.startDateColumn = v;\n        return v;\n    };\n    VoTableLayerState.prototype.get_timeSeries = function () {\n        return this.timeSeries;\n    };\n    VoTableLayerState.prototype.set_timeSeries = function (v) {\n        this.timeSeries = v;\n        return v;\n    };\n    VoTableLayerState.prototype.get_xAxisColumn = function () {\n        return this.xAxisColumn;\n    };\n    VoTableLayerState.prototype.set_xAxisColumn = function (v) {\n        this.xAxisColumn = v;\n        return v;\n    };\n    VoTableLayerState.prototype.get_xAxisReverse = function () {\n        return this.xAxisReverse;\n    };\n    VoTableLayerState.prototype.set_xAxisReverse = function (v) {\n        this.xAxisReverse = v;\n        return v;\n    };\n    VoTableLayerState.prototype.get_yAxisColumn = function () {\n        return this.yAxisColumn;\n    };\n    VoTableLayerState.prototype.set_yAxisColumn = function (v) {\n        this.yAxisColumn = v;\n        return v;\n    };\n    VoTableLayerState.prototype.get_yAxisReverse = function () {\n        return this.yAxisReverse;\n    };\n    VoTableLayerState.prototype.set_yAxisReverse = function (v) {\n        this.yAxisReverse = v;\n        return v;\n    };\n    VoTableLayerState.prototype.get_zAxisColumn = function () {\n        return this.zAxisColumn;\n    };\n    VoTableLayerState.prototype.set_zAxisColumn = function (v) {\n        this.zAxisColumn = v;\n        return v;\n    };\n    VoTableLayerState.prototype.get_zAxisReverse = function () {\n        return this.zAxisReverse;\n    };\n    VoTableLayerState.prototype.set_zAxisReverse = function (v) {\n        this.zAxisReverse = v;\n        return v;\n    };\n    return VoTableLayerState;\n}(LayerState));\nexport { VoTableLayerState };\n//# sourceMappingURL=votablelayer.js.map","// Copyright 2020-2023 the .NET Foundation\n// Licensed under the MIT License\nimport { __awaiter, __generator, __values } from \"tslib\";\nimport { D2H, R2D, R2H } from \"@wwtelescope/astro\";\nimport { ImageSetType, } from \"@wwtelescope/engine-types\";\nimport { ImageSetLayer, LayerManager, Place, TourPlayer, Wtml, WWTControl, WWTControlBuilder, SpaceTimeController, SpreadSheetLayer, } from \"@wwtelescope/engine\";\nimport { applyImageSetLayerSetting, } from \"./imagesetlayer\";\nimport { applySpreadSheetLayerSetting, } from \"./spreadsheetlayer\";\n// Settings-related re-exports\nexport { applyAnnotationSetting, copyAnnotationSettings, extractAnnotationSettings, isAnnotationSetting, AnnotationState, } from \"./annotation\";\nexport { applyCircleAnnotationSetting, copyCircleAnnotationSettings, extractCircleAnnotationSettings, isCircleAnnotationSetting, CircleAnnotationState, } from \"./circleannotation\";\nexport { applyEngineSetting, copyEngineSettings, extractEngineSettings, isEngineSetting, EngineState, } from \"./engine\";\nexport { applyImageSetLayerSetting, copyImageSetLayerSettings, extractImageSetLayerSettings, isImageSetLayerSetting, ImageSetLayerState, } from \"./imagesetlayer\";\nexport { applyLayerSetting, copyLayerSettings, extractLayerSettings, isLayerSetting, LayerState, } from \"./layer\";\nexport { applyPolyAnnotationSetting, copyPolyAnnotationSettings, extractPolyAnnotationSettings, isPolyAnnotationSetting, PolyAnnotationState, } from \"./polyannotation\";\nexport { applyPolyLineAnnotationSetting, copyPolyLineAnnotationSettings, extractPolyLineAnnotationSettings, isPolyLineAnnotationSetting, PolyLineAnnotationState, } from \"./polylineannotation\";\nexport { applySpreadSheetLayerSetting, copySpreadSheetLayerSettings, extractSpreadSheetLayerSettings, isSpreadSheetLayerSetting, SpreadSheetLayerState, } from \"./spreadsheetlayer\";\nexport { applyVoTableLayerSetting, copyVoTableLayerSettings, extractVoTableLayerSettings, isVoTableLayerSetting, VoTableLayerState, } from \"./votablelayer\";\nvar SavedPromise = /** @class */ (function () {\n    function SavedPromise(payload, resolve, reject) {\n        this.payload = payload;\n        this.resolve = resolve;\n        this.reject = reject;\n    }\n    return SavedPromise;\n}());\nvar WWTInstance = /** @class */ (function () {\n    /** Create a WWT control, attaching it to a DOM element.\n     *\n     * @param options Options to apply to the control.\n     *\n     * Compared to the underlying library, this class provides a more JavaScript-y\n     * API.\n     */\n    function WWTInstance(options) {\n        if (options === void 0) { options = {}; }\n        var _this = this;\n        // Ready promises\n        this.readyPromises = [];\n        this.readyFired = false;\n        // Arrival promises\n        this.arrivePromises = [];\n        this.arriveSeqnum = 0;\n        // Collection-loaded promises. To simplify the handling, we never load the\n        // same URL more than once. Otherwise, all of the timing issues about multiple\n        // requests for the same URL get gnarly to handle. And as far as the engine is\n        // concerned, collection loads are idempotent.\n        this.collectionLoadedPromises = [];\n        this.collectionRequests = new Map();\n        this.tourReadyPromises = [];\n        this.tourReadySeqnum = 0;\n        /** A callback to be invoked when a tour completes playing. */\n        this.tourEndedCallback = null;\n        var builder = new WWTControlBuilder(options.elId || \"wwt\");\n        if (options.startInternalRenderLoop !== undefined) {\n            builder.startRenderLoop(options.startInternalRenderLoop);\n        }\n        if (options.freestandingAssetBaseurl !== undefined) {\n            builder.freestandingMode(options.freestandingAssetBaseurl);\n        }\n        if (options.startLatDeg !== undefined && options.startLngDeg !== undefined) {\n            var zoom = options.startZoomDeg || 360;\n            builder.initialView(options.startLatDeg, options.startLngDeg, zoom);\n        }\n        if (options.startMode !== undefined) {\n            builder.initialMode(options.startMode);\n        }\n        // We pretend that these objects aren't all singletons. One day.\n        this.si = builder.create();\n        this.ctl = WWTControl.singleton;\n        this.lm = LayerManager;\n        this.stc = SpaceTimeController;\n        // Override some defaults\n        this.applySetting([\"showConstellationBoundries\", false]);\n        this.applySetting([\"showConstellationFigures\", false]);\n        this.applySetting([\"showConstellationSelection\", false]);\n        this.applySetting([\"showCrosshairs\", false]);\n        // Ready promise initialization:\n        this.si.add_ready(function (_si) {\n            var e_1, _a;\n            try {\n                for (var _b = __values(_this.readyPromises), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var p = _c.value;\n                    p.resolve();\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n            _this.readyFired = true;\n            _this.readyPromises = [];\n        });\n        // Arrival promise initialization:\n        this.si.add_arrived(function (_si, _args) {\n            var e_2, _a;\n            try {\n                for (var _b = __values(_this.arrivePromises), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var p = _c.value;\n                    if (p.payload < _this.arriveSeqnum) {\n                        p.reject(\"superseded\");\n                    }\n                    else {\n                        p.resolve();\n                    }\n                }\n            }\n            catch (e_2_1) { e_2 = { error: e_2_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_2) throw e_2.error; }\n            }\n            _this.arrivePromises = [];\n        });\n        // TourReady promise init:\n        this.si.add_tourReady(function (_si) {\n            var e_3, _a;\n            try {\n                for (var _b = __values(_this.tourReadyPromises), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var p = _c.value;\n                    if (p.payload < _this.tourReadySeqnum) {\n                        p.reject(\"superseded\");\n                    }\n                    else {\n                        p.resolve();\n                    }\n                }\n            }\n            catch (e_3_1) { e_3 = { error: e_3_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_3) throw e_3.error; }\n            }\n            _this.tourReadyPromises = [];\n        });\n        // TourEnded event init:\n        TourPlayer.add_tourEnded(function (_tpclass) {\n            var tp = _this.getActiveTourPlayer();\n            if (tp !== null && _this.tourEndedCallback !== null) {\n                _this.tourEndedCallback(tp);\n            }\n        });\n    }\n    WWTInstance.prototype.waitForReady = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                return [2 /*return*/, new Promise(function (resolve, reject) {\n                        if (_this.readyFired) {\n                            resolve();\n                        }\n                        else {\n                            _this.readyPromises.push(new SavedPromise(null, resolve, reject));\n                        }\n                    })];\n            });\n        });\n    };\n    WWTInstance.prototype.makeArrivePromise = function (instantResolve) {\n        var e_4, _a;\n        var _this = this;\n        this.arriveSeqnum += 1;\n        var seq = this.arriveSeqnum;\n        try {\n            for (var _b = __values(this.arrivePromises), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var p = _c.value;\n                p.reject(\"superseded\");\n            }\n        }\n        catch (e_4_1) { e_4 = { error: e_4_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_4) throw e_4.error; }\n        }\n        this.arrivePromises = [];\n        return new Promise(function (resolve, reject) {\n            if (_this.arriveSeqnum > seq) {\n                reject(\"superseded\");\n            }\n            else if (instantResolve) {\n                resolve();\n            }\n            else {\n                _this.arrivePromises.push(new SavedPromise(seq, resolve, reject));\n            }\n        });\n    };\n    /** Navigate the camera to the specified position, asynchronously.\n     *\n     * This wraps the underlying engine function of the same name, but homogenizing some\n     * of the angular arguments to use radians.\n     *\n     * @param raRad The RA to seek to, in radians\n     * @param decRad The declination to seek to, in radians\n     * @param zoomDeg The zoom setting, in *degrees*\n     * @param instant Whether to snap the camera instantly, or pan it\n     * @param rollRad If specified, the roll of the target camera position, in radians\n     * @returns A void promise that resolves when the camera arrives at the target position.\n     */\n    WWTInstance.prototype.gotoRADecZoom = function (raRad, decRad, zoomDeg, instant, rollRad) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                this.ctl.gotoRADecZoom(raRad * R2H, decRad * R2D, zoomDeg, instant, rollRad);\n                return [2 /*return*/, this.makeArrivePromise(instant)];\n            });\n        });\n    };\n    /** Returns how long moving to a given position will take, in seconds.\n     *\n     * This wraps the underlying engine function of the same name, but homogenizing some\n     * of the angular arguments to use radians.\n     *\n     * @param raRad The RA of the target position, in radians\n     * @param decRad The declination of the target position, in radians\n     * @param zoomDeg The zoom setting, in *degrees*\n     * @param rollRad If specified, the roll of the target camera position, in radians\n     * @returns The amount of time, in seconds, that moving to the given position would take.\n     */\n    WWTInstance.prototype.timeToRADecZoom = function (raRad, decRad, zoomDeg, rollRad) {\n        var time = this.ctl.timeToRADecZoom(raRad * R2H, decRad * R2D, zoomDeg, rollRad);\n        return time;\n    };\n    /** Command the view to show a Place.\n     *\n     * @param options The options for the goto command.\n     */\n    WWTInstance.prototype.gotoTarget = function (options) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                this.ctl.gotoTarget(options.place, options.noZoom, options.instant, options.trackObject);\n                return [2 /*return*/, this.makeArrivePromise(options.instant)];\n            });\n        });\n    };\n    /** Add an imageset directly into the engine's database.\n     *\n     * If an imageset with the same URL has already been loaded, this is a no-op.\n     *\n     * @param imgset The imageset to add\n     * @returns Either the input argument, if it was added to the engine's\n     *   database, or the pre-existing imageset. The pre-existing imageset will\n     *   have the same URL but might differ in other respects, such as its name.\n     */\n    WWTInstance.prototype.addImagesetToRepository = function (imgset) {\n        return WWTControl.addImageSetToRepository(imgset);\n    };\n    /** Load a WTML collection and the imagesets that it contains.\n    *\n    * This function triggers a download of the specified URL, which should return\n    * an XML document in the [WTML collection][wtml] format. Any `ImageSet`\n    * entries in the collection, or `Place` entries containing image sets, will\n    * be added to the WWT instances list of available imagery. Subsequent calls\n    * to functions like [[setForegroundImageByName]] will be able to locate the\n    * new imagesets and display them to the user.\n    *\n    * Each unique URL is only requested once. Once a given URL has been\n    * successfully loaded, the promise returned by additional calls will resolve\n    * immediately. URL uniqueness is tested with simple string equality, so if\n    * you really want to load the same URL more than once you could add a\n    * fragment specifier.\n    *\n    * If the URL is not accessible due to CORS restrictions, the request will\n    * automatically be routed through the WWTs CORS proxying service.\n    *\n    * [wtml]: https://docs.worldwidetelescope.org/data-guide/1/data-file-formats/collections/\n    *\n    * @param url: The URL of the WTML collection file to load.\n    * @param loadChildFolders When true, this method will recursively\n    * download and unpack the content of all Folders contained in the WTML file.\n    * @returns: A promise that resolves to an initialized Folder object.\n    */\n    WWTInstance.prototype.loadImageCollection = function (url, loadChildFolders) {\n        return __awaiter(this, void 0, void 0, function () {\n            var curState, holder_1;\n            var _this = this;\n            return __generator(this, function (_a) {\n                curState = this.collectionRequests.get(url);\n                // If we've already loaded the folder, insta-resolve to it.\n                if (curState !== undefined && curState !== null) {\n                    return [2 /*return*/, Promise.resolve(curState)];\n                }\n                // If we haven't even issued the request, do so.\n                if (curState === undefined) {\n                    // Mark this URL as having an in-flight request.\n                    this.collectionRequests.set(url, null);\n                    holder_1 = { f: null };\n                    if (loadChildFolders === undefined) {\n                        loadChildFolders = false;\n                    }\n                    holder_1.f = Wtml.getWtmlFile(url, function () {\n                        // The folder at this URL is now fully loaded.\n                        var f = holder_1.f;\n                        _this.collectionRequests.set(url, f);\n                        _this.collectionLoadedPromises = _this.collectionLoadedPromises.filter(function (p) {\n                            if (p.payload == url) {\n                                p.resolve(f);\n                                return false;\n                            }\n                            // Don't filter out promises for other URLs.\n                            return true;\n                        });\n                    }, loadChildFolders);\n                }\n                return [2 /*return*/, new Promise(function (resolve, reject) {\n                        var curState = _this.collectionRequests.get(url);\n                        // By the time this promise callback is called, maybe the Folder has fully\n                        // loaded?\n                        if (curState !== undefined && curState !== null) {\n                            resolve(curState);\n                        }\n                        else {\n                            // If not, queue ourselves up to be resolved when the data finally come\n                            // through.\n                            _this.collectionLoadedPromises.push(new SavedPromise(url, resolve, reject));\n                        }\n                    })];\n            });\n        });\n    };\n    // Layers\n    /** Load an image set or a remote FITS file into a data layer and display it.\n     *\n     * The FITS file must be downloaded and processed, so this API is\n     * asynchronous, and is not appropriate for files that might be large.\n     *\n     * The image set must have previously been created with [[loadImageCollection]]\n     */\n    WWTInstance.prototype.addImageSetLayer = function (options) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                return [2 /*return*/, new Promise(function (resolve, _reject) {\n                        _this.si.addImageSetLayer(options.url, options.mode, options.name, options.goto, function (layer) {\n                            resolve(layer);\n                        });\n                    })];\n            });\n        });\n    };\n    /** Change the ImageSetLayer position in the layer stack. */\n    WWTInstance.prototype.setImageSetLayerOrder = function (options) {\n        this.si.setImageSetLayerOrder(options.id, options.order);\n    };\n    /** Change the \"stretch\" settings of a FITS image layer. */\n    WWTInstance.prototype.stretchFitsLayer = function (options) {\n        var layer = this.lm.get_layerList()[options.id];\n        if (layer && layer instanceof ImageSetLayer) {\n            layer.setImageScalePhysical(options.stretch, options.vmin, options.vmax);\n            // This is kind of random, but follows the pywwt API implementation.\n            var fits = layer.getFitsImage();\n            if (fits !== null) {\n                layer.get_imageSet().get_fitsProperties().transparentBlack = false;\n            }\n        }\n    };\n    /** Change the colormap settings of a FITS image layer. */\n    WWTInstance.prototype.setFitsLayerColormap = function (options) {\n        var layer = this.lm.get_layerList()[options.id];\n        if (layer && layer instanceof ImageSetLayer) {\n            layer.set_colorMapperName(options.name);\n        }\n    };\n    /** Apply settings to a FITS image layer. */\n    WWTInstance.prototype.applyFitsLayerSettings = function (options) {\n        var e_5, _a;\n        var layer = this.lm.get_layerList()[options.id];\n        if (layer && layer instanceof ImageSetLayer) {\n            try {\n                for (var _b = __values(options.settings), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var setting = _c.value;\n                    applyImageSetLayerSetting(layer, setting);\n                }\n            }\n            catch (e_5_1) { e_5 = { error: e_5_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_5) throw e_5.error; }\n            }\n        }\n    };\n    /** Update the data within a tabular data layer. */\n    WWTInstance.prototype.updateTableLayer = function (options) {\n        var layer = this.lm.get_layerList()[options.id];\n        if (layer && layer instanceof SpreadSheetLayer) {\n            layer.updateData(options.dataCsv, true, true, true);\n        }\n    };\n    /** Apply settings to a tabular data layer. */\n    WWTInstance.prototype.applyTableLayerSettings = function (options) {\n        var e_6, _a;\n        var layer = this.lm.get_layerList()[options.id];\n        if (layer && layer instanceof SpreadSheetLayer) {\n            try {\n                for (var _b = __values(options.settings), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var setting = _c.value;\n                    applySpreadSheetLayerSetting(layer, setting);\n                }\n            }\n            catch (e_6_1) { e_6 = { error: e_6_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_6) throw e_6.error; }\n            }\n        }\n    };\n    /** Add a new HiPS catalog to the view, by name.\n     *\n     * The promise will resolve when the catalog metadata have fully downloaded.\n     * It will reject if the name is unrecognized.\n     *\n     * HiPS catalogs are something of an awkward hybrid. They are managed like\n     * imagesets, but rendered like spreadsheet layers. To get the\n     * `SpreadSheetLayer` associated with a HiPS catalog imageset, access:\n     *\n     * ```\n     * imgset.get_hipsProperties().get_catalogSpreadSheetLayer()\n     * ```\n     *\n     * You can use methods like [[applyTableLayerSettings]] to modify the settings\n     * of this layer by extracting its ID string with `layer.id.toString()`.\n     *\n     * The contents of this catalog will update dynamically as the user navigates\n     * the WWT view.\n     */\n    WWTInstance.prototype.addCatalogHipsByName = function (options) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                return [2 /*return*/, new Promise(function (resolve, reject) {\n                        var imgset = _this.ctl.getImagesetByName(options.name);\n                        if (imgset === null) {\n                            reject();\n                        }\n                        else {\n                            _this.ctl.renderContext.addCatalogHips(imgset, function () {\n                                resolve(imgset);\n                            });\n                        }\n                    })];\n            });\n        });\n    };\n    /** Fetch the subset of catalog HiPS data contained within the current view.\n     *\n     * The imageset should have been loaded with the [[addCatalogHipsByName]]\n     * call. The *limit* option should almost always be true, since if it is false\n     * the data-fetch operation can potentially attempt to download and return\n     * gigabytes of data.\n     * */\n    WWTInstance.prototype.getCatalogHipsDataInView = function (options) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                return [2 /*return*/, new Promise(function (resolve, _reject) {\n                        _this.ctl.renderContext.getCatalogHipsDataInView(options.imageset, options.limit, function (msg) {\n                            resolve(msg);\n                        });\n                    })];\n            });\n        });\n    };\n    // \"Mutator\" type operations -- not async.\n    WWTInstance.prototype.applySetting = function (setting) {\n        var funcName = \"set_\" + setting[0];\n        var value = setting[1]; // eslint-disable-line @typescript-eslint/no-explicit-any\n        this.si.settings[funcName](value); // eslint-disable-line @typescript-eslint/no-explicit-any\n    };\n    WWTInstance.prototype.setBackgroundImageByName = function (imagesetName) {\n        this.ctl.setBackgroundImageByName(imagesetName);\n    };\n    WWTInstance.prototype.setForegroundImageByName = function (imagesetName) {\n        this.ctl.setForegroundImageByName(imagesetName);\n    };\n    /** Set the opacity with which the foreground imageset is rendered.\n     *\n     * @param opacity The opacity, between 0 (invisible) and 100 (fully opaque).\n     */\n    WWTInstance.prototype.setForegroundOpacity = function (opacity) {\n        this.si.setForegroundOpacity(opacity);\n    };\n    /** Set up the view to instantaneously display the specified imageset.\n     *\n     * This function aspires to provide a one-stop shop for configuring the engine\n     * to show one arbitrary imageset. It aims to automatically choose the right,\n     * or at least justifiable, values for things like the background imageset,\n     * the camera position, and the zoom level.\n     *\n     * Because this function makes instantaneous changes, it is not appropriate\n     * for interactive use. It is intended to be used as a WWT view is being\n     * initialized.\n     *\n     * @param imageset The imageset to display.\n     */\n    WWTInstance.prototype.setupForImageset = function (options) {\n        var bkg;\n        if (options.background) {\n            bkg = options.background;\n        }\n        else {\n            bkg = this.ctl.getDefaultImageset(options.foreground.get_dataSetType(), options.foreground.get_bandPass());\n        }\n        var imageHeightDeg;\n        if (options.foreground.get_levels() > 0) {\n            // For tiled images, baseTileDegrees gives the image angular height\n            // directly, modulo a factor of two uncertainty depending on how the image\n            // pixel height rounds up to a power of two.\n            imageHeightDeg = options.foreground.get_baseTileDegrees();\n        }\n        else {\n            // Unfortunately, for untiled images we don't have the information needed\n            // to assess the image's angular height reliably. In many cases offsetY\n            // will be about half of the pixel height, but it could be anything.\n            imageHeightDeg = options.foreground.get_baseTileDegrees() * options.foreground.get_offsetY() * 2;\n        }\n        var place = new Place();\n        place.set_type(options.foreground.get_dataSetType());\n        place.set_backgroundImageset(bkg);\n        place.set_studyImageset(options.foreground);\n        var noZoom = false;\n        switch (options.foreground.get_dataSetType()) {\n            case ImageSetType.sky:\n                if (imageHeightDeg == 180) {\n                    // All-sky image -- special behavior\n                    noZoom = true;\n                }\n                else {\n                    place.set_RA(options.foreground.get_centerX() * D2H);\n                    place.set_dec(options.foreground.get_centerY());\n                    place.set_zoomLevel(imageHeightDeg * 6);\n                }\n                break;\n            case ImageSetType.earth:\n            case ImageSetType.planet:\n                place.set_zoomLevel(120); // a pleasing default, according to me\n                if (imageHeightDeg != 180) {\n                    // need to verify that this is right\n                    place.set_lng(options.foreground.get_centerX());\n                    place.set_lat(options.foreground.get_centerY());\n                }\n                break;\n            default:\n                // TODO: more cases ...\n                place.set_zoomLevel(360);\n                break;\n        }\n        this.ctl.renderContext.set_backgroundImageset(bkg);\n        this.ctl.gotoTarget(place, noZoom, true, // instant\n        true // trackObject\n        );\n    };\n    // Tours\n    /** If the tour playback mode is active, get the active TourPlayer object. */\n    WWTInstance.prototype.getActiveTourPlayer = function () {\n        if (this.ctl.uiController === null)\n            return null;\n        if (this.ctl.uiController instanceof TourPlayer)\n            return this.ctl.uiController;\n        return null;\n    };\n    /** Find out whether a tour is playing.\n     *\n     * For obscure reasons, this is a static method in WWT that is not attached to\n     * a TourPlayer instance. We take one as an argument for future-proofiness.\n     */\n    WWTInstance.prototype.getIsTourPlaying = function (_player) {\n        return TourPlayer.get_playing();\n    };\n    /** Load a tour from a URL.\n     *\n     * Once the tour has loaded, you can use [[getActiveTourPlayer]] to get the\n     * tour player controller and the underlying tour document.\n     *\n     * @param url The URL of the tour to load and play.\n     * @returns A promise that resolves when the tour has loaded.\n     */\n    WWTInstance.prototype.loadTour = function (url) {\n        return __awaiter(this, void 0, void 0, function () {\n            var seq, _a, _b, p;\n            var e_7, _c;\n            var _this = this;\n            return __generator(this, function (_d) {\n                this.ctl.loadTour(url);\n                this.tourReadySeqnum += 1;\n                seq = this.tourReadySeqnum;\n                try {\n                    for (_a = __values(this.tourReadyPromises), _b = _a.next(); !_b.done; _b = _a.next()) {\n                        p = _b.value;\n                        p.reject(\"superseded\");\n                    }\n                }\n                catch (e_7_1) { e_7 = { error: e_7_1 }; }\n                finally {\n                    try {\n                        if (_b && !_b.done && (_c = _a.return)) _c.call(_a);\n                    }\n                    finally { if (e_7) throw e_7.error; }\n                }\n                this.tourReadyPromises = [];\n                return [2 /*return*/, new Promise(function (resolve, reject) {\n                        if (_this.tourReadySeqnum > seq) {\n                            reject(\"superseded\");\n                        }\n                        else {\n                            _this.tourReadyPromises.push(new SavedPromise(seq, resolve, reject));\n                        }\n                    })];\n            });\n        });\n    };\n    /** Load a tour from a URL and start playing it.\n     *\n     * @param url The URL of the tour to load and play.\n     * @returns A promise that resolves when the tour has loaded and started\n     * playing.\n     */\n    WWTInstance.prototype.loadAndPlayTour = function (url) {\n        return __awaiter(this, void 0, void 0, function () {\n            var seq, _a, _b, p;\n            var e_8, _c;\n            var _this = this;\n            return __generator(this, function (_d) {\n                this.ctl.playTour(url);\n                this.tourReadySeqnum += 1;\n                seq = this.tourReadySeqnum;\n                try {\n                    for (_a = __values(this.tourReadyPromises), _b = _a.next(); !_b.done; _b = _a.next()) {\n                        p = _b.value;\n                        p.reject(\"superseded\");\n                    }\n                }\n                catch (e_8_1) { e_8 = { error: e_8_1 }; }\n                finally {\n                    try {\n                        if (_b && !_b.done && (_c = _a.return)) _c.call(_a);\n                    }\n                    finally { if (e_8) throw e_8.error; }\n                }\n                this.tourReadyPromises = [];\n                return [2 /*return*/, new Promise(function (resolve, reject) {\n                        if (_this.tourReadySeqnum > seq) {\n                            reject(\"superseded\");\n                        }\n                        else {\n                            _this.tourReadyPromises.push(new SavedPromise(seq, resolve, reject));\n                        }\n                    })];\n            });\n        });\n    };\n    /** Find out how far we have progressed into the tour, in seconds.\n     *\n     * This number does not necessarily progress monotonically due to the way that\n     * WWT measures tour playback progress. We associate a start time with each\n     * \"stop\" in the tour, and can measure progress through a stop, but stops do\n     * not necessarily transition from one to another in linear fashion.\n     *\n     * That being said, this number should range between 0 and the runtime of the\n     * current tour. If no tour is loaded, it will be zero.\n     */\n    WWTInstance.prototype.getEffectiveTourTimecode = function () {\n        var player = this.getActiveTourPlayer();\n        if (player === null)\n            return 0.0;\n        var tour = player.get_tour();\n        if (tour === null)\n            return 0.0;\n        var idx = tour.get_currentTourstopIndex();\n        if (idx < 0)\n            return 0.0;\n        var base = tour.elapsedTimeTillTourstop(idx);\n        var stop = tour.get_tourStops()[idx];\n        var delta = stop.get_tweenPosition() * stop.get_duration() * 0.001; // ms => s\n        var value = base + delta;\n        // It's possible for our math to yield a value slightly larger than the\n        // nominal tour runtime, which can upset code that expects the value to stay\n        // rigorously within that bound. So, clamp it to be sure.\n        if (value < 0)\n            return 0.0;\n        var runTime = tour.get_runTime() * 0.001; // ms => s\n        if (value > runTime)\n            return runTime;\n        return value;\n    };\n    /** \"Seek\" tour playback to approximately the specified timecode (in seconds).\n     *\n     * The tour will start playing back.\n     *\n     * This operation is approximate because WWT can only resume playback from the\n     * beginning of a \"tour stop\". So, if the desired timecode is in the middle of\n     * such a stop, playback will start there, not at the exact value that was\n     * commanded. This can be a little annoying when a slide is long.\n     *\n     * If no tour or tour player is active, nothing happens.\n     */\n    WWTInstance.prototype.seekToTourTimecode = function (value) {\n        var player = this.getActiveTourPlayer();\n        if (player === null)\n            return;\n        var tour = player.get_tour();\n        if (tour === null)\n            return;\n        // Figure out the stop index that best matches the specified timecode.\n        var stops = tour.get_tourStops();\n        var index = stops.length - 1;\n        for (var i = 0; i < stops.length; i++) {\n            var tStart = tour.elapsedTimeTillTourstop(i);\n            if (tStart >= value) {\n                index = i - 1;\n                break;\n            }\n        }\n        if (index < 0) {\n            index = 0;\n        }\n        // Apply the change.\n        player.playFromTourstop(stops[index]);\n    };\n    /** Capture the current frame as an image.\n     *\n     * This function returns a Promise whose resolved value is the image\n     * represented as a `Blob`.\n    */\n    WWTInstance.prototype.captureFrame = function (options) {\n        var _this = this;\n        return new Promise(function (resolve, _reject) {\n            _this.ctl.captureFrame(function (blob) { return resolve(blob); }, options.width, options.height, options.format);\n        });\n    };\n    /** Capture a video as a sequence of frames using the given parameters\n     *\n     * This function returns a readable stream whose values are the exported frames.\n    */\n    WWTInstance.prototype.captureVideo = function (options) {\n        var wwtControl = this.ctl;\n        var videoStream = new ReadableStream({\n            start: function (controller) {\n                function stream() {\n                    var received = 0;\n                    wwtControl.captureVideo(function (blob) {\n                        received++;\n                        controller.enqueue(blob);\n                        if (received >= options.totalFrames) {\n                            controller.close();\n                        }\n                    }, options.width, options.height, options.framesPerSecond, options.totalFrames, options.format);\n                }\n                return stream();\n            }\n        });\n        return videoStream;\n    };\n    return WWTInstance;\n}());\nexport { WWTInstance };\n//# sourceMappingURL=index.js.map","// Copyright 2020-2021 the .NET Foundation\n// Licensed under the MIT License\n\n// The high-level docs in `wwtaware.ts` contain the developer-friendly\n// descriptions of pretty much everything in this file. Update those docs when\n// adding new features here.\n\nimport { defineStore } from 'pinia';\n\nimport { D2R, H2R } from \"@wwtelescope/astro\";\n\nimport {\n  AltUnits,\n  ImageSetType,\n  ScaleTypes,\n  SolarSystemObjects,\n} from \"@wwtelescope/engine-types\";\n\nimport {\n  Annotation,\n  EngineSetting,\n  Folder,\n  Guid,\n  Imageset,\n  ImageSetLayer,\n  InViewReturnMessage,\n  Layer,\n  LayerMap,\n  SpreadSheetLayer,\n  SpreadSheetLayerSettingsInterfaceRO,\n  WWTControl,\n} from \"@wwtelescope/engine\";\n\nimport {\n  AddCatalogHipsByNameOptions,\n  AddImageSetLayerOptions,\n  ApplyFitsLayerSettingsOptions,\n  ApplyTableLayerSettingsOptions,\n  applyImageSetLayerSetting,\n  applySpreadSheetLayerSetting,\n  CaptureFrameOptions,\n  GetCatalogHipsDataInViewOptions,\n  GotoTargetOptions,\n  ImageSetLayerState as ImageSetLayerSettings,\n  LoadFitsLayerOptions,\n  SetFitsLayerColormapOptions,\n  SetLayerOrderOptions,\n  SetupForImagesetOptions,\n  SpreadSheetLayerState,\n  StretchFitsLayerOptions,\n  UpdateTableLayerOptions,\n  WWTInstance,\n  CaptureVideoOptions,\n} from \"@wwtelescope/engine-helpers\";\n\ninterface WWTLinkedCallback {\n  (): void;\n}\n\nexport class WWTGlobalState {\n  inst: WWTInstance | null = null;\n  onLinkedCallbacks: WWTLinkedCallback[] = [];\n\n  link(inst: WWTInstance): void {\n    if (this.inst !== null)\n      throw new Error(\"must unlink WWT Pinia global state before relinking\");\n\n    this.inst = inst;\n\n    for (const cb of this.onLinkedCallbacks) {\n      cb();\n    }\n\n    this.onLinkedCallbacks = [];\n  }\n\n  unlink(): void {\n    this.inst = null;\n  }\n}\n\n/** This class holds basic information about an imageset.\n *\n * Discover imagesets through the [[WWTAwareComponent.wwtAvailableImagesets]]\n * state variable. In standard practice there will be hundreds of available\n * imagesets of many different kinds.\n *\n * Imagesets may be uniquely identified by their associated image data [[url]].\n * (If you really need to have multiple imagesets associated with the same URL,\n * add a `#fragment` to the end.)\n */\nexport class ImagesetInfo {\n  /** The URL of the image data. */\n  url: string;\n\n  /** The user-facing name of the imageset. */\n  name: string;\n\n  /** The type of the imageset: panorama, sky, ... */\n  type: ImageSetType;\n\n  /** The internal GUID of the layer, if it is a HiPS layer */\n  id: string | null;\n\n  /** An (application-specific) string giving some additional information about\n   * the imageset. */\n  description: string;\n\n  /** The image filename extension(s) associated with this imageset.\n   *\n   * May include multiple extensions separated by spaces. May also start with a\n   * leading period.\n   */\n  extension: string;\n\n  constructor(url: string, name: string, type: ImageSetType, description: string, extension: string, id: string | null = null) {\n    this.url = url;\n    this.name = name;\n    this.type = type;\n    this.description = description;\n    this.extension = extension;\n    this.id = id;\n  }\n\n  static fromImageset(imageset: Imageset): ImagesetInfo {\n    return new ImagesetInfo(imageset.get_url(), imageset.get_name(), imageset.get_dataSetType(), imageset.get_creditsText(), imageset.get_extension(), imageset.get_hipsProperties()?.get_catalogSpreadSheetLayer().id.toString() ?? null);\n  }\n}\n\nexport class SpreadSheetLayerInfo {\n  /** The user-facing name of the layer */\n  name: string;\n\n  /** The internal GUID of the layer */\n  id: string;\n\n  /** The reference frame in which the data are defined. */\n  referenceFrame: string;\n\n  setName(name: string) {\n    this.name = name;\n  }\n\n  constructor(id: string, referenceFrame: string, name?: string) {\n    this.id = id;\n    this.referenceFrame = referenceFrame;\n    this.name = name ?? id;\n  }\n}\n\n/** This type defines the union of the various spreadsheet layers.\n *\n * Currently this includes standard spreadsheet layers, and HiPS catalog\n * layers, which are a sort of hybrid between spreadsheet and imageset\n * layers.\n */\nexport type CatalogLayerInfo = SpreadSheetLayerInfo | ImagesetInfo;\n\n/** Information about an active imageset layer. */\nexport class ImageSetLayerState {\n  /** Layer parameters exposed in WWT's generic \"settings\" system.\n   *\n   * This field is an instance of the [@wwtelescope/engine-helpers]\n   * [ImageSetLayerState] class (which has the same name as this class, but is\n   * different).\n   *\n   * [@wwtelescope/engine-helpers]: ../../engine-helpers/\n   * [ImageSetLayerState]: ../../engine-helpers/classes/imagesetlayerstate.html\n  */\n  settings: ImageSetLayerSettings;\n\n  /** For FITS-like images, the \"stretch\" used for color-mapping the image data. */\n  scaleType: ScaleTypes;\n\n  /** For FITS-like images, the lower cutoff used for color-mapping the image data. */\n  vmin: number;\n\n  /** For FITS-like images, the upper cutoff used for color-mapping the image data. */\n  vmax: number;\n\n  /** For FITS-like images, the name of the color map used to render the image\n   * data.\n   *\n   * See [here](../../engine/modules/colormapcontainer.html#fromnamedcolormap)\n   * for the supported options. */\n  colormapName: string;\n\n  private guidText: string;\n\n  constructor(source: ImageSetLayer) {\n    this.guidText = source.id.toString();\n    this.settings = new ImageSetLayerSettings(source);\n\n    const fits = source.get_imageSet().get_fitsProperties();\n    this.scaleType = fits.scaleType;\n    this.vmin = fits.lowerCut;\n    this.vmax = fits.upperCut;\n    this.colormapName = fits.colorMapName;\n  }\n\n  getGuid(): string {\n    return this.guidText;\n  }\n}\n\n/** This interface expresses the properties exposed by the WWT Engines Pinia\n * store module.\n *\n * See [[WWTAwareComponent]] for an organized overview of the different aspects\n * of WWT state that are exposed in the Pinia framework, along with associated\n * getters and actions.\n *\n * Much of this interface duplicates state that is already stored within the WWT\n * engine itself (i.e., the `WWTInstance`). Due to the way that the Vue/Pinia\n * reactivity framework works, we need to mirror the engine state into Pinia. The\n * first reason to do this is that, as far as I can tell, there's no good way to\n * integrate the \"external\" state of the WWT instance into the reactivity\n * framework so that dependencies can be mapped correctly. And we can't just\n * integrate the WWT instance into the reactivity framework -- well, I haven't\n * tried, but I'm 99% sure that it won't work with all of the WebGL textures and\n * whatnot. I.e., the WWT types that hold state are not \"plain old data\".\n *\n * The second reason is that it is recommended for app state to be flattened and\n * normalized when expressed in a store, as in [this post]. The WWT engine\n * certainly does *not* express its state in such a manner.\n *\n * [this post]: https://forum.vuejs.org/t/vuex-best-practices-for-complex-objects/10143/2\n *\n * The duplication of WWT's data structures is annoying, but the actual amount\n * of mirrored data isn't very big.\n */\nexport interface WWTEnginePiniaState {\n  // NOTE: We were orginally alphabetizing these all, but now I think it will be\n  // better to group topically related fields.\n\n  /** Info about the imagesets that are available in the engine to be used as backgrounds */\n  availableImagesets: ImagesetInfo[];\n\n  /** The current imageset acting as the background imagery, if defined. */\n  backgroundImageset: Imageset | null;\n\n  /** The number of times that the WWT engine clock has been changed in a\n   * discontinuous manner.\n   *\n   * The point of this property is that one can watch() it and get alerted to\n   * when this happens.\n   */\n  clockDiscontinuities: number;\n\n  /** The rate at which the WWT engine clock progresses, compared to real time. */\n  clockRate: number;\n\n  /** The current WWT clock time of the view, as a UTC Date. */\n  currentTime: Date;\n\n  /** The current declination of the view, in radians.\n   *\n   * TODO: define this properly for planetary lat/lng views!\n   */\n  decRad: number;\n\n  /** The current imageset acting as the foreground imagery, if defined. */\n  foregroundImageset: Imageset | null;\n\n  /** The opacity with which the foreground imageset is rendered; valid\n   * values are between 0 and 100 (inclusive).\n   */\n  foregroundOpacity: number;\n\n  /** Whether the tour playback mode is active.\n   *\n   * Specifically, this is true if the `WWTControl` has a `uiController` item\n   * that is a `TourPlayer` item. See also [[isTourPlaying]].\n   */\n  isTourPlayerActive: boolean;\n\n  /** Whether a tour is actively playing right now.\n   *\n   * It might be the case that a tour player is active, but the tour is paused.\n   */\n  isTourPlaying: boolean;\n\n  /** The current right ascension of the view, in radians.\n   *\n   * TODO: define this properly for planetary lat/lng views!\n   */\n  raRad: number;\n\n  /** The current mode of the renderer */\n  renderType: ImageSetType;\n\n  /** The current roll of the view camera, in radians */\n  rollRad: number;\n\n  /** The time when the state is created */\n  timeAtStartup: number;\n\n  /** The number of times that a tour has played through to the end.\n   *\n   * The point of this property is that one can watch() it and get alerted to\n   * tour completion.\n   */\n  tourCompletions: number;\n\n  /** The total run-time of the current tour, if there is one, measured in seconds. */\n  tourRunTime: number | null;\n\n  /** The start times of the stops in the tour, measured in seconds.\n   *\n   * It is possible for tour stops to be linked in a non-linear order, such that\n   * actual playback won't proceed linearly in the way that this API would imply.\n   */\n  tourStopStartTimes: number[];\n\n  /** How far we have progressed into the current tour, in seconds.\n   *\n   * This number does not necessarily progress monotonically due to the way that\n   * WWT measures tour playback progress. We associate a start time with each\n   * \"stop\" in the tour, and can measure progress through a stop, but stops do\n   * not necessarily transition from one to another in linear fashion.\n   *\n   * That being said, this number should range between 0 and the runtime of the\n   * current tour. If no tour is loaded, it will be zero.\n   */\n  tourTimecode: number;\n\n  showWebGl2Warning: boolean;\n\n  /** The current zoom level of the view, in degrees.\n   *\n   * The zoom level is the angular height of the viewport, times size.\n   *\n   * TODO: define this properly for 3D modes!\n   */\n  zoomDeg: number;\n\n  // Layers and layer management\n\n  /** The GUIDs of all rendered layers, in their draw order. */\n  activeLayers: string[];\n\n  /** Settings for all registered imageset layers. */\n  imagesetLayers: { [guidtext: string]: ImageSetLayerState };\n\n  /** Settings for all registered WWT spreadsheet layers. */\n  spreadSheetLayers: { [guidtext: string]: SpreadSheetLayerState };\n\n}\n\n/** The parameters for the [[createTableLayer]] action. */\nexport interface CreateTableLayerParams {\n  /** The name to assign the layer. TODO: understand where (if anywhere) this name is exposed. */\n  name: string;\n\n  /** The name of the reference frame to which this layer is attached. */\n  referenceFrame: string;\n\n  /** The table data, as big CSV string. */\n  dataCsv: string;\n}\n\nexport interface TimeToRADecZoomParams {\n  /** The right ascension of the target, in radians. */\n  raRad: number;\n\n  /** The declination of the target, in radians. */\n  decRad: number;\n\n  /** The zoom level of the target, in *degrees*. */\n  zoomDeg: number;\n\n  /** Optional: The target roll of the target, in radians. */\n  rollRad?: number;\n}\n\n/** The parameters for the [[gotoRADecZoom]] action. */\nexport interface GotoRADecZoomParams {\n  /** The right ascension to go to, in radians. */\n  raRad: number;\n\n  /** The declination to go to, in radians. */\n  decRad: number;\n\n  /** The zoom level to go to, in *degrees*. This is the final angular height of\n   * the WWT viewport. */\n  zoomDeg: number;\n\n  /** Whether the view should navigate instantly or pan smoothly.\n   *\n   * Smooth panning is generally preferable from a UX perspective because it\n   * gives the engine time to download any data files that it may need to render\n   * the view.\n   */\n  instant: boolean;\n\n  /** Optional: The target roll of the camera, in radians. */\n  rollRad?: number;\n}\n\n/** The parameters for the [[loadTour]] action.\n */\nexport interface LoadTourParams {\n  /** The tour URL to load. */\n  url: string;\n\n  /** Whether to start playing it immediately. */\n  play: boolean;\n}\n\n/** The parameters for the [[loadImageCollection]] action. */\nexport interface LoadImageCollectionParams {\n  /** The WTML URL to load. */\n  url: string;\n  /** Optional, Recursively load any child folders. Defaults to false*/\n  loadChildFolders?: boolean;\n}\n\n/** This function creates the list of currently active layers.\n * Keeping this functionality outside of the store allows us to use it from\n * inside either an action or a mutation.\n */\nfunction activeLayersList(wwt: WWTGlobalState): string[] {\n  if (wwt.inst === null)\n    throw new Error('cannot get activeLayersList without linking to WWTInstance');\n\n  const layers: string[] = [];\n\n  function accum(lm: LayerMap) {\n    for (const layer of lm.layers) {\n      layers.push(layer.id.toString());\n    }\n\n    for (const [_mapname, sublm] of Object.entries(lm.childMaps)) {\n      accum(sublm);\n    }\n  }\n\n  const rootlm = wwt.inst.lm.get_allMaps()[wwt.inst.ctl.getCurrentReferenceFrame()];\n  if (rootlm) {\n    accum(rootlm);\n  }\n\n  return layers;\n}\n\n\n/** This function creates the list of currently available imagesets.\n * Keeping this functionality outside of the store allows us to use it from\n * inside either an action or a mutation.\n */\nfunction availableImagesets(): ImagesetInfo[] {\n  return WWTControl.getImageSets().map(ImagesetInfo.fromImageset);\n}\n\n/** The WWT Pinia implementation.\n *\n * See [[WWTAwareComponent]] for an organized overview of the state variables,\n * getters, and actions exposed by this module.\n */\nexport const engineStore = defineStore('wwt-engine', {\n\n  // NOTE: We were originally alphabetizing these all, but now I think it will be\n  // better to group topically related fields.\n  state: (): WWTEnginePiniaState => ({\n    activeLayers: [],\n    availableImagesets: [],\n    backgroundImageset: null,\n    clockDiscontinuities: 0,\n    clockRate: 1.0,\n    currentTime: new Date(),\n    decRad: 0.0,\n    foregroundImageset: null,\n    foregroundOpacity: 100,\n    imagesetLayers: {},\n    isTourPlayerActive: false,\n    isTourPlaying: false,\n    raRad: 0.0,\n    renderType: ImageSetType.sky,\n    rollRad: 0,\n    spreadSheetLayers: {},\n    timeAtStartup: Date.now(),\n    tourCompletions: 0,\n    tourRunTime: null,\n    tourStopStartTimes: [],\n    tourTimecode: 0.0,\n    showWebGl2Warning: false,\n    zoomDeg: 0.0,\n  }),\n\n  getters: {\n    lookupImageset(_state) {\n      return (imagesetName: string) => {\n        if (this.$wwt.inst === null)\n          throw new Error('cannot lookupImageset without linking to WWTInstance');\n        return this.$wwt.inst.ctl.getImagesetByName(imagesetName);\n      }\n    },\n\n    findRADecForScreenPoint(_state) {\n      return (pt: { x: number; y: number }): { ra: number; dec: number } => {\n        if (this.$wwt.inst === null)\n          throw new Error('cannot findRADecForScreenPoint without linking to WWTInstance');\n        const coords = this.$wwt.inst.ctl.getCoordinatesForScreenPoint(pt.x, pt.y);\n        return { ra: (15 * coords.x + 720) % 360, dec: coords.y };\n      }\n    },\n\n    findScreenPointForRADec(_state) {\n      return (pt: { ra: number; dec: number }): { x: number; y: number } => {\n        if (this.$wwt.inst === null)\n          throw new Error('cannot findScreenPointForRADec without linking to WWTInstance');\n        return this.$wwt.inst.ctl.getScreenPointForCoordinates(pt.ra / 15, pt.dec);\n      }\n    },\n\n    imagesetStateForLayer(state) {\n      return (guidtext: string): ImageSetLayerState | null => {\n        return state.imagesetLayers[guidtext] || null;\n      }\n    },\n\n    activeImagesetLayerStates(): ImageSetLayerState[] {\n      const states: ImageSetLayerState[] = [];\n\n      for (const guid of this.activeLayers) {\n        const layerState = this.imagesetLayers[guid];\n        if (layerState) {\n          states.push(layerState);\n        }\n      }\n\n      return states;\n    },\n\n    catalogLayerKey(_state) {\n      return (catalog: CatalogLayerInfo): string => {\n        return catalog.id ?? \"\";\n      }\n    },\n\n    imagesetForLayer(_state) {\n      return (guidtext: string): Imageset | null => {\n        if (this.$wwt.inst === null)\n          throw new Error('cannot get imagesetForLayer without linking to WWTInstance');\n\n        const layer = this.$wwt.inst.lm.get_layerList()[guidtext];\n\n        if (layer !== null && layer instanceof ImageSetLayer) {\n          return layer.get_imageSet();\n        } else {\n          return null;\n        }\n      }\n    },\n\n    imagesetLayerById(_state) {\n      return (id: string): ImageSetLayer | null => {\n        if (this.$wwt.inst === null)\n          throw new Error('cannot get imagesetLayerById without linking to WWTInstance');\n        const layer = this.layerById(id);\n        if (layer !== null && layer instanceof ImageSetLayer) {\n          return layer;\n        } else {\n          return null;\n        }\n      }\n    },\n\n    layerForHipsCatalog(_state) {\n      return (name: string): SpreadSheetLayer | null => {\n        if (this.$wwt.inst === null)\n          throw new Error('cannot get layerForHipsCatalog without linking to WWTInstance');\n\n        const id = Guid.createFrom(name).toString();\n        return this.spreadSheetLayerById(id);\n      }\n    },\n\n    layerById(_state) {\n      return (id: string): Layer | null => {\n        if (this.$wwt.inst === null)\n          throw new Error('cannot get layerById without linking to WWTInstance');\n        return this.$wwt.inst.lm.get_layerList()[id];\n      }\n    },\n\n    spreadsheetStateForHipsCatalog(state) {\n      return (name: string): SpreadSheetLayerSettingsInterfaceRO | null => {\n        if (this.$wwt.inst === null)\n          throw new Error('cannot get spreadsheetStateForHipsCatalog without linking to WWTInstance');\n\n        const id = Guid.createFrom(name).toString();\n        return state.spreadSheetLayers[id] || null;\n      }\n    },\n\n    spreadSheetLayerById(_state) {\n      return (id: string): SpreadSheetLayer | null => {\n        if (this.$wwt.inst === null)\n          throw new Error('cannot get spreadsheetLayerById without linking to WWTInstance');\n        const layer = this.layerById(id);\n        if (layer !== null && layer instanceof SpreadSheetLayer) {\n          return layer;\n        } else {\n          return null;\n        }\n      }\n    },\n\n    spreadsheetStateById(state) {\n      return (id: string): SpreadSheetLayerSettingsInterfaceRO | null => {\n        return state.spreadSheetLayers[id] || null;\n      }\n    },\n\n    spreadSheetLayer(_state) {\n      return (catalog: CatalogLayerInfo): SpreadSheetLayer | null => {\n        if (this.$wwt.inst === null)\n          throw new Error('cannot get spreadSheetLayer without linking to WWTInstance');\n\n        const key = this.catalogLayerKey(catalog);\n        return this.spreadSheetLayerById(key);\n      }\n    },\n\n    spreadsheetState(state) {\n      return (catalog: CatalogLayerInfo): SpreadSheetLayerSettingsInterfaceRO | null => {\n        const key = this.catalogLayerKey(catalog);\n        return state.spreadSheetLayers[key] || null;\n      }\n    }\n\n  },\n\n  actions: {\n    internalLinkToInstance(wwt: WWTInstance): void {\n      this.$wwt.link(wwt);\n    },\n\n    internalUnlinkFromInstance(): void {\n      this.$wwt.unlink();\n    },\n\n    internalUpdate(): void {\n      if (this.$wwt.inst === null)\n        throw new Error('cannot internalUpdate without linking to WWTInstance');\n\n      const wwt = this.$wwt.inst;\n\n      const raRad = wwt.si.getRA() * H2R;\n      if (this.raRad != raRad)\n        this.raRad = raRad;\n\n      const decRad = wwt.si.getDec() * D2R;\n      if (this.decRad != decRad)\n        this.decRad = decRad;\n\n      const zoomDeg = wwt.ctl.renderContext.viewCamera.zoom;\n      if (this.zoomDeg != zoomDeg)\n        this.zoomDeg = zoomDeg;\n\n      const rollRad = wwt.ctl.renderContext.viewCamera.rotation;\n      if (this.rollRad != rollRad)\n        this.rollRad = rollRad;\n\n      const bg = wwt.ctl.renderContext.get_backgroundImageset() || null; // TEMP\n      if (this.backgroundImageset != bg)\n        this.backgroundImageset = bg;\n\n      const time = wwt.stc.get_now();\n      if (this.currentTime != time)\n        this.currentTime = time;\n\n      const fg = wwt.ctl.renderContext.get_foregroundImageset() || null; // TEMP\n      if (this.foregroundImageset != fg)\n        this.foregroundImageset = fg;\n\n      if (this.foregroundOpacity != wwt.ctl.renderContext.viewCamera.opacity)\n        this.foregroundOpacity = wwt.ctl.renderContext.viewCamera.opacity;\n\n      if (this.renderType != wwt.ctl.renderType)\n        this.renderType = wwt.ctl.renderType;\n\n      const player = wwt.getActiveTourPlayer();\n      this.tourTimecode = wwt.getEffectiveTourTimecode();\n\n      if (player !== null) {\n        this.isTourPlayerActive = true;\n        this.isTourPlaying = wwt.getIsTourPlaying(player);\n      } else {\n        this.isTourPlayerActive = false;\n        this.isTourPlaying = false;\n      }\n\n      const showWebGl2Warning = !wwt.si.isUsingWebGl2()\n        && (Date.now() - this.timeAtStartup) < 15000;\n      if (this.showWebGl2Warning != showWebGl2Warning) {\n        this.showWebGl2Warning = showWebGl2Warning;\n      }\n    },\n\n    internalIncrementTourCompletions(): void {\n      this.tourCompletions += 1;\n    },\n\n    applySetting(setting: EngineSetting): void {\n      if (this.$wwt.inst === null)\n        throw new Error('cannot applySetting without linking to WWTInstance');\n      this.$wwt.inst.applySetting(setting);\n    },\n\n    setBackgroundImageByName(imagesetName: string): void {\n      if (this.$wwt.inst === null)\n        throw new Error('cannot setBackgroundImageByName without linking to WWTInstance');\n      this.$wwt.inst.setBackgroundImageByName(imagesetName);\n    },\n\n    setForegroundImageByName(imagesetName: string): void {\n      if (this.$wwt.inst === null)\n        throw new Error('cannot setForegroundImageByName without linking to WWTInstance');\n      this.$wwt.inst.setForegroundImageByName(imagesetName);\n    },\n\n    setForegroundOpacity(opacity: number): void {\n      if (this.$wwt.inst === null)\n        throw new Error('cannot setForegroundOpacity without linking to WWTInstance');\n      this.$wwt.inst.setForegroundOpacity(opacity);\n      this.foregroundOpacity = opacity;\n    },\n\n    setupForImageset(options: SetupForImagesetOptions): void {\n      if (this.$wwt.inst === null)\n        throw new Error('cannot setupForImageset without linking to WWTInstance');\n      this.$wwt.inst.setupForImageset(options);\n    },\n\n    zoom(factor: number): void {\n      if (this.$wwt.inst === null)\n        throw new Error('cannot zoom without linking to WWTInstance');\n      this.$wwt.inst.ctl.zoom(factor);\n    },\n\n    move(args: { x: number; y: number }): void {\n      if (this.$wwt.inst === null)\n        throw new Error('cannot move without linking to WWTInstance');\n      this.$wwt.inst.ctl.move(args.x, args.y);\n    },\n\n    tilt(args: { x: number; y: number }): void {\n      if (this.$wwt.inst === null)\n        throw new Error('cannot tilt without linking to WWTInstance');\n      this.$wwt.inst.ctl._tilt(args.x, args.y);\n    },\n\n    setTime(time: Date): void {\n      if (this.$wwt.inst === null)\n        throw new Error('cannot setTime without linking to WWTInstance');\n      this.$wwt.inst.stc.set_now(time);\n      this.clockDiscontinuities += 1;\n    },\n\n    setClockRate(rate: number): void {\n      if (this.$wwt.inst === null)\n        throw new Error('cannot setClockRate without linking to WWTInstance');\n\n      if (this.$wwt.inst.stc.get_timeRate() != rate) {\n        this.$wwt.inst.stc.set_timeRate(rate);\n        this.clockRate = rate;\n        this.clockDiscontinuities += 1;\n      }\n    },\n\n    setClockSync(isSynced: boolean): void {\n      if (this.$wwt.inst === null)\n        throw new Error('cannot setClockSync without linking to WWTInstance');\n\n      if (this.$wwt.inst.stc.get_syncToClock() != isSynced) {\n        this.$wwt.inst.stc.set_syncToClock(isSynced);\n\n        if (isSynced) {\n          this.clockRate = this.$wwt.inst.stc.get_timeRate();\n        } else {\n          this.clockRate = 0;\n        }\n\n        this.clockDiscontinuities += 1;\n      }\n    },\n\n    startTour(): void {\n      if (this.$wwt.inst === null)\n        throw new Error('cannot start tour without linking to WWTInstance');\n\n      const player = this.$wwt.inst.getActiveTourPlayer();\n      if (player === null)\n        throw new Error('no tour to start');\n\n      player.play();\n    },\n\n    toggleTourPlayPauseState(): void {\n      if (this.$wwt.inst === null)\n        throw new Error('cannot play/pause tour without linking to WWTInstance');\n\n      const player = this.$wwt.inst.getActiveTourPlayer();\n      if (player === null)\n        throw new Error('no tour to play/pause');\n\n      // Despite the unclear name, this function does toggle play/pause state.\n      player.pauseTour();\n    },\n\n    setTourPlayerLeaveSettingsWhenStopped(value: boolean): void {\n      if (this.$wwt.inst === null)\n        throw new Error('cannot setTourPlayerLeaveSettingsWhenStopped without linking to WWTInstance');\n\n      const player = this.$wwt.inst.getActiveTourPlayer();\n      if (player === null)\n        throw new Error('no tour player to control');\n\n      player.set_leaveSettingsWhenStopped(value);\n    },\n\n    seekToTourTimecode(value: number): void {\n      if (this.$wwt.inst === null)\n        throw new Error('cannot seekToTourTimecode without linking to WWTInstance');\n\n      this.$wwt.inst.seekToTourTimecode(value);\n    },\n\n    async viewAsTourXml(name: string): Promise<string | null> {\n      WWTControl.singleton.createTour(name || \"\");\n      const editor = WWTControl.singleton.tourEdit;\n      editor.addSlide(false);\n      const tour = editor.get_tour();\n      if (tour === null) {\n        return Promise.resolve(null);\n      }\n      const blob = tour.saveToBlob();\n      const reader = new FileReader();\n      reader.readAsText(blob);\n\n      let tourXml = \"\";\n      return new Promise((resolve, _reject) => {\n        reader.onloadend = () => {\n          tourXml += reader.result;\n          resolve(tourXml);\n        }\n      });\n    },\n\n    async waitForReady(): Promise<void> {\n      if (this.$wwt.inst !== null) {\n        return this.$wwt.inst.waitForReady();\n      } else {\n        return new Promise((resolve, _reject) => {\n          const waitThenResolve = (): void => {\n            (this.$wwt.inst as WWTInstance).waitForReady().then(resolve);\n          };\n\n          if (this.$wwt.inst !== null) {\n            waitThenResolve();\n          } else {\n            this.$wwt.onLinkedCallbacks.push(waitThenResolve);\n          }\n        });\n      }\n    },\n\n    async gotoRADecZoom(\n      { raRad, decRad, zoomDeg, instant, rollRad }: GotoRADecZoomParams\n    ): Promise<void> {\n      if (this.$wwt.inst === null)\n        throw new Error('cannot gotoRADecZoom without linking to WWTInstance');\n      return this.$wwt.inst.gotoRADecZoom(raRad, decRad, zoomDeg, instant, rollRad);\n    },\n\n    timeToRADecZoom(\n      { raRad, decRad, zoomDeg, rollRad }: TimeToRADecZoomParams\n    ): number {\n      if (this.$wwt.inst === null)\n        throw new Error('cannot get timeToRADecZoom without linking to WWTInstance');\n      return this.$wwt.inst.timeToRADecZoom(raRad, decRad, zoomDeg, rollRad);\n    },\n\n    async gotoTarget(options: GotoTargetOptions): Promise<void> {\n      if (this.$wwt.inst === null)\n        throw new Error('cannot gotoTarget without linking to WWTInstance');\n      return this.$wwt.inst.gotoTarget(options);\n    },\n\n    setTrackedObject(obj: SolarSystemObjects): void {\n      if (this.$wwt.inst === null)\n        throw new Error('cannot setTrackedObject without linking to WWTInstance');\n      this.$wwt.inst.ctl.renderContext.set_solarSystemTrack(obj);\n    },\n\n    async loadTour(\n      { url, play }: LoadTourParams\n    ) {\n      if (this.$wwt.inst === null)\n        throw new Error('cannot loadTour without linking to WWTInstance');\n\n      if (play)\n        await this.$wwt.inst.loadAndPlayTour(url);\n      else\n        await this.$wwt.inst.loadTour(url);\n\n      let tourRunTime: number | null = null;\n      const tourStopStartTimes: number[] = [];\n\n      const player = this.$wwt.inst.getActiveTourPlayer();\n      if (player !== null) {\n        const tour = player.get_tour();\n        if (tour !== null) {\n          tourRunTime = tour.get_runTime() * 0.001; // ms => s\n          const nStops = tour.get_tourStops().length;\n\n          for (let i = 0; i < nStops; i++) {\n            tourStopStartTimes.push(tour.elapsedTimeTillTourstop(i));\n          }\n        }\n      }\n\n      return { tourRunTime, tourStopStartTimes };\n    },\n\n    async loadImageCollection(\n      { url, loadChildFolders }: LoadImageCollectionParams\n    ): Promise<Folder> {\n      if (this.$wwt.inst === null)\n        throw new Error('cannot loadImageCollection without linking to WWTInstance');\n      const result = await this.$wwt.inst.loadImageCollection(url, loadChildFolders);\n      this.availableImagesets = availableImagesets();\n      return result;\n    },\n\n    addImagesetToRepository(imgset: Imageset): Imageset {\n      if (this.$wwt.inst === null)\n        throw new Error('cannot addImagesetToRepository without linking to WWTInstance');\n\n      return this.$wwt.inst.addImagesetToRepository(imgset);\n    },\n\n    // General layers\n\n    deleteLayer(id: string | Guid): void {\n      if (this.$wwt.inst === null)\n        throw new Error('cannot deleteLayer without linking to WWTInstance');\n\n      let stringId = \"\";\n\n      if (typeof id === \"string\") {\n        stringId = id;\n        const guid = Guid.fromString(id);\n        this.$wwt.inst.lm.deleteLayerByID(guid, true, true);\n      } else {\n        stringId = id.toString();\n        this.$wwt.inst.lm.deleteLayerByID(id, true, true);\n      }\n\n      // Mirror modification in the reactive system. Here we just\n      // delete willy-nilly and ignore any missing cases.\n      delete this.imagesetLayers[stringId];\n      delete this.spreadSheetLayers[stringId];\n\n      this.activeLayers = activeLayersList(this.$wwt);\n    },\n\n    // Imageset layers, including FITS layers\n\n    async addImageSetLayer(\n      options: AddImageSetLayerOptions\n    ): Promise<ImageSetLayer> {\n      if (this.$wwt.inst === null)\n        throw new Error('cannot addImageSetLayer without linking to WWTInstance');\n\n      // Mirror the layer state into the reactivity system.\n      const wwtLayer = await this.$wwt.inst.addImageSetLayer(options);\n      const guidText = wwtLayer.id.toString();\n      this.imagesetLayers[guidText] = new ImageSetLayerState(wwtLayer);\n\n      this.activeLayers = activeLayersList(this.$wwt);\n      return wwtLayer;\n    },\n\n    // deprecated, but maintained for compatibility:\n    async loadFitsLayer(\n      options: LoadFitsLayerOptions\n    ): Promise<ImageSetLayer> {\n      if (this.$wwt.inst === null)\n        throw new Error('cannot loadFitsLayer without linking to WWTInstance');\n\n      const addImageSetLayerOptions: AddImageSetLayerOptions = {\n        url: options.url,\n        mode: \"fits\",\n        name: options.name,\n        goto: options.gotoTarget\n      };\n\n      return this.$wwt.inst.addImageSetLayer(addImageSetLayerOptions);\n    },\n\n    setImageSetLayerOrder(options: SetLayerOrderOptions): void {\n      if (this.$wwt.inst === null)\n        throw new Error('cannot setImageSetLayerOrder without linking to WWTInstance');\n\n      this.$wwt.inst.setImageSetLayerOrder(options);\n      this.activeLayers = activeLayersList(this.$wwt);\n    },\n\n    stretchFitsLayer(options: StretchFitsLayerOptions): void {\n      if (this.$wwt.inst === null)\n        throw new Error('cannot stretchFitsLayer without linking to WWTInstance');\n\n      this.$wwt.inst.stretchFitsLayer(options);\n\n      // Update the reactive mirror.\n      const state = this.imagesetLayers[options.id];\n      if (state) {\n        state.scaleType = options.stretch;\n        state.vmin = options.vmin;\n        state.vmax = options.vmax;\n      }\n    },\n\n    setFitsLayerColormap(options: SetFitsLayerColormapOptions): void {\n      if (this.$wwt.inst === null)\n        throw new Error('cannot setFitsLayerColormap without linking to WWTInstance');\n\n      this.$wwt.inst.setFitsLayerColormap(options);\n\n      // Update the reactive mirror.\n      const state = this.imagesetLayers[options.id];\n      if (state) {\n        state.colormapName = options.name;\n      }\n    },\n\n    applyFitsLayerSettings(options: ApplyFitsLayerSettingsOptions): void {\n      if (this.$wwt.inst === null)\n        throw new Error('cannot applyFitsLayerSettings without linking to WWTInstance');\n\n      this.$wwt.inst.applyFitsLayerSettings(options);\n\n      // Update the reactive mirror.\n      const state = this.imagesetLayers[options.id];\n      if (state) {\n        for (const s of options.settings) {\n          applyImageSetLayerSetting(state.settings, s);\n        }\n      }\n    },\n\n    // Spreadsheet layers\n\n    async createTableLayer(\n      options: CreateTableLayerParams\n    ): Promise<SpreadSheetLayer> {\n      if (this.$wwt.inst === null)\n        throw new Error('cannot createTableLayer without linking to WWTInstance');\n\n      const layer = this.$wwt.inst.lm.createSpreadsheetLayer(\n        options.referenceFrame,\n        options.name,\n        options.dataCsv\n      );\n\n      // Value-add init copied from the pywwt JS component.\n      // Override any column guesses:\n      layer.set_lngColumn(-1);\n      layer.set_latColumn(-1);\n      layer.set_altColumn(-1);\n      layer.set_sizeColumn(-1);\n      layer.set_colorMapColumn(-1);\n      layer.set_startDateColumn(-1);\n      layer.set_endDateColumn(-1);\n      layer.set_xAxisColumn(-1);\n      layer.set_yAxisColumn(-1);\n      layer.set_zAxisColumn(-1);\n\n      layer.set_altUnit(AltUnits.meters);\n      layer.set_referenceFrame(options.referenceFrame);\n\n      if (options.referenceFrame == 'Sky') {\n        layer.set_astronomical(true);\n      }\n\n      // Currently, table creation is synchronous, but treat it as async\n      // in case our API needs to get more sophisticated later.\n      const prom = Promise.resolve(layer);\n\n      // Mirror the layer state into the reactivity system.\n      const wwtLayer = await prom;\n      const guidText = wwtLayer.id.toString();\n      this.spreadSheetLayers[guidText] = new SpreadSheetLayerState(wwtLayer);\n\n      this.activeLayers = activeLayersList(this.$wwt);\n      return wwtLayer;\n    },\n\n    applyTableLayerSettings(options: ApplyTableLayerSettingsOptions): void {\n      if (this.$wwt.inst === null)\n        throw new Error('cannot applyTableLayerSettings without linking to WWTInstance');\n\n      this.$wwt.inst.applyTableLayerSettings(options);\n\n      // Mirror changes in the reactive framework.\n      const state = this.spreadSheetLayers[options.id];\n\n      if (state !== undefined) {\n        for (const s of options.settings) {\n          applySpreadSheetLayerSetting(state, s);\n        }\n      }\n    },\n\n    updateTableLayer(options: UpdateTableLayerOptions): void {\n      if (this.$wwt.inst === null)\n        throw new Error('cannot updateTableLayer without linking to WWTInstance');\n      this.$wwt.inst.updateTableLayer(options);\n\n      // Nothing to mirror in reactive-land -- this call affects the table data.\n    },\n\n    // Progressive HiPS catalogs.\n    //\n    // These have some characteristics of imagesets, and some characteristics\n    // of spreadsheet layers.\n    async addCatalogHipsByName(options: AddCatalogHipsByNameOptions): Promise<Imageset> {\n      if (this.$wwt.inst == null)\n        throw new Error('cannot addCatalogHipsByName without linking to WWTInstance');\n\n      const imgset = await this.$wwt.inst.addCatalogHipsByName(options);\n\n      // Mirror the spreadsheet layer aspect into the reactivity system.\n\n      const hips = imgset.get_hipsProperties();\n\n      if (hips !== null) {\n        const wwtLayer = hips.get_catalogSpreadSheetLayer();\n        const guidText = wwtLayer.id.toString();\n        this.spreadSheetLayers[guidText] = new SpreadSheetLayerState(wwtLayer);\n        const info = availableImagesets().find(x => x.name === options.name);\n        if (info !== undefined) {\n          info.id = guidText;\n        }\n      }\n\n      this.activeLayers = activeLayersList(this.$wwt);\n      return imgset;\n    },\n\n    getCatalogHipsDataInView(options: GetCatalogHipsDataInViewOptions): Promise<InViewReturnMessage> {\n      if (this.$wwt.inst == null)\n        throw new Error('cannot getCatalogHipsDataInView without linking to WWTInstance');\n      return this.$wwt.inst.getCatalogHipsDataInView(options);\n    },\n\n    removeCatalogHipsByName(name: string): void {\n      if (this.$wwt.inst == null)\n        throw new Error('cannot removeCatalogHipsByName without linking to WWTInstance');\n\n      this.$wwt.inst.ctl.removeCatalogHipsByName(name);\n\n      const id = Guid.createFrom(name).toString();\n      delete this.spreadSheetLayers[id];\n\n      this.activeLayers = activeLayersList(this.$wwt);\n    },\n\n    // Annotations\n\n    addAnnotation(ann: Annotation): void {\n      if (this.$wwt.inst === null)\n        throw new Error('cannot addAnnotation without linking to WWTInstance');\n      this.$wwt.inst.si.addAnnotation(ann);\n    },\n\n    removeAnnotation(ann: Annotation): void {\n      if (this.$wwt.inst === null)\n        throw new Error('cannot removeAnnotation without linking to WWTInstance');\n      this.$wwt.inst.si.removeAnnotation(ann);\n    },\n\n    clearAnnotations(): void {\n      if (this.$wwt.inst === null)\n        throw new Error('cannot clearAnnotations without linking to WWTInstance');\n      this.$wwt.inst.si.clearAnnotations();\n    },\n\n    // Capturing the current display\n\n    captureFrame(options: CaptureFrameOptions): Promise<Blob | null> {\n      if (this.$wwt.inst === null)\n        throw new Error('cannot captureThumbnail without linking to WWTInstance');\n      return this.$wwt.inst.captureFrame(options);\n    },\n\n    // Capturing a video as a readable stream\n\n    captureVideo(options: CaptureVideoOptions): ReadableStream<Blob | null> {\n      if (this.$wwt.inst === null)\n        throw new Error(\"cannot captureVideo without linking to WWTInstance\");\n      return this.$wwt.inst.captureVideo(options);\n    }\n  },\n});\n","// Copyright 2020-2021 the .NET Foundation\n// Licensed under the MIT License\n\nimport { defineComponent } from \"vue\";\nimport { mapActions, mapState } from \"pinia\";\nimport { engineStore } from \"./store\";\n\n/** A class for Vue components that wish to interact with a [[WWTComponent]]\n * through the Pinia state management system.\n *\n * Skip to [The WWT Pinia Interface](#the-wwt-pinia-interface) for a quick summary\n * of how WWT's state is exposed and controlled in Pinia.\n *\n * ## Introduction\n *\n * Vue applications are composed of multiple [components]. In a WWT-powered app,\n * one of those components will be a `<WorldWideTelescope>` component containing\n * the actual WWT rendering window. The other components of the app will wish to\n * monitor or alter the state of the WWT rendering window. The\n * [[WWTAwareComponent]] class provides a convenient framework for doing so.\n *\n * [components]: https://vuejs.org/v2/guide/components.html\n *\n * In particular, if your component [extends] this class, it\n * will automatically be set up with fields and methods allowing you to interact\n * with the WWT engines state. A minimal example:\n *\n * [extends]: https://vuejs.org/api/options-composition.html#extends\n *\n * ```vue\n * <template>\n *   <div id=\"app\">\n *     <WorldWideTelescope wwt-namespace=\"mywwt\"></WorldWideTelescope>\n *     <p class=\"coord-overlay\">{{ coordText }}</p>\n *   </div>\n * </template>\n *\n * <script lang=\"ts\">\n *   import { defineComponent } from \"vue\";\n *   import { fmtDegLat, fmtHours } from \"@wwtelescope/astro\";\n *   import { WWTAwareComponent } from \"@wwtelescope/engine-pinia\";\n *\n *   export default App = defineComponent({\n *     extends: WWTAwareComponent,\n *\n *     computed: {\n *      coordText() {\n *        return `${fmtHours(this.wwtRARad)} ${fmtDegLat(this.wwtDecRad)}`;\n *      }\n *     }\n *   });\n * </script>\n * ```\n *\n * This simple `App` component will display the coordinates of the current center\n * of the WWT view, and the coordinate readout will update automagically as the\n * user interacts with the view.\n *\n * ## Props\n *\n * Classes inheriting from [[WWTAwareComponent]] automatically define a prop\n * named [[wwtNamespace]]. This should be set to the namespace of the [Pinia\n * module] used to track the `<WorldWideTelescope>` components state  that is,\n * it should have the same value as that components own `wwtNamespace` prop.\n * The default value is `\"wwt\"`.\n *\n * [Pinia module]: https://pinia.vuejs.org/core-concepts/\n *\n * ## The WWT Pinia Interface\n *\n * Your [[WWTAwareComponent]] can monitor or manipulate the state of the WWT\n * renderer using the following interfaces, grouped by category. As a reminder,\n * in the Pinia paradigm, state is expressed in [state variables] and [getters],\n * and modified either directly or through [actions] (which can be asynchronous).\n *\n * [state variables]: https://pinia.vuejs.org/core-concepts/state.html\n * [getters]: https://pinia.vuejs.org/core-concepts/getters.html\n * [actions]: https://pinia.vuejs.org/core-concepts/actions.html\n *\n * ### Initialization\n *\n * Actions:\n *\n * - [[waitForReady]]\n * - [[setupForImageset]]\n *\n * ### Basic View Information\n *\n * State:\n *\n * - [[wwtCurrentTime]]\n * - [[wwtClockDiscontinuities]]\n * - [[wwtClockRate]]\n * - [[wwtDecRad]]\n * - [[wwtRARad]]\n * - [[wwtZoomDeg]]\n *\n * Getters:\n *\n * - [[findRADecForScreenPoint]]\n *\n * Actions:\n *\n * - [[gotoRADecZoom]]\n * - [[gotoTarget]]\n * - [[setClockRate]]\n * - [[setClockSync]]\n * - [[setTime]]\n * - [[setTrackedObject]]\n * - [[zoom]]\n *\n * ### Image Sets\n *\n * State:\n *\n * - [[wwtAvailableImagesets]]\n * - [[wwtBackgroundImageset]]\n * - [[wwtForegroundImageset]]\n * - [[wwtForegroundOpacity]]\n * - [[wwtRenderType]]\n *\n * Getters:\n *\n * - [[lookupImageset]]\n *\n * Actions:\n *\n * - [[loadImageCollection]]\n * - [[setBackgroundImageByName]]\n * - [[setForegroundImageByName]]\n * - [[setForegroundOpacity]]\n * - [[setupForImageset]]\n * - [[updateAvailableImagesets]]\n *\n * ### Imageset Layers (including FITS imagery)\n *\n * State:\n *\n * - [[wwtActiveLayers]]\n * - [[wwtImagesetLayers]]\n *\n * Getters:\n *\n * - [[activeImagesetLayerStates]]\n * - [[imagesetForLayer]]\n * - [[imagesetStateForLayer]]\n *\n * Actions:\n *\n * - [[addImageSetLayer]]\n * - [[loadFitsLayer]] (deprecated)\n * - [[applyFitsLayerSettings]]\n * - [[setFitsLayerColormap]]\n * - [[stretchFitsLayer]]\n * - [[setImageSetLayerOrder]]\n * - [[deleteLayer]]\n *\n * ### Tabular Data Layers\n *\n * State:\n *\n * - [[wwtActiveLayers]]\n * - [[wwtSpreadSheetLayers]]\n *\n * Actions:\n *\n * - [[createTableLayer]]\n * - [[applyTableLayerSettings]]\n * - [[updateTableLayer]]\n * - [[deleteLayer]]\n *\n * ### Annotations\n *\n * Actions:\n *\n * - [[addAnnotation]]\n * - [[clearAnnotations]]\n * - [[removeAnnotation]]\n *\n * ### Progressive HiPS Catalogs\n *\n * These have some characteristics of both imagesets and tabular (\"spreadsheet\") data\n * layers.\n *\n * Getters:\n *\n * - [[layerForHipsCatalog]]\n * - [[spreadsheetStateForHipsCatalog]]\n *\n * Actions:\n *\n * - [[addCatalogHipsByName]]\n * - [[applyTableLayerSettings]]\n * - [[getCatalogHipsDataInView]]\n * - [[removeCatalogHipsByName]]\n *\n * ### Tours\n *\n * State:\n *\n * - [[wwtIsTourPlayerActive]]\n * - [[wwtIsTourPlaying]]\n * - [[wwtTourCompletions]]\n * - [[wwtTourRunTime]]\n * - [[wwtTourStopStartTimes]]\n * - [[wwtTourTimecode]]\n *\n * Actions:\n *\n * - [[loadTour]]\n * - [[seekToTourTimecode]]\n * - [[setTourPlayerLeaveSettingsWhenStopped]]\n * - [[startTour]]\n * - [[toggleTourPlayPauseState]]\n *\n * ### Miscellaneous\n *\n * State:\n *\n * - [[showWebGl2Warning]]\n *\n * Actions:\n *\n * - [[applySetting]]\n **/\nexport const WWTAwareComponent = defineComponent({\n  props: {\n    /** The namespace of the Pinia module used to track the WWT components state.\n     * This prop should have the same value in all components in the app that\n     * reference WWT.\n     */\n    wwtNamespace: { type: String, default: \"wwt\", required: true },\n    wwtFreestandingAssetBaseurl: String,\n  },\n\n  computed: {\n    ...mapState(engineStore, {\n\n      /** The GUIDs of all rendered layers, in their draw order.\n       *\n       * This list gives the GUIDs of the layers that are currently candidates for\n       * rendering. This list is determined by the hierarchy of \"layer maps\"\n       * registered with the engine and its current rendering mode. Layers in this\n       * list might not be actually rendered if their `enabled` flag is false, if\n       * they are fully transparent, and so on.\n       **/\n      wwtActiveLayers: 'activeLayers',\n\n      /** Information about the imagesets that are available to be used as a background.\n         *\n         * The info includes the name, which can then be used to set the background image\n         * via the [[setBackgroundImageByName]] mutation.\n         */\n      wwtAvailableImagesets: 'availableImagesets',\n\n      /** The current background [Imageset](../../engine/classes/imageset.html), or\n       * null if it is undefined.\n       *\n       * You can cause this state variable to change using the\n       * [[setBackgroundImageByName]] mutation.\n       * **/\n      wwtBackgroundImageset: 'backgroundImageset',\n\n      /** The current time of WWT internal clock. In normal operation this variable\n       * will change with every rendered WWT frame, or every 30 ms or so.\n       */\n      wwtCurrentTime: 'currentTime',\n\n      /** The number of times that the progression of the WWT internal clock has\n       * been changed discontinuously.\n       *\n       * The main use of this state variable is that you can\n       * [watch](https://vuejs.org/api/reactivity-core.html#watch) for changes to it and be alerted\n       * when the clock has been altered. */\n      wwtClockDiscontinuities: 'clockDiscontinuities',\n\n      /** The rate at which the WWT internal clock progresses compared to real time.\n       * If the WWT clock is paused, this will be zero. Negative and fractional\n       * values are both possible. */\n      wwtClockRate: 'clockRate',\n\n      /** The current declination of the center of the WWT view, in radians.\n       *\n       * TODO: define the meaning here for view modes other than \"sky.\"\n       */\n      wwtDecRad: 'decRad',\n\n      /** The current foreground [Imageset](../../engine/classes/imageset.html), or\n       * null if it is undefined.\n       *\n       * You can cause this state variable to change using the\n       * [[setForegroundImageByName]] mutation.\n       * **/\n      wwtForegroundImageset: 'foregroundImageset',\n\n      /** The opacity of the foreground imageset. Values range between 0 (invisible)\n        * and 100 (fully opaque). */\n      wwtForegroundOpacity: 'foregroundOpacity',\n\n      /** A table of activated imageset layers.\n       *\n       * Use [[imagesetStateForLayer]] to access information about a particular\n       * layer.\n       */\n      wwtImagesetLayers: 'imagesetLayers',\n\n      /** Whether a tour has been loaded up and is available for playback. */\n      wwtIsTourPlayerActive: 'isTourPlayerActive',\n\n      /** Whether a tour is actively playing back right now. This can spontaneously become\n        * false if the tour completes playing. */\n      wwtIsTourPlaying: 'isTourPlaying',\n\n      /** The current right ascension of the center of the WWT view, in radians.\n       *\n       * TODO: define the meaning here for view modes other than \"sky.\"\n       */\n      wwtRARad: 'raRad',\n\n      /** The current mode of the WWT renderer.\n       *\n       * This is derived from the \"type\" of the active background imageset. To\n       * change the mode, change the background imageset with\n       * [[setBackgroundImageByName]].\n       */\n      wwtRenderType: 'renderType',\n\n      /** The current roll of the view camera, in radians */\n      wwtRollRad: 'rollRad',\n\n      /** Whether or not to show a warning about recommending WebGL 2 */\n      wwtShowWebGl2Warning: 'showWebGl2Warning',\n\n      /** A table of activated imageset layers.\n       *\n       * Use [[imagesetStateForLayer]] to access information about a particular\n       * layer.\n       */\n      wwtSpreadSheetLayers: 'spreadSheetLayers',\n\n      /** The number of times that a WWT tour has completed playing.\n       *\n       * The main use of this state variable is that you can\n       * [watch](https://vuejs.org/api/reactivity-core.html#watch) for changes to it and be alerted\n       * when a tour finishes. Watching [[wwtIsTourPlaying]] doesn't suffice because\n       * that will trigger when a tour is paused. */\n      wwtTourCompletions: 'tourCompletions',\n\n      /** The total runtime of the current tour, in seconds, if there is one. */\n      wwtTourRunTime: 'tourRunTime',\n\n      /** The timecodes at which the current tours \"stops\" begin, in seconds.\n       *\n       * Each WWT tour is composed of one or more \"stops\", each of which has a fixed\n       * wall-clock duration. This variable gives the start times of the stops under\n       * the assumption that they all follow one another in sequence. It is possible\n       * to have nonlinear flow from one stop to the next.\n       *\n       * If no tour is loaded, this is an empty array.\n       */\n      wwtTourStopStartTimes: 'tourStopStartTimes',\n\n      /** The \"timecode\" of the current tour playback progression.\n       *\n       * The \"timecode\" is approximately the number of seconds elapsed since tour\n       * playback began. More precisely, however, it is the start time of the\n       * current tour stop, plus however much wall-clock time has elapsed while at\n       * that stop. Because it is possible for stops to link to each other\n       * non-linearly, it is also possible for the timecode to progress non-linearly\n       * even when the tour plays back without user interaction.\n       *\n       * In combination with [[wwtTourStopStartTimes]], you can use this value to\n       * determine the index number of the currently active tour stop.\n       *\n       * If no tour is loaded, this is zero.\n       */\n      wwtTourTimecode: 'tourTimecode',\n\n      /** The WWT zoom level, in degrees.\n       *\n       * TODO: define the semantics here in 3D and other modes.\n       *\n       * In 2D sky mode, the zoom level is the angular height of the viewport,\n       * *times six*.\n       */\n      wwtZoomDeg: 'zoomDeg',\n    }),\n\n    ...mapState(engineStore, [\n      /** Get the reactive state for the active imageset layers\n       *\n       * These layers are created using the [[addImageSetLayer]] action. The state\n       * structures returned by this function are part of the reactive store, so\n       * you can wire them up to your UI and they will update correctly. The list is\n       * returned in the engine's render order.\n       *\n       * @returns The layer states\n       */\n      \"activeImagesetLayerStates\",\n\n      /** Get the right ascension and declination, in degrees, for x, y coordinates on the screen */\n      \"findRADecForScreenPoint\",\n\n      /** Given an RA and Dec position, return the x, y coordinates of the screen point */\n      \"findScreenPointForRADec\",\n\n      /** Look up the WWT engine object for an active imageset layer.\n       *\n       * This getter gets the WWT `Imageset` object associated with an imageset\n       * layer. The returned object is *not* part of the Vue(x) reactivity system,\n       * so you shouldn't use it to set up UI elements, but you can obtain more\n       * detailed information about the imageset than is stored in the state\n       * management system. For UI purposes, use [[imagesetStateForLayer]].\n       *\n       * @param guidtext The GUID of the layer to query, as a string\n       * @returns The layer's underlying imageset, or null if the GUID is\n       * unrecognized\n       */\n      \"imagesetForLayer\",\n\n      /** Look up the reactive state for an active imageset layer.\n       *\n       * These layers are created using the [[addImageSetLayer]] action. The state\n       * returned by this function is part of the reactive store, so you can\n       * wire it up to your UI and it will update as the layer settings are changed.\n       * If you need \"runtime\" state not captured in the reactivity system, you may\n       * need to use [[imagesetForLayer]] instead.\n       *\n       * @param guidtext The GUID of the layer to query, as a string\n       * @returns The layer state, or null if the GUID is unrecognized\n       */\n      \"imagesetStateForLayer\",\n\n      /** Get the actual WWT `SpreadSheetLayer` for the named HiPS catalog.\n       *\n       * Do not use this function for UI purposes -- the WWT layer object is not\n       * integrated into the reactive state system, and so if you use it as a basis\n       * for UI elements, those elements will not be updated properly if/when the\n       * layer's settings change. Use [[spreadsheetStateForHipsCatalog]] instead.\n       *\n       * @param name The `datasetName` of the HiPS catalog\n       */\n      \"layerForHipsCatalog\",\n\n      /** Look up an [Imageset](../../engine/classes/imageset.html) in the engines\n       * table of ones with registered names.\n       *\n       * This delegates to\n       * [WWTControl.getImagesetByName()](../../engine/wwtcontrol.html#getimagesetbyname),\n       * which has very eager name-matching rules. But if nothing matches, null is\n       * returned.\n       *\n       * Imagesets are not added to the engines list of names automatically. In\n       * order for an imageset to be findable by this function, its containing\n       * folder must have been loaded using the [[loadImageCollection]] action.\n       */\n      \"lookupImageset\",\n\n      /** Get the actual WWT `SpreadSheetLayer` for the table layer with the given ID.\n       *\n       * Do not use this function for UI purposes -- the WWT layer object is not\n       * integrated into the reactive state system, and so if you use it as a basis\n       * for UI elements, those elements will not be updated properly if/when the\n       * layer's settings change. Use [[spreadsheetState]] instead.\n       *\n       * @param id The table layer's identifier.\n       */\n      \"spreadSheetLayerById\",\n\n      /** Get the actual WWT `SpreadSheetLayer` for the table layer corresponding\n       * to the given CatalogLayerInfo.\n       *\n       * Do not use this function for UI purposes -- the WWT layer object is not\n       * integrated into the reactive state system, and so if you use it as a basis\n       * for UI elements, those elements will not be updated properly if/when the\n       * layer's settings change. Use [[spreadsheetState]] instead.\n       *\n       * @param id The table layer's identifier.\n       */\n      \"spreadSheetLayer\",\n\n      /** Get reactive `SpreadSheetLayer` settings for the table layer corresponding to\n       * the given CatalogLayerInfo.\n       *\n       * The returned data structure is a component of the app's reactive state. You can\n       * therefore use the settings to construct UI elements, and they will update\n       * reactively as the state evolves. The actual data structures used by WWT are\n       * separate, but the two mirror each other.\n       *\n       * @param catalog A CatalogLayerInfo object corresponding to the layer.\n       */\n      \"spreadsheetState\",\n\n      /** Get reactive `SpreadSheetLayer` settings for the table layer with the given ID.\n       *\n       * The returned data structure is a component of the app's reactive state. You can\n       * therefore use the settings to construct UI elements, and they will update\n       * reactively as the state evolves. The actual data structures used by WWT are\n       * separate, but the two mirror each other.\n       *\n       * @param id The identifier of the table layer.\n       */\n      \"spreadsheetStateById\",\n\n      /** Get reactive `SpreadSheetLayer` settings for the named HiPS catalog.\n       *\n       * The returned data structure is a component of the app's reactive state. You can\n       * therefore use the settings to construct UI elements, and they will update\n       * reactively as the state evolves. The actual data structures used by WWT are\n       * separate, but the two mirror each other.\n       *\n       * @param name The `datasetName` of the HiPS catalog\n       */\n      \"spreadsheetStateForHipsCatalog\",\n    ]),\n  },\n\n  methods: {\n    ...mapActions(engineStore, [\n\n      /** Add a \"catalog HiPS\" dataset to the current view, by name.\n       *\n       * If the catalog name is not in the engine's registry, the promise rejects.\n       */\n      \"addCatalogHipsByName\",\n\n      /** Request the creation of a tabular data layer.\n       *\n       * The action resolves to a new [SpreadSheetLayer](../../engine/classes/spreadsheetlayer.html) instance.\n       */\n      \"createTableLayer\",\n\n      /** Request an export of the catalog HiPS data within the current viewport. */\n      \"getCatalogHipsDataInView\",\n\n      /** Command the view to steer to a specific configuration.\n       *\n       * The async action completes when the view arrives, or when\n       * a subsequent view command overrides this one.\n       *\n       * TODO: document semantics when not in 2D sky mode!\n       */\n      \"gotoRADecZoom\",\n\n      /** Returns the time it would take, in seconds, to navigate to the given target. */\n      \"timeToRADecZoom\",\n\n      /** Command the view to steer as specified in\n       * [the options](../../engine-helpers/interfaces/gototargetoptions.html).\n       *\n       * The async action completes when the view arrives, or when\n       * a subsequent view command overrides this one.\n       */\n      \"gotoTarget\",\n\n      /** Request the engine to load the specified image collection.\n       *\n       * The image collection is a [WTML file](https://docs.worldwidetelescope.org/data-guide/1/data-file-formats/collections/)\n       * Images in collections loaded this way become usable for name-based lookup\n       * by interfaces such as [[setForegroundImageByName]].\n       *\n       * The action resolves to a [Folder](../../engine/classes/folder.html) instance.\n       * Its asynchronous because the specified WTML file has to be downloaded.\n       */\n      \"loadImageCollection\",\n\n      /** Add an imageset directly into the engine's database.\n       *\n       * If an imageset with the same URL has already been loaded, this is a\n       * no-op.\n       *\n       * This returns the imageset that ultimately resides in the engine's\n       * database. It could either be the input argument, if it was newly added,\n       * or a pre-existing imageset in the no-op condition.\n       */\n      \"addImagesetToRepository\",\n\n      /** Deprecated. Use addImageSetLayer instead.\n       * Request the creation of a FITS image layer.\n       *\n       * The action resolves to a new [ImageSetLayer](../../engine/classes/imagesetlayer.html) instance.\n       * Its asynchronous because the requested FITS file has to be downloaded.\n       */\n      \"loadFitsLayer\",\n\n      /** Request the creation of a image layer. Either a single FITS or an image set.\n       *\n       * The action resolves to a new [ImageSetLayer](../../engine/classes/imagesetlayer.html) instance.\n       * Its asynchronous because the requested url has to be downloaded.\n       */\n      \"addImageSetLayer\",\n\n\n      /** Request the engine to load a tour file.\n       *\n       * The action resolves when the load is complete. Its asynchronous because\n       * the full WTT tour file has to be downloaded.\n      */\n      \"loadTour\",\n\n      /** Get the current view as a one-slide tour, serialized to XML */\n      \"viewAsTourXml\",\n\n      /** Wait for the WWT engine to become ready for usage.\n       *\n       * You should invoke this action and wait for is completion before trying to\n       * do anything else with a WWT-aware component. The action resolves when the\n       * WWT engine has completed its initialization, which involes the download of\n       * some supporting data files.\n       */\n      \"waitForReady\",\n\n      // Formerly mutations\n      // TODO: Alphabetize this into one big list\n\n      /** Add an [Annotation](../../engine/classes/annotation.html) to the view. */\n      \"addAnnotation\",\n\n      /** Alter one or more settings of the specified FITS image layer as specified\n       * in [the options](../../engine-helpers/interfaces/applyfitslayersettingsoptions.html).\n       */\n      \"applyFitsLayerSettings\",\n\n      /** Alter one or more settings of the specified tabular data layers as specified\n       * in [the options](../../engine-helpers/interfaces/applytablelayersettingsoptions.html).\n       */\n      \"applyTableLayerSettings\",\n\n      /** Alter one [WWT engine setting](../../engine/modules.html#enginesetting). */\n      \"applySetting\",\n\n      /** Capture the current frame as an image `Blob` with the desired width, height, and format.\n       * The first argument is a callback function to execute on the created `Blob`. */\n      'captureFrame',\n\n      /** Capture a video as a stream of image `Blob`s with the desired width, height and format.\n       * The number of frames per second and total frame count are specified as well. */\n      'captureVideo',\n\n      /** Clear all [Annotations](../../engine/classes/annotation.html) from the view. */\n      \"clearAnnotations\",\n\n      /** Delete the specified layer from the layer manager.\n       *\n       * A layer may be identified by either its name or its [id](../../engine/classes/layer.html#id).\n       */\n      \"deleteLayer\",\n\n      /** Remove the specified [Annotation](../../engine/classes/annotation.html) from the view. */\n      \"removeAnnotation\",\n\n      /** Remove a \"catalog HiPS\" dataset to the current view, by name. */\n      \"removeCatalogHipsByName\",\n\n      /** Seek tour playback to the specified timecode.\n       *\n       * See [[wwtTourTimecode]] for a definition of the tour timecode.\n       *\n       * An important limitation is that the engine can only seek to the very\n       * beginning of a tour stop. If you request a timecode in the middle of a\n       * slide, the seek will actually occur to the start time of that slide.\n       */\n      \"seekToTourTimecode\",\n\n      /** Set the current background [Imageset](../../engine/classes/imageset.html)\n       * based on its name.\n       *\n       * The name lookup here is effectively done using [[lookupImageset]]. If\n       * the name is not found, the current background imageset remains unchanged.\n       *\n       * Changing the background imageset may change the value of [[wwtRenderType]],\n       * and the overall \"mode\" of the WWT renderer.\n       */\n      \"setBackgroundImageByName\",\n\n      /** Set the rate at which the WWT clock progresses compared to wall-clock time.\n       *\n       * A value of 10 means that the WWT clock progresses ten times faster than\n       * real time. A value of -0.1 means that the WWT clock moves backwards, ten\n       * times slower than real time.\n       *\n       * Altering this causes an increment in [[wwtClockDiscontinuities]].\n       */\n      \"setClockRate\",\n\n      /** Set whether the WWT clock should progress with real time.\n       *\n       * See\n       * [SpaceTimeController.set_syncToClock()](../../engine/modules/spacetimecontroller.html#set_synctoclock).\n       * This interface effectively allows you to pause the WWT clock.\n       *\n       * Altering this causes an increment in [[wwtClockDiscontinuities]].\n       */\n      \"setClockSync\",\n\n      /** Set the colormap used for a FITS image layer according to\n       * [the options](../../engine-helpers/interfaces/setfitslayercolormapoptions.html).\n       */\n      \"setFitsLayerColormap\",\n\n      /** Set the current foreground [Imageset](../../engine/classes/imageset.html)\n       * based on its name.\n       *\n       * The name lookup here is effectively done using [[lookupImageset]]. If\n       * the name is not found, the current foreground imageset remains unchanged.\n       */\n      \"setForegroundImageByName\",\n\n      /** Set the opacity of the foreground imageset.\n       *\n       * Valid values are between 0 (invisible) and 100 (fully opaque).\n       */\n      \"setForegroundOpacity\",\n\n      /** Change the [ImageSetLayer](../../engine/classes/imagesetlayer.html)\n       * position in the draw cycle.\n       */\n      \"setImageSetLayerOrder\",\n\n      /** Set whether the renderer settings of tours should remain applied after\n       * those tours finish playing back.\n       *\n       * This specialized option helps avoid jarring visual effects when tours\n       * finish playing. If a tour activates a renderer option like \"local horizon\n       * mode\", by default that option will turn off when the tour finishes, causing\n       * the view to suddenly change. If this option is set to True, that setting\n       * will remain active, preventing the sudden change.\n       */\n      \"setTourPlayerLeaveSettingsWhenStopped\",\n\n      /** Set the current time of WWT's internal clock.\n       *\n       * Altering this causes an increment in [[wwtClockDiscontinuities]].\n       */\n      \"setTime\",\n\n      /** Set the \"tracked object\" in the 3D solar system view.\n       *\n       * Allowed values are\n       * [defined in @wwtelescope/engine-types](../../engine-types/enums/solarsystemobjects.html).\n       */\n      \"setTrackedObject\",\n\n      /** Set up the background and foreground imagesets according to\n       * [the options](../../engine-helpers/interfaces/setupforimagesetoptions.html)\n       *\n       * The main use of this interface is that it provides a mechanism to guess\n       * the appropriate background imageset given a foreground imageset that you\n       * want to show.\n       */\n      \"setupForImageset\",\n\n      /** Start playback of the currently loaded tour.\n       *\n       * Nothing happens if no tour is loaded.\n       */\n      \"startTour\",\n\n      /** Alter the \"stretch\" of a FITS image layer according to\n       * [the options](../../engine-helpers/interfaces/stretchfitslayeroptions.html).\n       */\n      \"stretchFitsLayer\",\n\n      /** Toggle the play/pause state of the current tour.\n       *\n       * Nothing happens if no tour is loaded.\n       */\n      \"toggleTourPlayPauseState\",\n\n      /** Update the contents of a tabular data layer according to\n       * [the options](../../engine-helpers/interfaces/updatetablelayeroptions.html).\n       */\n      \"updateTableLayer\",\n\n      //\"updateAvailableImagesets\",\n\n      /** Set the zoom level of the view.\n       *\n       * This action may result in an action that takes a perceptible amount of\n       * time to resolve, if the \"smooth pan\" renderer option is enabled. To have\n       * proper asynchronous feedback about when the zoom operation completes, use\n       * [[gotoRADecZoom]].\n       */\n      \"zoom\",\n\n      /** Moves the position of the view */\n      \"move\",\n\n      /** Tilts the position of the view */\n      \"tilt\",\n    ]),\n  }\n\n});\n","import { openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = [\"id\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    id: _ctx.uniqueId,\n    class: \"wwtelescope-component\"\n  }, null, 8, _hoisted_1))\n}","\nimport { defineComponent, markRaw, nextTick } from \"vue\";\nimport { mapActions } from \"pinia\";\nimport { engineStore } from \"./store\"\n\nimport { WWTInstance } from \"@wwtelescope/engine-helpers\";\n\nlet idCounter = 0;\n\ninterface ComponentData {\n  uniqueId: string;\n  wwt: WWTInstance | undefined;\n  renderLoopId: number | undefined;\n}\n\n/** This is the component docstring. */\nexport default defineComponent({\n\n  props: {\n    wwtNamespace: { type: String, default: \"wwt\", required: true },\n    wwtFreestandingAssetBaseurl: String,\n  },\n\n  data(): ComponentData {\n    return {\n      uniqueId: \"\",\n      wwt: undefined,\n      renderLoopId: undefined\n    }\n  },\n\n  methods: {\n    ...mapActions(engineStore, [\n      \"internalIncrementTourCompletions\",\n      \"internalLinkToInstance\",\n      \"internalUnlinkFromInstance\",\n      \"internalUpdate\",\n      \"waitForReady\",\n    ])\n  },\n\n  created() {\n    // Create a globally unique ID for the div that the WWT engine can latch onto.\n    const uid = `wwtcmpt${idCounter}`;\n    Object.defineProperties(this, {\n      uniqueId: { get() { return uid; } },\n    });\n    idCounter += 1;\n  },\n\n  mounted() {\n    this.wwt = markRaw(new WWTInstance({\n      elId: this.uniqueId,\n      startInternalRenderLoop: false,\n\n      // Start at the Galactic Center by default. RA of the GC ~= 266.4 deg; in WWT, lng = 360 - RA.\n      startLatDeg: -28.9,\n      startLngDeg: 93.6,\n\n      freestandingAssetBaseurl: this.wwtFreestandingAssetBaseurl,\n    }));\n\n    // TODO: The build fails with a TypeScript error without \"as WWTInstance\"\n    // Figure out why!\n    this.internalLinkToInstance(this.wwt as WWTInstance);\n\n    const render = () => {\n      const wwt = this.wwt as WWTInstance;\n\n      this.renderLoopId = window.requestAnimationFrame(render);\n      wwt.ctl.renderOneFrame();\n      this.internalUpdate();\n    };\n\n    // Wait for the WWT engine to signal readiness, then wait another tick, then\n    // start the rendering loop. This way, if a user wants to do some\n    // initialization that has to wait for the ready signal, we won't flash any\n    // weirdly-initialized content.\n    this.waitForReady().then(() => {\n      nextTick().then(() => {\n        this.renderLoopId = window.requestAnimationFrame(render);\n      });\n    });\n\n    this.wwt.tourEndedCallback = ((_tp) => {\n      this.internalIncrementTourCompletions();\n    });\n  },\n\n  unmounted() {\n    if (this.renderLoopId !== undefined) {\n      window.cancelAnimationFrame(this.renderLoopId);\n      this.renderLoopId = undefined;\n    }\n\n    if (this.wwt !== undefined) {\n      this.wwt.tourEndedCallback = null;\n    }\n\n    this.internalUnlinkFromInstance();\n  }\n\n});\n","import { render } from \"./Component.vue?vue&type=template&id=78a35556&ts=true\"\nimport script from \"./Component.vue?vue&type=script&lang=ts\"\nexport * from \"./Component.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","// Copyright 2020 the .NET Foundation\n// Licensed under the MIT License\n\nimport { createPinia } from 'pinia';\n\nexport { SetupForImagesetOptions } from \"@wwtelescope/engine-helpers\";\n\nexport {\n  CatalogLayerInfo,\n  CreateTableLayerParams,\n  GotoRADecZoomParams,\n  ImagesetInfo,\n  ImageSetLayerState,\n  LoadImageCollectionParams,\n  LoadTourParams,\n  SpreadSheetLayerInfo,\n  WWTEnginePiniaState,\n  engineStore\n} from \"./store\";\n\nexport { WWTAwareComponent } from \"./wwtaware\";\n\nimport WWTComponent from \"./Component.vue\";\nimport { WWTGlobalState } from './store';\nexport { WWTComponent }\n\nexport const wwtPinia = createPinia();\nwwtPinia.use(({ store }) => {\n  store.$wwt = new WWTGlobalState();\n});\n"],"names":["root","factory","exports","module","require","define","amd","self","this","__WEBPACK_EXTERNAL_MODULE__415__","__WEBPACK_EXTERNAL_MODULE__203__","sfc","props","target","__vccOpts","key","val","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","d","definition","o","Object","defineProperty","enumerable","get","g","globalThis","Function","e","window","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","p","currentScript","document","src","match","Array","isArray","length","Math","max","splice","getDevtoolsGlobalHook","getTarget","__VUE_DEVTOOLS_GLOBAL_HOOK__","navigator","isProxyAvailable","Proxy","HOOK_SETUP","HOOK_PLUGIN_SETTINGS_SET","supported","perf","activePinia","isPerformanceSupported","_a","performance","perf_hooks","now","Date","ApiProxy","constructor","plugin","hook","targetQueue","onQueue","defaultSettings","settings","id","item","defaultValue","localSettingsSaveId","currentSettings","assign","raw","localStorage","getItem","data","JSON","parse","fallbacks","getSettings","setSettings","setItem","stringify","on","pluginId","proxiedOn","_target","args","push","method","proxiedTarget","keys","includes","resolve","Promise","setRealTarget","setupDevtoolsPlugin","pluginDescriptor","setupFn","descriptor","enableProxy","enableEarlyProxy","__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__","proxy","list","__VUE_DEVTOOLS_PLUGINS__","emit","setActivePinia","pinia","piniaSymbol","isPlainObject","toString","toJSON","MutationType","IS_CLIENT","USE_DEVTOOLS","_global","global","HTMLElement","bom","blob","autoBom","test","type","Blob","String","fromCharCode","download","url","name","opts","xhr","XMLHttpRequest","open","responseType","onload","saveAs","response","onerror","console","error","send","corsEnabled","status","click","node","dispatchEvent","MouseEvent","evt","createEvent","initMouseEvent","_navigator","userAgent","isMacOSWebView","HTMLAnchorElement","downloadSaveAs","msSaveAs","fileSaverSaveAs","a","createElement","rel","href","origin","location","URL","createObjectURL","setTimeout","revokeObjectURL","msSaveOrOpenBlob","popup","title","body","innerText","force","isSafari","isChromeIOS","FileReader","reader","onloadend","result","Error","replace","readAsDataURL","toastMessage","message","piniaMessage","__VUE_DEVTOOLS_TOAST__","warn","log","isPinia","checkClipboardAccess","checkNotFocusedError","toLowerCase","async","actionGlobalCopyState","clipboard","writeText","state","actionGlobalPasteState","loadStoresState","readText","actionGlobalSaveState","fileInput","getFileOpener","openFile","reject","onchange","files","file","text","oncancel","accept","actionGlobalOpenStateFile","storeState","formatDisplay","display","_custom","PINIA_ROOT_LABEL","PINIA_ROOT_ID","formatStoreForInspectorTree","store","label","$id","formatStoreForInspectorState","storeNames","from","_s","storeMap","map","storeId","editable","getters","filter","_getters","reduce","$state","getterName","_customProperties","size","customProperties","formatEventData","events","event","operations","oldValue","newValue","operation","formatMutationType","direct","patchFunction","patchObject","isTimelineActive","componentStateTypes","MUTATIONS_LAYER_ID","INSPECTOR_ID","assign$1","getStoreType","registerPiniaDevtools","app","logo","packageName","homepage","api","addTimelineLayer","color","addInspector","icon","treeFilterPlaceholder","actions","action","tooltip","sendInspectorTree","sendInspectorState","nodeActions","nodeId","$reset","inspectComponent","payload","ctx","componentInstance","_pStores","piniaStores","values","forEach","instanceData","_isOptionsAPI","toRaw","getInspectorTree","inspectorId","stores","concat","rootNodes","getInspectorState","inspectedStore","editInspectorState","path","unshift","has","set","editComponentState","startsWith","addStoreToDevtools","logStoreChanges","bind","$onAction","after","onError","groupId","runningActionId","addTimelineEvent","layerId","time","subtitle","activeAction","logType","watch","unref","notifyComponentUpdate","deep","$subscribe","eventData","detached","flush","hotUpdate","_hotUpdate","markRaw","newStore","info","$dispose","patchActionForGrouping","actionNames","wrapWithProxy","storeActions","actionName","_actionId","trackedStore","Reflect","retValue","apply","arguments","devtoolsPlugin","options","originalHotUpdate","_hmrPayload","createPinia","scope","effectScope","run","ref","_p","toBeInstalled","install","provide","config","globalProperties","$pinia","use","_e","Map","noop","addSubscription","subscriptions","callback","onCleanup","removeSubscription","idx","indexOf","getCurrentScope","onScopeDispose","triggerSubscriptions","slice","fallbackRunWithContext","fn","mergeReactiveObjects","patchToApply","Set","add","subPatch","targetValue","isRef","isReactive","skipHydrateSymbol","skipHydrateMap","WeakMap","shouldHydrate","isComputed","effect","createOptionsStore","hot","initialState","setup","localState","toRefs","computedGetters","computed","_r","createSetupStore","isOptionsStore","optionsForPlugin","$subscribeOptions","isListening","isSyncListening","debuggerEvents","actionSubscriptions","hotState","activeListener","$patch","partialStateOrMutator","subscriptionMutation","myListenerId","nextTick","then","newState","stop","delete","wrapAction","afterCallbackList","onErrorCallbackList","ret","catch","partialStore","stopWatcher","reactive","runWithContext","setupStore","actionValue","nonEnumerable","writable","configurable","extender","extensions","hydrate","defineStore","idOrOptions","setupOptions","isSetupStore","useStore","hasContext","hasInjectionContext","inject","mapState","keysOrMapper","reduced","storeKey","mapActions","extendStatics","b","setPrototypeOf","__proto__","__extends","TypeError","__","create","__assign","t","s","i","n","__awaiter","thisArg","_arguments","P","generator","adopt","fulfilled","step","next","rejected","done","__generator","f","y","_","sent","trys","ops","verb","iterator","v","op","pop","m","__read","ar","SuppressedError","AltTypes","AltUnits","BandPass","Classification","CoordinatesType","DataTypes","FadeType","FolderGroup","FolderRefreshType","FolderType","ImageSetType","MarkerScales","PlotTypes","PointScaleTypes","ProjectionType","RAUnits","ReferenceFrames","ReferenceFrameTypes","ScaleTypes","SolarSystemObjects","PI","R2D","D2R","R2H","H2R","D2H","layerSettingNames","copyLayerSettings","source","dest","e_2","layerSettingNames_2","layerSettingNames_2_1","e_2_1","return","LayerState","get_astronomical","astronomical","set_astronomical","get_color","set_color","get_enabled","enabled","set_enabled","get_endTime","endTime","set_endTime","get_fadeSpan","fadeSpan","set_fadeSpan","get_fadeType","fadeType","set_fadeType","get_name","set_name","get_opacity","opacity","set_opacity","get_opened","opened","set_opened","get_referenceFrame","referenceFrame","set_referenceFrame","get_startTime","startTime","set_startTime","get_version","version","set_version","justImageSetLayerSettingNames","applyImageSetLayerSetting","layer","setting","funcName","copyImageSetLayerSettings","justImageSetLayerSettingNames_2","justImageSetLayerSettingNames_2_1","_super","ImageSetLayerState","_this","get_colorMapperName","colorMapperName","set_colorMapperName","get_overrideDefaultLayer","overrideDefaultLayer","set_overrideDefaultLayer","justSpreadSheetLayerSettingNames","applySpreadSheetLayerSetting","copySpreadSheetLayerSettings","justSpreadSheetLayerSettingNames_2","justSpreadSheetLayerSettingNames_2_1","SpreadSheetLayerState","get_altColumn","altColumn","set_altColumn","get_altType","altType","set_altType","get_altUnit","altUnit","set_altUnit","get_barChartBitmask","barChartBitmask","set_barChartBitmask","get_beginRange","beginRange","set_beginRange","get_cartesianCustomScale","cartesianCustomScale","set_cartesianCustomScale","get_cartesianScale","cartesianScale","set_cartesianScale","get_colorMapColumn","colorMapColumn","set_colorMapColumn","get_coordinatesType","coordinatesType","set_coordinatesType","get_decay","decay","set_decay","get_dynamicColor","dynamicColor","set_dynamicColor","get_dynamicData","dynamicData","set_dynamicData","get_endDateColumn","endDateColumn","set_endDateColumn","get_endRange","endRange","set_endRange","get_geometryColumn","geometryColumn","set_geometryColumn","get_hyperlinkColumn","hyperlinkColumn","set_hyperlinkColumn","get_hyperlinkFormat","hyperlinkFormat","set_hyperlinkFormat","get_latColumn","latColumn","set_latColumn","get_lngColumn","lngColumn","set_lngColumn","get_markerColumn","markerColumn","set_markerColumn","get_markerIndex","markerIndex","set_markerIndex","get_markerScale","markerScale","set_markerScale","get_nameColumn","nameColumn","set_nameColumn","get_normalizeColorMap","normalizeColorMap","set_normalizeColorMap","get_normalizeColorMapMax","normalizeColorMapMax","set_normalizeColorMapMax","get_normalizeColorMapMin","normalizeColorMapMin","set_normalizeColorMapMin","get_normalizeSize","normalizeSize","set_normalizeSize","get_normalizeSizeClip","normalizeSizeClip","set_normalizeSizeClip","get_normalizeSizeMax","normalizeSizeMax","set_normalizeSizeMax","get_normalizeSizeMin","normalizeSizeMin","set_normalizeSizeMin","get_plotType","plotType","set_plotType","get_pointScaleType","pointScaleType","set_pointScaleType","get_raUnits","raUnits","set_raUnits","get_scaleFactor","scaleFactor","set_scaleFactor","get_showFarSide","showFarSide","set_showFarSide","get_sizeColumn","sizeColumn","set_sizeColumn","get_startDateColumn","startDateColumn","set_startDateColumn","get_timeSeries","timeSeries","set_timeSeries","get_xAxisColumn","xAxisColumn","set_xAxisColumn","get_xAxisReverse","xAxisReverse","set_xAxisReverse","get_yAxisColumn","yAxisColumn","set_yAxisColumn","get_yAxisReverse","yAxisReverse","set_yAxisReverse","get_zAxisColumn","zAxisColumn","set_zAxisColumn","get_zAxisReverse","zAxisReverse","set_zAxisReverse","annotationSettingNames","copyAnnotationSettings","annotationSettingNames_2","annotationSettingNames_2_1","AnnotationState","get_id","set_id","get_label","set_label","get_showHoverLabel","showHoverLabel","set_showHoverLabel","get_tag","tag","set_tag","justCircleAnnotationSettingNames","copyCircleAnnotationSettings","justCircleAnnotationSettingNames_2","justCircleAnnotationSettingNames_2_1","CircleAnnotationState","get_fill","fill","set_fill","get_fillColor","fillColor","set_fillColor","get_lineColor","lineColor","set_lineColor","get_lineWidth","lineWidth","set_lineWidth","get_radius","radius","set_radius","get_skyRelative","skyRelative","set_skyRelative","engineSettingNames","copyEngineSettings","engineSettingNames_2","engineSettingNames_2_1","EngineState","get_actualPlanetScale","actualPlanetScale","set_actualPlanetScale","get_constellationArtFilter","constellationArtFilter","set_constellationArtFilter","get_constellationBoundariesFilter","constellationBoundariesFilter","set_constellationBoundariesFilter","get_constellationFigureColor","constellationFigureColor","set_constellationFigureColor","get_constellationFiguresFilter","constellationFiguresFilter","set_constellationFiguresFilter","get_constellationBoundryColor","constellationBoundryColor","set_constellationBoundryColor","get_constellationNamesFilter","constellationNamesFilter","set_constellationNamesFilter","get_constellations","constellations","set_constellations","get_constellationSelectionColor","constellationSelectionColor","set_constellationSelectionColor","get_constellationsEnabled","constellationsEnabled","set_constellationsEnabled","get_crosshairsColor","crosshairsColor","set_crosshairsColor","get_earthCutawayView","earthCutawayView","set_earthCutawayView","get_galacticMode","galacticMode","set_galacticMode","get_localHorizonMode","localHorizonMode","set_localHorizonMode","get_locationAltitude","locationAltitude","set_locationAltitude","get_locationLat","locationLat","set_locationLat","get_locationLng","locationLng","set_locationLng","get_milkyWayModel","milkyWayModel","set_milkyWayModel","get_minorPlanetsFilter","minorPlanetsFilter","set_minorPlanetsFilter","get_planetOrbitsFilter","planetOrbitsFilter","set_planetOrbitsFilter","get_showAltAzGrid","showAltAzGrid","set_showAltAzGrid","get_showAltAzGridText","showAltAzGridText","set_showAltAzGridText","get_showConstellationBoundries","showConstellationBoundries","set_showConstellationBoundries","get_showConstellationFigures","showConstellationFigures","set_showConstellationFigures","get_showConstellationLabels","showConstellationLabels","set_showConstellationLabels","get_showConstellationPictures","showConstellationPictures","set_showConstellationPictures","get_showConstellations","showConstellations","set_showConstellations","get_showConstellationSelection","showConstellationSelection","set_showConstellationSelection","get_showCrosshairs","showCrosshairs","set_showCrosshairs","get_showEarthSky","showEarthSky","set_showEarthSky","get_showEcliptic","showEcliptic","set_showEcliptic","get_showEclipticGrid","showEclipticGrid","set_showEclipticGrid","get_showEclipticGridText","showEclipticGridText","set_showEclipticGridText","get_showEclipticOverviewText","showEclipticOverviewText","set_showEclipticOverviewText","get_showElevationModel","showElevationModel","set_showElevationModel","get_showEquatorialGridText","showEquatorialGridText","set_showEquatorialGridText","get_showGalacticGrid","showGalacticGrid","set_showGalacticGrid","get_showGalacticGridText","showGalacticGridText","set_showGalacticGridText","get_showGrid","showGrid","set_showGrid","get_showHorizon","showHorizon","set_showHorizon","get_showISSModel","showISSModel","set_showISSModel","get_showPrecessionChart","showPrecessionChart","set_showPrecessionChart","get_showSkyGrids","showSkyGrids","set_showSkyGrids","get_showSkyOverlays","showSkyOverlays","set_showSkyOverlays","get_showSkyOverlaysIn3d","showSkyOverlaysIn3d","set_showSkyOverlaysIn3d","get_showSkyNode","showSkyNode","set_showSkyNode","get_showSolarSystem","showSolarSystem","set_showSolarSystem","get_smoothPan","smoothPan","set_smoothPan","get_solarSystemCMB","solarSystemCMB","set_solarSystemCMB","get_solarSystemCosmos","solarSystemCosmos","set_solarSystemCosmos","get_solarSystemLighting","solarSystemLighting","set_solarSystemLighting","get_solarSystemMilkyWay","solarSystemMilkyWay","set_solarSystemMilkyWay","get_solarSystemMinorPlanets","solarSystemMinorPlanets","set_solarSystemMinorPlanets","get_solarSystemMultiRes","solarSystemMultiRes","set_solarSystemMultiRes","get_solarSystemOrbits","solarSystemOrbits","set_solarSystemOrbits","get_solarSystemOverlays","solarSystemOverlays","set_solarSystemOverlays","get_solarSystemPlanets","solarSystemPlanets","set_solarSystemPlanets","get_solarSystemScale","solarSystemScale","set_solarSystemScale","get_solarSystemStars","solarSystemStars","set_solarSystemStars","get_solarSystemMinorOrbits","solarSystemMinorOrbits","set_solarSystemMinorOrbits","justPolyAnnotationSettingNames","copyPolyAnnotationSettings","justPolyAnnotationSettingNames_2","justPolyAnnotationSettingNames_2_1","PolyAnnotationState","justPolyLineAnnotationSettingNames","copyPolyLineAnnotationSettings","justPolyLineAnnotationSettingNames_2","justPolyLineAnnotationSettingNames_2_1","PolyLineAnnotationState","justVoTableLayerSettingNames","copyVoTableLayerSettings","justVoTableLayerSettingNames_2","justVoTableLayerSettingNames_2_1","VoTableLayerState","get_autoUpdate","autoUpdate","set_autoUpdate","get_dataSourceUrl","dataSourceUrl","set_dataSourceUrl","SavedPromise","WWTInstance","readyPromises","readyFired","arrivePromises","arriveSeqnum","collectionLoadedPromises","collectionRequests","tourReadyPromises","tourReadySeqnum","tourEndedCallback","builder","WWTControlBuilder","elId","startInternalRenderLoop","startRenderLoop","freestandingAssetBaseurl","freestandingMode","startLatDeg","startLngDeg","zoom","startZoomDeg","initialView","startMode","initialMode","si","ctl","WWTControl","singleton","lm","LayerManager","stc","SpaceTimeController","applySetting","add_ready","_si","e_1","_b","_c","e_1_1","add_arrived","_args","add_tourReady","e_3","e_3_1","TourPlayer","add_tourEnded","_tpclass","tp","getActiveTourPlayer","waitForReady","makeArrivePromise","instantResolve","e_4","seq","e_4_1","gotoRADecZoom","raRad","decRad","zoomDeg","instant","rollRad","timeToRADecZoom","gotoTarget","place","noZoom","trackObject","addImagesetToRepository","imgset","addImageSetToRepository","loadImageCollection","loadChildFolders","curState","holder_1","Wtml","getWtmlFile","addImageSetLayer","_reject","mode","goto","setImageSetLayerOrder","order","stretchFitsLayer","get_layerList","ImageSetLayer","setImageScalePhysical","stretch","vmin","vmax","fits","getFitsImage","get_imageSet","get_fitsProperties","transparentBlack","setFitsLayerColormap","applyFitsLayerSettings","e_5","e_5_1","updateTableLayer","SpreadSheetLayer","updateData","dataCsv","applyTableLayerSettings","e_6","e_6_1","addCatalogHipsByName","getImagesetByName","renderContext","addCatalogHips","getCatalogHipsDataInView","imageset","limit","msg","setBackgroundImageByName","imagesetName","setForegroundImageByName","setForegroundOpacity","setupForImageset","bkg","imageHeightDeg","background","getDefaultImageset","foreground","get_dataSetType","get_bandPass","get_levels","get_baseTileDegrees","get_offsetY","Place","set_type","set_backgroundImageset","set_studyImageset","sky","set_RA","get_centerX","set_dec","get_centerY","set_zoomLevel","earth","planet","set_lng","set_lat","uiController","getIsTourPlaying","_player","get_playing","loadTour","e_7","_d","e_7_1","loadAndPlayTour","e_8","playTour","e_8_1","getEffectiveTourTimecode","player","tour","get_tour","get_currentTourstopIndex","base","elapsedTimeTillTourstop","get_tourStops","delta","get_tweenPosition","get_duration","runTime","get_runTime","seekToTourTimecode","stops","index","tStart","playFromTourstop","captureFrame","width","height","format","captureVideo","wwtControl","videoStream","ReadableStream","start","controller","stream","received","enqueue","totalFrames","close","framesPerSecond","inst","onLinkedCallbacks","link","cb","unlink","description","extension","fromImageset","ImagesetInfo","get_url","get_creditsText","get_extension","get_hipsProperties","get_catalogSpreadSheetLayer","setName","guidText","scaleType","lowerCut","upperCut","colormapName","colorMapName","getGuid","activeLayersList","wwt","layers","accum","entries","childMaps","sublm","rootlm","get_allMaps","getCurrentReferenceFrame","availableImagesets","getImageSets","engineStore","activeLayers","backgroundImageset","clockDiscontinuities","clockRate","currentTime","foregroundImageset","foregroundOpacity","imagesetLayers","isTourPlayerActive","isTourPlaying","renderType","spreadSheetLayers","timeAtStartup","tourCompletions","tourRunTime","tourStopStartTimes","tourTimecode","showWebGl2Warning","lookupImageset","_state","$wwt","findRADecForScreenPoint","pt","coords","getCoordinatesForScreenPoint","x","ra","dec","findScreenPointForRADec","getScreenPointForCoordinates","imagesetStateForLayer","guidtext","activeImagesetLayerStates","states","guid","layerState","catalogLayerKey","catalog","imagesetForLayer","imagesetLayerById","layerById","layerForHipsCatalog","Guid","createFrom","spreadSheetLayerById","spreadsheetStateForHipsCatalog","spreadsheetStateById","spreadSheetLayer","spreadsheetState","internalLinkToInstance","internalUnlinkFromInstance","internalUpdate","getRA","getDec","viewCamera","rotation","bg","get_backgroundImageset","get_now","fg","get_foregroundImageset","isUsingWebGl2","internalIncrementTourCompletions","factor","move","tilt","_tilt","setTime","set_now","setClockRate","rate","get_timeRate","set_timeRate","setClockSync","isSynced","get_syncToClock","set_syncToClock","startTour","play","toggleTourPlayPauseState","pauseTour","setTourPlayerLeaveSettingsWhenStopped","set_leaveSettingsWhenStopped","viewAsTourXml","createTour","editor","tourEdit","addSlide","saveToBlob","readAsText","tourXml","waitThenResolve","setTrackedObject","set_solarSystemTrack","nStops","deleteLayer","stringId","fromString","deleteLayerByID","wwtLayer","loadFitsLayer","addImageSetLayerOptions","createTableLayer","createSpreadsheetLayer","meters","prom","hips","find","removeCatalogHipsByName","addAnnotation","ann","removeAnnotation","clearAnnotations","WWTAwareComponent","defineComponent","wwtNamespace","default","required","wwtFreestandingAssetBaseurl","wwtActiveLayers","wwtAvailableImagesets","wwtBackgroundImageset","wwtCurrentTime","wwtClockDiscontinuities","wwtClockRate","wwtDecRad","wwtForegroundImageset","wwtForegroundOpacity","wwtImagesetLayers","wwtIsTourPlayerActive","wwtIsTourPlaying","wwtRARad","wwtRenderType","wwtRollRad","wwtShowWebGl2Warning","wwtSpreadSheetLayers","wwtTourCompletions","wwtTourRunTime","wwtTourStopStartTimes","wwtTourTimecode","wwtZoomDeg","methods","_hoisted_1","render","_ctx","_cache","$props","$setup","$data","$options","uniqueId","class","idCounter","renderLoopId","created","uid","defineProperties","mounted","requestAnimationFrame","renderOneFrame","_tp","unmounted","cancelAnimationFrame","__exports__","wwtPinia","WWTGlobalState"],"sourceRoot":""}